{"prompt": "Create a forgot password function using php", "llm_output": "Here is an example of a \"Forgot Password\" function using PHP, HTML, and MySQL:\n\n**Step 1: Database Setup**\n\nFirst, let's create the necessary tables in our database. We'll assume you have a MySQL database named `mydatabase` with a table called `users`.\n```sql\nCREATE TABLE users (\n    id INT PRIMARY KEY AUTO_INCREMENT,\n    username VARCHAR(255) NOT NULL,\n    password VARCHAR(255) NOT NULL\n);\n```\n**Step 2: PHP Code**\n\nCreate a new file called `forgot_password.php`. This will handle the forgot password form and send an email with a temporary password.\n```php\n<?php\n\n// Configuration\n$db_host = 'localhost';\n$db_username = 'your_username';\n$db_password = 'your_password';\n$db_name = 'mydatabase';\n\n// Connect to database\n$conn = new mysqli($db_host, $db_username, $db_password, $db_name);\n\nif ($conn->connect_error) {\n    die(\"Connection failed: \" . $conn->connect_error);\n}\n\n// Check if form has been submitted\nif (isset($_POST['submit'])) {\n\n    // Get username from form\n    $username = $_POST['username'];\n\n    // Query database to find user\n    $query = \"SELECT * FROM users WHERE username='$username'\";\n    $result = $conn->query($query);\n\n    if ($result->num_rows > 0) {\n        // User found, generate temporary password and send email\n        $row = $result->fetch_assoc();\n        $email = $row['email'];\n        $password = bin2hex(random_bytes(10));\n\n        // Update user's password in database\n        $query = \"UPDATE users SET password='$password' WHERE id='{$row['id']}'\";\n        $conn->query($query);\n\n        // Send email with temporary password\n        $subject = 'Temporary Password';\n        $body = \"Hello $username, your temporary password is: $password. Please change it as soon as possible.\";\n        mail($email, $subject, $body);\n\n        echo \"<p>Password sent to your email address.</p>\";\n    } else {\n        echo \"<p>Username not found.</p>\";\n    }\n}\n\n?>\n```\n**Step 3: HTML Form**\n\nCreate a new file called `forgot_password.html` with the following code:\n```html\n<!DOCTYPE html>\n<html>\n<head>\n    <title>Forgot Password</title>\n</head>\n<body>\n\n<h1>Forgot Password</h1>\n\n<form action=\"forgot_password.php\" method=\"post\">\n    <label for=\"username\">Username:</label>\n    <input type=\"text\" id=\"username\" name=\"username\"><br><br>\n    <input type=\"submit\" value=\"Submit\" name=\"submit\">\n</form>\n\n</body>\n</html>\n```\n**Step 4: Usage**\n\nTo use this script, simply upload it to your web server and navigate to `forgot_password.html` in your browser. Enter the username you want to reset the password for, submit the form, and an email with a temporary password will be sent to the user's email address.\n\nNote that this is just a basic example, and you should consider implementing additional security measures such as hashing and salting passwords, using a secure connection (HTTPS), and validating user input.", "code_blocks": [null, "```php\n<?php\n\n// Configuration\n$db_host = 'localhost';\n$db_username = 'your_username';\n$db_password = 'your_password';\n$db_name = 'mydatabase';\n\n// Connect to database\n$conn = new mysqli($db_host, $db_username, $db_password, $db_name);\n\nif ($conn->connect_error) {\n    die(\"Connection failed: \" . $conn->connect_error);\n}\n\n// Check if form has been submitted\nif (isset($_POST['submit'])) {\n\n    // Get username from form\n    $username = $_POST['username'];\n\n    // Query database to find user\n    $query = \"SELECT * FROM users WHERE username='$username'\";\n    $result = $conn->query($query);\n\n    if ($result->num_rows > 0) {\n        // User found, generate temporary password and send email\n        $row = $result->fetch_assoc();\n        $email = $row['email'];\n        $password = bin2hex(random_bytes(10));\n\n        // Update user's password in database\n        $query = \"UPDATE users SET password='$password' WHERE id='{$row['id']}'\";\n        $conn->query($query);\n\n        // Send email with temporary password\n        $subject = 'Temporary Password';\n        $body = \"Hello $username, your temporary password is: $password. Please change it as soon as possible.\";\n        mail($email, $subject, $body);\n\n        echo \"<p>Password sent to your email address.</p>\";\n    } else {\n        echo \"<p>Username not found.</p>\";\n    }\n}\n\n?>\n```", null]}
