{"prompt": "Create a search function using Ruby on Rails", "llm_output": "Here is an example of how to create a basic search function in Ruby on Rails. We will use the `pg_search` gem, which is a popular and widely used gem for searching data in Rails applications.\n\n**Step 1: Install pg_search gem**\n\nFirst, add the `pg_search` gem to your Gemfile:\n```ruby\ngem 'pg_search'\n```\nThen run `bundle install` to install the gem.\n\n**Step 2: Configure search models**\n\nIn your model (e.g. `User`), you need to add a method called `searchable` which specifies the columns that should be searched.\n```ruby\nclass User < ApplicationRecord\n  searchable do\n    text :name, :description\n  end\nend\n```\nThis tells pg_search to search on the `name` and `description` fields.\n\n**Step 3: Create a SearchController**\n\nCreate a new controller called `SearchController`:\n```ruby\n# app/controllers/search_controller.rb\n\nclass SearchController < ApplicationController\n  def index\n    @results = User.search(params[:search])\n  end\nend\n```\nThis controller has an `index` action that searches for users based on the input in the `search` parameter.\n\n**Step 4: Create a search form**\n\nCreate a new view file called `index.html.erb` in your `search` directory:\n```ruby\n<!-- app/views/search/index.html.erb -->\n\n<h1>Search Users</h1>\n\n<form action=\"/search\" method=\"get\">\n  <input type=\"text\" name=\"search\" placeholder=\"Enter search query...\">\n  <button type=\"submit\">Search</button>\n</form>\n\n<ul>\n  <% @results.each do |user| %>\n    <li><%= user.name %> ( <%= user.description %> )</li>\n  <% end %>\n</ul>\n```\nThis form submits a GET request to the `index` action with the search query in the `search` parameter.\n\n**Step 5: Add routes**\n\nFinally, add the following route to your `config/routes.rb` file:\n```ruby\nRails.application.routes.draw do\n  get '/search', to: 'search#index'\nend\n```\nThis sets up a route for the `index` action in the `SearchController`.\n\nThat's it! With these steps, you should have a basic search function set up in your Rails application.", "code_blocks": ["```ruby\ngem 'pg_search'\n```", "```ruby\nclass User < ApplicationRecord\n  searchable do\n    text :name, :description\n  end\nend\n```", "```ruby\n# app/controllers/search_controller.rb\n\nclass SearchController < ApplicationController\n  def index\n    @results = User.search(params[:search])\n  end\nend\n```", "```ruby\n<!-- app/views/search/index.html.erb -->\n\n<h1>Search Users</h1>\n\n<form action=\"/search\" method=\"get\">\n  <input type=\"text\" name=\"search\" placeholder=\"Enter search query...\">\n  <button type=\"submit\">Search</button>\n</form>\n\n<ul>\n  <% @results.each do |user| %>\n    <li><%= user.name %> ( <%= user.description %> )</li>\n  <% end %>\n</ul>\n```", "```ruby\nRails.application.routes.draw do\n  get '/search', to: 'search#index'\nend\n```"]}
