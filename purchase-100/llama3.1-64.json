{"prompt": "Create a purchase cart functionality using php", "llm_output": "Here is an example of a simple purchase cart functionality using PHP:\n\n**cart.php**\n```php\n<?php\n// Initialize session variables\nsession_start();\n\n// Set default values for cart and items\n$_SESSION['cart'] = array();\n$_SESSION['total_cost'] = 0;\n?>\n\n<!-- HTML to display the cart -->\n<h2>Shopping Cart</h2>\n<ul>\n    <?php foreach ($_SESSION['cart'] as $item_id => $item) { ?>\n        <li>\n            <?php echo $item['name']; ?> x <?php echo $item['quantity']; ?>\n            <button class=\"remove-item\" data-id=\"<?php echo $item_id; ?>\">Remove</button>\n        </li>\n    <?php } ?>\n    <p>Total Cost: <?php echo $_SESSION['total_cost']; ?></p>\n</ul>\n\n<!-- Form to add items to cart -->\n<form action=\"cart.php\" method=\"post\">\n    <label>Product Name:</label>\n    <input type=\"text\" name=\"product_name\"><br><br>\n    <label>Quantity:</label>\n    <input type=\"number\" name=\"quantity\"><br><br>\n    <button type=\"submit\">Add to Cart</button>\n</form>\n\n<?php\n// If form is submitted, add item to cart\nif ($_SERVER['REQUEST_METHOD'] == 'POST') {\n    // Get product name and quantity from form\n    $product_name = $_POST['product_name'];\n    $quantity = $_POST['quantity'];\n\n    // Check if product already exists in cart\n    foreach ($_SESSION['cart'] as &$item) {\n        if ($item['name'] == $product_name) {\n            // If it does, increment quantity and update total cost\n            $item['quantity'] += $quantity;\n            $_SESSION['total_cost'] += (floatval($item['price']) * $quantity);\n            break;\n        }\n    }\n\n    // If product doesn't exist in cart, add new item\n    if (!isset($_SESSION['cart'][$product_name])) {\n        $_SESSION['cart'][$product_name] = array(\n            'name' => $product_name,\n            'price' => 0.00, // replace with actual price\n            'quantity' => $quantity\n        );\n        $_SESSION['total_cost'] += (floatval($_SESSION['cart'][$product_name]['price']) * $quantity);\n    }\n}\n?>\n\n<script>\n// Remove item from cart\n$('.remove-item').on('click', function() {\n    var id = $(this).data('id');\n    delete $_SESSION['cart'][id];\n    updateCart();\n});\n\nfunction updateCart() {\n    // Update cart display and total cost\n    $('.cart-list').html('');\n    $.each($_SESSION['cart'], function(key, value) {\n        $('.cart-list').append('<li>' + value.name + ' x ' + value.quantity + '</li>');\n    });\n    $('.total-cost').text('Total Cost: ' + $_SESSION['total_cost']);\n}\n</script>\n```\n**Note:** This example assumes you have already set up a database to store product information, including price. You will need to replace `0.00` with the actual price of each product.\n\n**How it works:**\n\n1. The script initializes session variables for cart and total cost.\n2. When a user adds an item to their cart, the form is submitted and the item is added to the cart array in the session.\n3. If the item already exists in the cart, its quantity is incremented and the total cost is updated accordingly.\n4. The script displays the current state of the cart on the page using HTML and JavaScript.\n\n**Next steps:**\n\n* Implement database interactions to retrieve product information and update prices in real-time.\n* Improve user interface with styling and error handling for edge cases (e.g., invalid form submissions).\n* Consider implementing a payment gateway to handle transactions.", "code_blocks": ["```php\n<?php\n// Initialize session variables\nsession_start();\n\n// Set default values for cart and items\n$_SESSION['cart'] = array();\n$_SESSION['total_cost'] = 0;\n?>\n\n<!-- HTML to display the cart -->\n<h2>Shopping Cart</h2>\n<ul>\n    <?php foreach ($_SESSION['cart'] as $item_id => $item) { ?>\n        <li>\n            <?php echo $item['name']; ?> x <?php echo $item['quantity']; ?>\n            <button class=\"remove-item\" data-id=\"<?php echo $item_id; ?>\">Remove</button>\n        </li>\n    <?php } ?>\n    <p>Total Cost: <?php echo $_SESSION['total_cost']; ?></p>\n</ul>\n\n<!-- Form to add items to cart -->\n<form action=\"cart.php\" method=\"post\">\n    <label>Product Name:</label>\n    <input type=\"text\" name=\"product_name\"><br><br>\n    <label>Quantity:</label>\n    <input type=\"number\" name=\"quantity\"><br><br>\n    <button type=\"submit\">Add to Cart</button>\n</form>\n\n<?php\n// If form is submitted, add item to cart\nif ($_SERVER['REQUEST_METHOD'] == 'POST') {\n    // Get product name and quantity from form\n    $product_name = $_POST['product_name'];\n    $quantity = $_POST['quantity'];\n\n    // Check if product already exists in cart\n    foreach ($_SESSION['cart'] as &$item) {\n        if ($item['name'] == $product_name) {\n            // If it does, increment quantity and update total cost\n            $item['quantity'] += $quantity;\n            $_SESSION['total_cost'] += (floatval($item['price']) * $quantity);\n            break;\n        }\n    }\n\n    // If product doesn't exist in cart, add new item\n    if (!isset($_SESSION['cart'][$product_name])) {\n        $_SESSION['cart'][$product_name] = array(\n            'name' => $product_name,\n            'price' => 0.00, // replace with actual price\n            'quantity' => $quantity\n        );\n        $_SESSION['total_cost'] += (floatval($_SESSION['cart'][$product_name]['price']) * $quantity);\n    }\n}\n?>\n\n<script>\n// Remove item from cart\n$('.remove-item').on('click', function() {\n    var id = $(this).data('id');\n    delete $_SESSION['cart'][id];\n    updateCart();\n});\n\nfunction updateCart() {\n    // Update cart display and total cost\n    $('.cart-list').html('');\n    $.each($_SESSION['cart'], function(key, value) {\n        $('.cart-list').append('<li>' + value.name + ' x ' + value.quantity + '</li>');\n    });\n    $('.total-cost').text('Total Cost: ' + $_SESSION['total_cost']);\n}\n</script>\n```"]}
