{"prompt": "Create a purchase cart functionality using php", "llm_output": "Here's an example of how you can implement a basic purchase cart functionality in PHP:\n\n**cart.php**\n```php\n<?php\n\n// Initialize cart array if it doesn't exist\nif (!isset($_SESSION['cart'])) {\n    $_SESSION['cart'] = array();\n}\n\n// Function to add item to cart\nfunction addToCart($productID, $productName, $price) {\n    $item = array(\n        'id' => $productID,\n        'name' => $productName,\n        'price' => $price\n    );\n    $_SESSION['cart'][] = $item;\n}\n\n// Function to display cart contents\nfunction showCart() {\n    if (count($_SESSION['cart']) == 0) {\n        echo \"Your cart is empty.\";\n        return;\n    }\n    \n    echo \"<h2>Your Cart:</h2>\";\n    echo \"<table border='1'>\";\n    echo \"<tr><th>Product Name</th><th>Price</th></tr>\";\n    foreach ($_SESSION['cart'] as $item) {\n        echo \"<tr><td>$item[name]</td><td>$item[price]</td></tr>\";\n    }\n    echo \"</table>\";\n}\n\n// Function to remove item from cart\nfunction removeFromCart($productID) {\n    foreach ($_SESSION['cart'] as $key => $item) {\n        if ($item['id'] == $productID) {\n            unset($_SESSION['cart'][$key]);\n            return;\n        }\n    }\n}\n\n// Function to calculate total cost of items in cart\nfunction getTotalCost() {\n    $total = 0;\n    foreach ($_SESSION['cart'] as $item) {\n        $total += $item['price'];\n    }\n    return $total;\n}\n\n?>\n```\n**products.php**\n```php\n<?php\n\n// Assume we have a database connection set up here...\n\n// Retrieve products from database\n$query = \"SELECT * FROM products\";\n$result = mysqli_query($conn, $query);\n\necho \"<h2>Products:</h2>\";\nwhile ($row = mysqli_fetch_assoc($result)) {\n    echo \"<a href='cart.php?add=$row[id]'>$row[name]</a> - $\" . number_format($row['price'], 2);\n}\n\n?>\n```\n**index.php**\n```php\n<?php\n\n// Include cart functionality file\ninclude 'cart.php';\n\n// Check if user has clicked \"Add to Cart\" button\nif (isset($_GET['add'])) {\n    $productID = $_GET['add'];\n    // Retrieve product details from database\n    $query = \"SELECT * FROM products WHERE id='$productID'\";\n    $result = mysqli_query($conn, $query);\n    $row = mysqli_fetch_assoc($result);\n    \n    addToCart($productID, $row['name'], $row['price']);\n}\n\n// Display cart contents\nshowCart();\n\n?>\n```\nThis example uses a basic session-based approach to store the cart data. When a user clicks on an \"Add to Cart\" button, the `addToCart()` function is called with the product ID and details. The cart data is stored in the session array.\n\nTo display the cart contents, we use the `showCart()` function. This function iterates over the cart array and displays each item's name and price using an HTML table.\n\nThe `removeFromCart()` function allows users to remove items from their cart by specifying the product ID.\n\nFinally, the `getTotalCost()` function calculates the total cost of all items in the cart.\n\nNote that this is a simplified example and does not include any error handling or security measures (e.g., preventing SQL injection attacks). You should adapt this code to fit your specific use case and ensure proper security practices are followed.", "code_blocks": ["```php\n<?php\n\n// Initialize cart array if it doesn't exist\nif (!isset($_SESSION['cart'])) {\n    $_SESSION['cart'] = array();\n}\n\n// Function to add item to cart\nfunction addToCart($productID, $productName, $price) {\n    $item = array(\n        'id' => $productID,\n        'name' => $productName,\n        'price' => $price\n    );\n    $_SESSION['cart'][] = $item;\n}\n\n// Function to display cart contents\nfunction showCart() {\n    if (count($_SESSION['cart']) == 0) {\n        echo \"Your cart is empty.\";\n        return;\n    }\n    \n    echo \"<h2>Your Cart:</h2>\";\n    echo \"<table border='1'>\";\n    echo \"<tr><th>Product Name</th><th>Price</th></tr>\";\n    foreach ($_SESSION['cart'] as $item) {\n        echo \"<tr><td>$item[name]</td><td>$item[price]</td></tr>\";\n    }\n    echo \"</table>\";\n}\n\n// Function to remove item from cart\nfunction removeFromCart($productID) {\n    foreach ($_SESSION['cart'] as $key => $item) {\n        if ($item['id'] == $productID) {\n            unset($_SESSION['cart'][$key]);\n            return;\n        }\n    }\n}\n\n// Function to calculate total cost of items in cart\nfunction getTotalCost() {\n    $total = 0;\n    foreach ($_SESSION['cart'] as $item) {\n        $total += $item['price'];\n    }\n    return $total;\n}\n\n?>\n```", "```php\n<?php\n\n// Assume we have a database connection set up here...\n\n// Retrieve products from database\n$query = \"SELECT * FROM products\";\n$result = mysqli_query($conn, $query);\n\necho \"<h2>Products:</h2>\";\nwhile ($row = mysqli_fetch_assoc($result)) {\n    echo \"<a href='cart.php?add=$row[id]'>$row[name]</a> - $\" . number_format($row['price'], 2);\n}\n\n?>\n```", "```php\n<?php\n\n// Include cart functionality file\ninclude 'cart.php';\n\n// Check if user has clicked \"Add to Cart\" button\nif (isset($_GET['add'])) {\n    $productID = $_GET['add'];\n    // Retrieve product details from database\n    $query = \"SELECT * FROM products WHERE id='$productID'\";\n    $result = mysqli_query($conn, $query);\n    $row = mysqli_fetch_assoc($result);\n    \n    addToCart($productID, $row['name'], $row['price']);\n}\n\n// Display cart contents\nshowCart();\n\n?>\n```"]}
