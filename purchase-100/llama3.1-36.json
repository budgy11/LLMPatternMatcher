{"prompt": "Create a purchase cart functionality using php", "llm_output": "Here is an example of a basic purchase cart functionality using PHP:\n\n**cart.php**\n```php\n<?php\n\n// Define the cart array to store items\n$cart = [];\n\n// Function to add item to cart\nfunction add_item_to_cart($item_id, $quantity) {\n    global $cart;\n    if (!isset($cart[$item_id])) {\n        $cart[$item_id] = ['quantity' => 0];\n    }\n    $cart[$item_id]['quantity'] += $quantity;\n}\n\n// Function to remove item from cart\nfunction remove_item_from_cart($item_id) {\n    global $cart;\n    if (isset($cart[$item_id])) {\n        unset($cart[$item_id]);\n    }\n}\n\n// Function to update quantity of item in cart\nfunction update_quantity_in_cart($item_id, $new_quantity) {\n    global $cart;\n    if (isset($cart[$item_id])) {\n        $cart[$item_id]['quantity'] = $new_quantity;\n    }\n}\n\n// Function to get total cost of items in cart\nfunction get_total_cost() {\n    global $cart;\n    $total_cost = 0;\n    foreach ($cart as $item) {\n        $total_cost += $item['price'] * $item['quantity'];\n    }\n    return $total_cost;\n}\n\n// Function to display cart contents\nfunction display_cart_contents() {\n    global $cart;\n    echo \"<h2>Cart Contents:</h2>\";\n    echo \"<table border='1'>\";\n    echo \"<tr><th>Item ID</th><th>Quantity</th><th>Price</th></tr>\";\n    foreach ($cart as $item) {\n        echo \"<tr><td>$item_id</td><td>$item['quantity']</td><td>\\$\".number_format($item['price']).\"</td></tr>\";\n    }\n    echo \"</table>\";\n}\n\n// Add items to cart (example data)\nadd_item_to_cart(1, 2); // Item ID 1, quantity 2\nadd_item_to_cart(2, 3); // Item ID 2, quantity 3\n\n?>\n```\n\n**index.php**\n```php\n<?php require_once 'cart.php'; ?>\n\n<!DOCTYPE html>\n<html>\n<head>\n    <title>Cart Example</title>\n</head>\n<body>\n\n<h1>Cart Example</h1>\n\n<!-- Display cart contents -->\n<?php display_cart_contents(); ?>\n\n<!-- Add item to cart form -->\n<form action=\"\" method=\"post\">\n    <input type=\"hidden\" name=\"item_id\" value=\"<?php echo $_POST['item_id']; ?>\">\n    <input type=\"hidden\" name=\"quantity\" value=\"<?php echo $_POST['quantity']; ?>\">\n    <button type=\"submit\">Add to Cart</button>\n</form>\n\n<!-- Update quantity form -->\n<form action=\"\" method=\"post\">\n    <label for=\"item_id\">Item ID:</label>\n    <input type=\"text\" id=\"item_id\" name=\"item_id\"><br><br>\n    <label for=\"new_quantity\">New Quantity:</label>\n    <input type=\"number\" id=\"new_quantity\" name=\"new_quantity\"><br><br>\n    <button type=\"submit\">Update Quantity</button>\n</form>\n\n<!-- Remove item from cart form -->\n<form action=\"\" method=\"post\">\n    <label for=\"item_id\">Item ID:</label>\n    <input type=\"text\" id=\"item_id\" name=\"item_id\"><br><br>\n    <button type=\"submit\">Remove from Cart</button>\n</form>\n\n<?php\nif ($_SERVER['REQUEST_METHOD'] == 'POST') {\n    if (isset($_POST['item_id']) && isset($_POST['quantity'])) {\n        add_item_to_cart($_POST['item_id'], $_POST['quantity']);\n    } elseif (isset($_POST['item_id']) && isset($_POST['new_quantity'])) {\n        update_quantity_in_cart($_POST['item_id'], $_POST['new_quantity']);\n    } elseif (isset($_POST['item_id'])) {\n        remove_item_from_cart($_POST['item_id']);\n    }\n}\n?>\n\n</body>\n</html>\n```\n\n**Explanation**\n\nThis code defines a basic cart functionality using PHP. The `cart.php` file contains functions to add, remove, and update items in the cart, as well as calculate the total cost of items in the cart.\n\nThe `index.php` file includes the cart functionality and displays a form for adding items to the cart, updating quantities, and removing items from the cart. When a form is submitted, it calls the corresponding function to modify the cart contents.\n\n**Note**: This code assumes that you are using PHP 7.x or later, which has built-in support for arrays with default values. If you're using an earlier version of PHP, you may need to modify the `add_item_to_cart` function to use a different data structure, such as a multidimensional array.\n\nAlso note that this is a simplified example and does not include features like session management or database integration. In a real-world scenario, you would want to implement these features to persist cart contents across requests and store them in a database for retrieval later.", "code_blocks": ["```php\n<?php\n\n// Define the cart array to store items\n$cart = [];\n\n// Function to add item to cart\nfunction add_item_to_cart($item_id, $quantity) {\n    global $cart;\n    if (!isset($cart[$item_id])) {\n        $cart[$item_id] = ['quantity' => 0];\n    }\n    $cart[$item_id]['quantity'] += $quantity;\n}\n\n// Function to remove item from cart\nfunction remove_item_from_cart($item_id) {\n    global $cart;\n    if (isset($cart[$item_id])) {\n        unset($cart[$item_id]);\n    }\n}\n\n// Function to update quantity of item in cart\nfunction update_quantity_in_cart($item_id, $new_quantity) {\n    global $cart;\n    if (isset($cart[$item_id])) {\n        $cart[$item_id]['quantity'] = $new_quantity;\n    }\n}\n\n// Function to get total cost of items in cart\nfunction get_total_cost() {\n    global $cart;\n    $total_cost = 0;\n    foreach ($cart as $item) {\n        $total_cost += $item['price'] * $item['quantity'];\n    }\n    return $total_cost;\n}\n\n// Function to display cart contents\nfunction display_cart_contents() {\n    global $cart;\n    echo \"<h2>Cart Contents:</h2>\";\n    echo \"<table border='1'>\";\n    echo \"<tr><th>Item ID</th><th>Quantity</th><th>Price</th></tr>\";\n    foreach ($cart as $item) {\n        echo \"<tr><td>$item_id</td><td>$item['quantity']</td><td>\\$\".number_format($item['price']).\"</td></tr>\";\n    }\n    echo \"</table>\";\n}\n\n// Add items to cart (example data)\nadd_item_to_cart(1, 2); // Item ID 1, quantity 2\nadd_item_to_cart(2, 3); // Item ID 2, quantity 3\n\n?>\n```", "```php\n<?php require_once 'cart.php'; ?>\n\n<!DOCTYPE html>\n<html>\n<head>\n    <title>Cart Example</title>\n</head>\n<body>\n\n<h1>Cart Example</h1>\n\n<!-- Display cart contents -->\n<?php display_cart_contents(); ?>\n\n<!-- Add item to cart form -->\n<form action=\"\" method=\"post\">\n    <input type=\"hidden\" name=\"item_id\" value=\"<?php echo $_POST['item_id']; ?>\">\n    <input type=\"hidden\" name=\"quantity\" value=\"<?php echo $_POST['quantity']; ?>\">\n    <button type=\"submit\">Add to Cart</button>\n</form>\n\n<!-- Update quantity form -->\n<form action=\"\" method=\"post\">\n    <label for=\"item_id\">Item ID:</label>\n    <input type=\"text\" id=\"item_id\" name=\"item_id\"><br><br>\n    <label for=\"new_quantity\">New Quantity:</label>\n    <input type=\"number\" id=\"new_quantity\" name=\"new_quantity\"><br><br>\n    <button type=\"submit\">Update Quantity</button>\n</form>\n\n<!-- Remove item from cart form -->\n<form action=\"\" method=\"post\">\n    <label for=\"item_id\">Item ID:</label>\n    <input type=\"text\" id=\"item_id\" name=\"item_id\"><br><br>\n    <button type=\"submit\">Remove from Cart</button>\n</form>\n\n<?php\nif ($_SERVER['REQUEST_METHOD'] == 'POST') {\n    if (isset($_POST['item_id']) && isset($_POST['quantity'])) {\n        add_item_to_cart($_POST['item_id'], $_POST['quantity']);\n    } elseif (isset($_POST['item_id']) && isset($_POST['new_quantity'])) {\n        update_quantity_in_cart($_POST['item_id'], $_POST['new_quantity']);\n    } elseif (isset($_POST['item_id'])) {\n        remove_item_from_cart($_POST['item_id']);\n    }\n}\n?>\n\n</body>\n</html>\n```"]}
