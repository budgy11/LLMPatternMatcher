{"prompt": "Create a purchase cart functionality using php", "llm_output": "Here is an example of how to create a basic purchase cart functionality using PHP:\n\n**cart.php**\n```php\n<?php\nsession_start();\n\n// Initialize cart array if it doesn't exist\nif (!isset($_SESSION['cart'])) {\n    $_SESSION['cart'] = array();\n}\n\n// Function to add item to cart\nfunction add_item($product_id, $quantity) {\n    global $_SESSION;\n    if (isset($_SESSION['cart'][$product_id])) {\n        $_SESSION['cart'][$product_id]['quantity'] += $quantity;\n    } else {\n        $_SESSION['cart'][$product_id] = array('quantity' => $quantity);\n    }\n}\n\n// Function to remove item from cart\nfunction remove_item($product_id) {\n    global $_SESSION;\n    unset($_SESSION['cart'][$product_id]);\n}\n\n// Function to update quantity of an item in the cart\nfunction update_quantity($product_id, $new_quantity) {\n    global $_SESSION;\n    if (isset($_SESSION['cart'][$product_id])) {\n        $_SESSION['cart'][$product_id]['quantity'] = $new_quantity;\n    }\n}\n\n// Function to calculate total cost of items in cart\nfunction calculate_total() {\n    global $_SESSION;\n    $total = 0;\n    foreach ($_SESSION['cart'] as $item) {\n        $total += $item['quantity'] * $item['price'];\n    }\n    return $total;\n}\n\n// Example product data\n$products = array(\n    array('id' => 1, 'name' => 'Product A', 'price' => 9.99),\n    array('id' => 2, 'name' => 'Product B', 'price' => 14.99),\n    array('id' => 3, 'name' => 'Product C', 'price' => 19.99)\n);\n\n?>\n```\n**index.php**\n```php\n<?php include 'cart.php'; ?>\n\n<html>\n<head>\n    <title>Shopping Cart</title>\n</head>\n<body>\n\n<h1>Shopping Cart</h1>\n\n<form action=\"add_item.php\" method=\"post\">\n    <select name=\"product_id\">\n        <?php foreach ($products as $product) { ?>\n            <option value=\"<?php echo $product['id']; ?>\"><?php echo $product['name']; ?> - <?php echo $product['price']; ?></option>\n        <?php } ?>\n    </select>\n    <input type=\"text\" name=\"quantity\" placeholder=\"Quantity\">\n    <button type=\"submit\">Add to Cart</button>\n</form>\n\n<h2>Cart Contents:</h2>\n\n<ul>\n    <?php foreach ($_SESSION['cart'] as $product_id => $item) { ?>\n        <li><?php echo $products[$product_id]['name']; ?> x <?php echo $item['quantity']; ?> = <?php echo $products[$product_id]['price'] * $item['quantity']; ?></li>\n    <?php } ?>\n</ul>\n\n<h2>Total:</h2>\n<p><?php echo calculate_total(); ?></p>\n\n<form action=\"remove_item.php\" method=\"post\">\n    <select name=\"product_id\">\n        <?php foreach ($products as $product) { ?>\n            <option value=\"<?php echo $product['id']; ?>\"><?php echo $product['name']; ?> - <?php echo $product['price']; ?></option>\n        <?php } ?>\n    </select>\n    <button type=\"submit\">Remove from Cart</button>\n</form>\n\n<form action=\"update_quantity.php\" method=\"post\">\n    <select name=\"product_id\">\n        <?php foreach ($products as $product) { ?>\n            <option value=\"<?php echo $product['id']; ?>\"><?php echo $product['name']; ?> - <?php echo $product['price']; ?></option>\n        <?php } ?>\n    </select>\n    <input type=\"text\" name=\"new_quantity\" placeholder=\"New Quantity\">\n    <button type=\"submit\">Update Quantity</button>\n</form>\n\n</body>\n</html>\n```\n**add_item.php**\n```php\n<?php include 'cart.php'; ?>\n\n<?php add_item($_POST['product_id'], $_POST['quantity']); ?>\n<meta http-equiv=\"refresh\" content=\"0; url=index.php\">\n```\n**remove_item.php**\n```php\n<?php include 'cart.php'; ?>\n\n<?php remove_item($_POST['product_id']); ?>\n<meta http-equiv=\"refresh\" content=\"0; url=index.php\">\n```\n**update_quantity.php**\n```php\n<?php include 'cart.php'; ?>\n\n<?php update_quantity($_POST['product_id'], $_POST['new_quantity']); ?>\n<meta http-equiv=\"refresh\" content=\"0; url=index.php\">\n```\nThis example includes the following functionality:\n\n1. **Adding items to cart**: The user selects a product and quantity from a dropdown menu, enters their selection into a form, and clicks \"Add to Cart\". The `add_item` function is called, which adds or updates the item in the cart.\n2. **Removing items from cart**: The user selects a product from a dropdown menu, enters their selection into a form, and clicks \"Remove from Cart\". The `remove_item` function is called, which removes the item from the cart.\n3. **Updating quantity of an item in cart**: The user selects a product from a dropdown menu, enters their new quantity into a form, and clicks \"Update Quantity\". The `update_quantity` function is called, which updates the quantity of the item in the cart.\n\nThe `calculate_total` function calculates the total cost of all items in the cart by summing up the prices of each item multiplied by its quantity.\n\nNote that this example uses a simple array to store the cart contents. In a real-world application, you would likely want to use a more robust data storage solution, such as a database.", "code_blocks": ["```php\n<?php\nsession_start();\n\n// Initialize cart array if it doesn't exist\nif (!isset($_SESSION['cart'])) {\n    $_SESSION['cart'] = array();\n}\n\n// Function to add item to cart\nfunction add_item($product_id, $quantity) {\n    global $_SESSION;\n    if (isset($_SESSION['cart'][$product_id])) {\n        $_SESSION['cart'][$product_id]['quantity'] += $quantity;\n    } else {\n        $_SESSION['cart'][$product_id] = array('quantity' => $quantity);\n    }\n}\n\n// Function to remove item from cart\nfunction remove_item($product_id) {\n    global $_SESSION;\n    unset($_SESSION['cart'][$product_id]);\n}\n\n// Function to update quantity of an item in the cart\nfunction update_quantity($product_id, $new_quantity) {\n    global $_SESSION;\n    if (isset($_SESSION['cart'][$product_id])) {\n        $_SESSION['cart'][$product_id]['quantity'] = $new_quantity;\n    }\n}\n\n// Function to calculate total cost of items in cart\nfunction calculate_total() {\n    global $_SESSION;\n    $total = 0;\n    foreach ($_SESSION['cart'] as $item) {\n        $total += $item['quantity'] * $item['price'];\n    }\n    return $total;\n}\n\n// Example product data\n$products = array(\n    array('id' => 1, 'name' => 'Product A', 'price' => 9.99),\n    array('id' => 2, 'name' => 'Product B', 'price' => 14.99),\n    array('id' => 3, 'name' => 'Product C', 'price' => 19.99)\n);\n\n?>\n```", "```php\n<?php include 'cart.php'; ?>\n\n<html>\n<head>\n    <title>Shopping Cart</title>\n</head>\n<body>\n\n<h1>Shopping Cart</h1>\n\n<form action=\"add_item.php\" method=\"post\">\n    <select name=\"product_id\">\n        <?php foreach ($products as $product) { ?>\n            <option value=\"<?php echo $product['id']; ?>\"><?php echo $product['name']; ?> - <?php echo $product['price']; ?></option>\n        <?php } ?>\n    </select>\n    <input type=\"text\" name=\"quantity\" placeholder=\"Quantity\">\n    <button type=\"submit\">Add to Cart</button>\n</form>\n\n<h2>Cart Contents:</h2>\n\n<ul>\n    <?php foreach ($_SESSION['cart'] as $product_id => $item) { ?>\n        <li><?php echo $products[$product_id]['name']; ?> x <?php echo $item['quantity']; ?> = <?php echo $products[$product_id]['price'] * $item['quantity']; ?></li>\n    <?php } ?>\n</ul>\n\n<h2>Total:</h2>\n<p><?php echo calculate_total(); ?></p>\n\n<form action=\"remove_item.php\" method=\"post\">\n    <select name=\"product_id\">\n        <?php foreach ($products as $product) { ?>\n            <option value=\"<?php echo $product['id']; ?>\"><?php echo $product['name']; ?> - <?php echo $product['price']; ?></option>\n        <?php } ?>\n    </select>\n    <button type=\"submit\">Remove from Cart</button>\n</form>\n\n<form action=\"update_quantity.php\" method=\"post\">\n    <select name=\"product_id\">\n        <?php foreach ($products as $product) { ?>\n            <option value=\"<?php echo $product['id']; ?>\"><?php echo $product['name']; ?> - <?php echo $product['price']; ?></option>\n        <?php } ?>\n    </select>\n    <input type=\"text\" name=\"new_quantity\" placeholder=\"New Quantity\">\n    <button type=\"submit\">Update Quantity</button>\n</form>\n\n</body>\n</html>\n```", "```php\n<?php include 'cart.php'; ?>\n\n<?php add_item($_POST['product_id'], $_POST['quantity']); ?>\n<meta http-equiv=\"refresh\" content=\"0; url=index.php\">\n```", "```php\n<?php include 'cart.php'; ?>\n\n<?php remove_item($_POST['product_id']); ?>\n<meta http-equiv=\"refresh\" content=\"0; url=index.php\">\n```", "```php\n<?php include 'cart.php'; ?>\n\n<?php update_quantity($_POST['product_id'], $_POST['new_quantity']); ?>\n<meta http-equiv=\"refresh\" content=\"0; url=index.php\">\n```"]}
