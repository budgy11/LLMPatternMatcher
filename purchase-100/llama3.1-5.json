{"prompt": "Create a purchase cart functionality using php", "llm_output": "Here is an example of how to create a basic purchase cart functionality using PHP:\n\n**cart.php**\n```php\n<?php\n// Initialize cart session\nif (!isset($_SESSION['cart'])) {\n  $_SESSION['cart'] = array();\n}\n\n// Function to add item to cart\nfunction addToCart($item_id, $quantity) {\n  global $_SESSION;\n  if (array_key_exists($item_id, $_SESSION['cart'])) {\n    // If item is already in cart, increment quantity\n    $_SESSION['cart'][$item_id] += $quantity;\n  } else {\n    // Add new item to cart with specified quantity\n    $_SESSION['cart'][$item_id] = $quantity;\n  }\n}\n\n// Function to update item quantity in cart\nfunction updateItemQuantity($item_id, $new_quantity) {\n  global $_SESSION;\n  if (array_key_exists($item_id, $_SESSION['cart'])) {\n    // Update item quantity\n    $_SESSION['cart'][$item_id] = $new_quantity;\n  }\n}\n\n// Function to remove item from cart\nfunction removeFromCart($item_id) {\n  global $_SESSION;\n  if (array_key_exists($item_id, $_SESSION['cart'])) {\n    // Remove item from cart\n    unset($_SESSION['cart'][$item_id]);\n  }\n}\n\n// Function to display cart contents\nfunction displayCart() {\n  global $_SESSION;\n  echo \"<h2>Shopping Cart</h2>\";\n  echo \"<table border='1'>\";\n  echo \"<tr><th>Item ID</th><th>Name</th><th>Quantity</th><th>Price</th></tr>\";\n  foreach ($_SESSION['cart'] as $item_id => $quantity) {\n    // Display item details from database (or other data source)\n    // For example:\n    // $db = new PDO('sqlite:example.db');\n    // $stmt = $db->prepare(\"SELECT * FROM products WHERE id=:id\");\n    // $stmt->bindParam(':id', $item_id);\n    // $stmt->execute();\n    // $row = $stmt->fetch();\n    // echo \"<tr><td>\" . $item_id . \"</td><td>\" . $row['name'] . \"</td><td>\" . $quantity . \"</td><td>\" . $row['price'] . \"</td></tr>\";\n  }\n  echo \"</table>\";\n}\n\n// Display cart contents\ndisplayCart();\n\n// Example usage:\n?>\n<form action=\"<?php echo $_SERVER['PHP_SELF']; ?>\" method=\"post\">\n  <input type=\"hidden\" name=\"item_id\" value=\"123\">\n  <input type=\"text\" name=\"quantity\" placeholder=\"Quantity\">\n  <button type=\"submit\">Add to Cart</button>\n</form>\n\n<?php\nif (isset($_POST['item_id']) && isset($_POST['quantity'])) {\n  addToCart($_POST['item_id'], $_POST['quantity']);\n}\n\n// Display cart contents again after adding item\ndisplayCart();\n?>\n```\n**Example usage:**\n\n1. Create a new PHP file called `cart.php`.\n2. Add the above code to the file.\n3. Open the file in your web browser.\n4. Fill out the form with an item ID and quantity, and submit it.\n5. The cart contents will be displayed on the page.\n\nNote that this is a basic example and you may want to add additional functionality, such as:\n\n* Data validation for item IDs and quantities\n* Error handling for database queries (if using a database)\n* Support for multiple items in one request\n* Calculating subtotal and total costs\n* Displaying cart contents with more details (e.g. images, descriptions)\n\nAlso, this example uses the SQLite database driver as an example of how to retrieve item data from a database. You should replace this with your own database driver and query code.\n\n**Commit message:**\n```bash\nfeat(cart): add basic purchase cart functionality using PHP\n```\nThis commit message follows the standard [Conventional Commits](https://conventionalcommits.org/) format, indicating that it's a feature addition (feat) related to cart functionality.", "code_blocks": ["```php\n<?php\n// Initialize cart session\nif (!isset($_SESSION['cart'])) {\n  $_SESSION['cart'] = array();\n}\n\n// Function to add item to cart\nfunction addToCart($item_id, $quantity) {\n  global $_SESSION;\n  if (array_key_exists($item_id, $_SESSION['cart'])) {\n    // If item is already in cart, increment quantity\n    $_SESSION['cart'][$item_id] += $quantity;\n  } else {\n    // Add new item to cart with specified quantity\n    $_SESSION['cart'][$item_id] = $quantity;\n  }\n}\n\n// Function to update item quantity in cart\nfunction updateItemQuantity($item_id, $new_quantity) {\n  global $_SESSION;\n  if (array_key_exists($item_id, $_SESSION['cart'])) {\n    // Update item quantity\n    $_SESSION['cart'][$item_id] = $new_quantity;\n  }\n}\n\n// Function to remove item from cart\nfunction removeFromCart($item_id) {\n  global $_SESSION;\n  if (array_key_exists($item_id, $_SESSION['cart'])) {\n    // Remove item from cart\n    unset($_SESSION['cart'][$item_id]);\n  }\n}\n\n// Function to display cart contents\nfunction displayCart() {\n  global $_SESSION;\n  echo \"<h2>Shopping Cart</h2>\";\n  echo \"<table border='1'>\";\n  echo \"<tr><th>Item ID</th><th>Name</th><th>Quantity</th><th>Price</th></tr>\";\n  foreach ($_SESSION['cart'] as $item_id => $quantity) {\n    // Display item details from database (or other data source)\n    // For example:\n    // $db = new PDO('sqlite:example.db');\n    // $stmt = $db->prepare(\"SELECT * FROM products WHERE id=:id\");\n    // $stmt->bindParam(':id', $item_id);\n    // $stmt->execute();\n    // $row = $stmt->fetch();\n    // echo \"<tr><td>\" . $item_id . \"</td><td>\" . $row['name'] . \"</td><td>\" . $quantity . \"</td><td>\" . $row['price'] . \"</td></tr>\";\n  }\n  echo \"</table>\";\n}\n\n// Display cart contents\ndisplayCart();\n\n// Example usage:\n?>\n<form action=\"<?php echo $_SERVER['PHP_SELF']; ?>\" method=\"post\">\n  <input type=\"hidden\" name=\"item_id\" value=\"123\">\n  <input type=\"text\" name=\"quantity\" placeholder=\"Quantity\">\n  <button type=\"submit\">Add to Cart</button>\n</form>\n\n<?php\nif (isset($_POST['item_id']) && isset($_POST['quantity'])) {\n  addToCart($_POST['item_id'], $_POST['quantity']);\n}\n\n// Display cart contents again after adding item\ndisplayCart();\n?>\n```", null]}
