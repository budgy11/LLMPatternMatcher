{"prompt": "Create a purchase functionality using php", "llm_output": "Here is an example of a simple purchase functionality in PHP, including HTML and CSS for layout:\n\n**index.php**\n```php\n<?php\n// Database connection settings\n$servername = \"localhost\";\n$username = \"root\";\n$password = \"\";\n$dbname = \"shop\";\n\n// Create connection\n$conn = new mysqli($servername, $username, $password, $dbname);\n\n// Check connection\nif ($conn->connect_error) {\n    die(\"Connection failed: \" . $conn->connect_error);\n}\n\n// Select product list\n$query = \"SELECT * FROM products\";\n$result = $conn->query($query);\n\n// Display products\n?>\n<!DOCTYPE html>\n<html lang=\"en\">\n<head>\n    <meta charset=\"UTF-8\">\n    <meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\">\n    <title>Shop</title>\n    <link rel=\"stylesheet\" href=\"styles.css\">\n</head>\n<body>\n    <h1>Shop</h1>\n    <ul>\n        <?php\n        // Display products in an unordered list\n        while ($row = $result->fetch_assoc()) {\n            echo \"<li>\";\n            echo \"<a href='product.php?id={$row['id']}'>\";\n            echo \"{$row['name']} - {$row['price']}\";\n            echo \"</a>\";\n            echo \"</li>\";\n        }\n        ?>\n    </ul>\n    <p><a href=\"cart.php\">View Cart</a></p>\n\n    <?php\n    // Close connection\n    $conn->close();\n    ?>\n</body>\n</html>\n```\n\n**product.php**\n```php\n<?php\n// Get product ID from URL parameter\n$id = $_GET['id'];\n\n// Database connection settings\n$servername = \"localhost\";\n$username = \"root\";\n$password = \"\";\n$dbname = \"shop\";\n\n// Create connection\n$conn = new mysqli($servername, $username, $password, $dbname);\n\n// Check connection\nif ($conn->connect_error) {\n    die(\"Connection failed: \" . $conn->connect_error);\n}\n\n// Select product details\n$query = \"SELECT * FROM products WHERE id = '$id'\";\n$result = $conn->query($query);\n\n// Display product details\n?>\n<!DOCTYPE html>\n<html lang=\"en\">\n<head>\n    <meta charset=\"UTF-8\">\n    <meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\">\n    <title>Product Details</title>\n    <link rel=\"stylesheet\" href=\"styles.css\">\n</head>\n<body>\n    <h1><?php echo $result->fetch_assoc()['name']; ?></h1>\n    <p>Price: <?php echo $result->fetch_assoc()['price']; ?></p>\n    <p>Description: <?php echo $result->fetch_assoc()['description']; ?></p>\n\n    <?php\n    // Display add to cart button\n    ?>\n    <form action=\"cart.php\" method=\"post\">\n        <input type=\"hidden\" name=\"product_id\" value=\"<?php echo $id; ?>\">\n        <button type=\"submit\">Add to Cart</button>\n    </form>\n\n    <?php\n    // Close connection\n    $conn->close();\n    ?>\n</body>\n</html>\n```\n\n**cart.php**\n```php\n<?php\n// Display cart contents\n?>\n<!DOCTYPE html>\n<html lang=\"en\">\n<head>\n    <meta charset=\"UTF-8\">\n    <meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\">\n    <title>Cart</title>\n    <link rel=\"stylesheet\" href=\"styles.css\">\n</head>\n<body>\n    <h1>Cart</h1>\n\n    <?php\n    // Display cart contents as an unordered list\n    $query = \"SELECT * FROM cart\";\n    $result = mysqli_query($conn, $query);\n    while ($row = $result->fetch_assoc()) {\n        echo \"<li>\";\n        echo \"{$row['product_name']} - {$row['price']}\";\n        echo \"</li>\";\n    }\n    ?>\n</body>\n</html>\n\n<?php\n// Close connection\n$conn->close();\n?>\n```\n\n**styles.css**\n```css\nbody {\n  font-family: Arial, sans-serif;\n}\n\nh1 {\n  color: #00698f;\n}\n\nul {\n  list-style-type: none;\n  padding: 0;\n  margin: 0;\n}\n\nli {\n  background-color: #f9f9f9;\n  border-bottom: 1px solid #ccc;\n  padding: 10px;\n  text-align: left;\n}\n\na {\n  color: #00698f;\n  text-decoration: none;\n}\n\na:hover {\n  color: #0080ff;\n}\n```\n\n**Database Schema**\n\nAssuming you have a MySQL database, the schema for this example would be:\n\n```sql\nCREATE TABLE products (\n  id INT PRIMARY KEY,\n  name VARCHAR(255),\n  price DECIMAL(10,2),\n  description TEXT\n);\n\nCREATE TABLE cart (\n  product_id INT,\n  product_name VARCHAR(255),\n  price DECIMAL(10,2)\n);\n```\n\n**Note**: This is a very basic example and does not include any validation or error checking. You should modify it to fit your specific needs and add security measures such as prepared statements to prevent SQL injection attacks.\n\nThis example demonstrates the following functionality:\n\n* Displaying a list of products on the index page\n* Displaying product details on a separate page (product.php)\n* Adding products to cart on the product page (cart.php)\n\nPlease let me know if you have any questions or need further clarification.", "code_blocks": ["```php\n<?php\n// Database connection settings\n$servername = \"localhost\";\n$username = \"root\";\n$password = \"\";\n$dbname = \"shop\";\n\n// Create connection\n$conn = new mysqli($servername, $username, $password, $dbname);\n\n// Check connection\nif ($conn->connect_error) {\n    die(\"Connection failed: \" . $conn->connect_error);\n}\n\n// Select product list\n$query = \"SELECT * FROM products\";\n$result = $conn->query($query);\n\n// Display products\n?>\n<!DOCTYPE html>\n<html lang=\"en\">\n<head>\n    <meta charset=\"UTF-8\">\n    <meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\">\n    <title>Shop</title>\n    <link rel=\"stylesheet\" href=\"styles.css\">\n</head>\n<body>\n    <h1>Shop</h1>\n    <ul>\n        <?php\n        // Display products in an unordered list\n        while ($row = $result->fetch_assoc()) {\n            echo \"<li>\";\n            echo \"<a href='product.php?id={$row['id']}'>\";\n            echo \"{$row['name']} - {$row['price']}\";\n            echo \"</a>\";\n            echo \"</li>\";\n        }\n        ?>\n    </ul>\n    <p><a href=\"cart.php\">View Cart</a></p>\n\n    <?php\n    // Close connection\n    $conn->close();\n    ?>\n</body>\n</html>\n```", "```php\n<?php\n// Get product ID from URL parameter\n$id = $_GET['id'];\n\n// Database connection settings\n$servername = \"localhost\";\n$username = \"root\";\n$password = \"\";\n$dbname = \"shop\";\n\n// Create connection\n$conn = new mysqli($servername, $username, $password, $dbname);\n\n// Check connection\nif ($conn->connect_error) {\n    die(\"Connection failed: \" . $conn->connect_error);\n}\n\n// Select product details\n$query = \"SELECT * FROM products WHERE id = '$id'\";\n$result = $conn->query($query);\n\n// Display product details\n?>\n<!DOCTYPE html>\n<html lang=\"en\">\n<head>\n    <meta charset=\"UTF-8\">\n    <meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\">\n    <title>Product Details</title>\n    <link rel=\"stylesheet\" href=\"styles.css\">\n</head>\n<body>\n    <h1><?php echo $result->fetch_assoc()['name']; ?></h1>\n    <p>Price: <?php echo $result->fetch_assoc()['price']; ?></p>\n    <p>Description: <?php echo $result->fetch_assoc()['description']; ?></p>\n\n    <?php\n    // Display add to cart button\n    ?>\n    <form action=\"cart.php\" method=\"post\">\n        <input type=\"hidden\" name=\"product_id\" value=\"<?php echo $id; ?>\">\n        <button type=\"submit\">Add to Cart</button>\n    </form>\n\n    <?php\n    // Close connection\n    $conn->close();\n    ?>\n</body>\n</html>\n```", "```php\n<?php\n// Display cart contents\n?>\n<!DOCTYPE html>\n<html lang=\"en\">\n<head>\n    <meta charset=\"UTF-8\">\n    <meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\">\n    <title>Cart</title>\n    <link rel=\"stylesheet\" href=\"styles.css\">\n</head>\n<body>\n    <h1>Cart</h1>\n\n    <?php\n    // Display cart contents as an unordered list\n    $query = \"SELECT * FROM cart\";\n    $result = mysqli_query($conn, $query);\n    while ($row = $result->fetch_assoc()) {\n        echo \"<li>\";\n        echo \"{$row['product_name']} - {$row['price']}\";\n        echo \"</li>\";\n    }\n    ?>\n</body>\n</html>\n\n<?php\n// Close connection\n$conn->close();\n?>\n```", null, null]}
