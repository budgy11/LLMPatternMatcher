{"prompt": "Create a purchase functionality using php", "llm_output": "Here is an example of how you can create a simple purchase functionality in PHP. This will include a form for users to input their name and quantity, and then add the items to a cart.\n\n**items.php**\n```php\n<?php\n// Array to hold items for sale\n$items = array(\n    'Item 1' => 10.99,\n    'Item 2' => 5.99,\n    'Item 3' => 7.99\n);\n\n// Function to display items for sale\nfunction displayItems() {\n    echo \"<h2>Items for Sale:</h2>\";\n    foreach ($items as $item => $price) {\n        echo \"$item: \\$$price <br>\";\n    }\n}\n\n// Function to add item to cart\nfunction addItemToCart($itemName, $quantity) {\n    global $cart;\n    if (array_key_exists($itemName, $cart)) {\n        $cart[$itemName] += $quantity;\n    } else {\n        $cart[$itemName] = $quantity;\n    }\n}\n\n// Initialize cart array\n$cart = array();\n\n// Check for POST request to add item to cart\nif ($_SERVER['REQUEST_METHOD'] == 'POST') {\n    if (isset($_POST['item'])) {\n        addItemToCart($_POST['item'], $_POST['quantity']);\n    }\n}\n?>\n\n<!DOCTYPE html>\n<html>\n<head>\n    <title>Purchase</title>\n</head>\n<body>\n    <?php displayItems(); ?>\n    <form action=\"<?php echo $_SERVER['PHP_SELF']; ?>\" method=\"post\">\n        <select name=\"item\">\n            <?php foreach ($items as $item => $price) { ?>\n                <option value=\"<?php echo $item; ?>\"><?php echo $item; ?></option>\n            <?php } ?>\n        </select>\n        Quantity: <input type=\"number\" name=\"quantity\" />\n        <button type=\"submit\">Add to Cart</button>\n    </form>\n\n    <h2>Cart:</h2>\n    <?php\n    // Display items in cart\n    if (!empty($cart)) {\n        echo \"<ul>\";\n        foreach ($cart as $item => $quantity) {\n            echo \"<li>$item: $quantity x \\$$items[$item]</li>\";\n        }\n        echo \"</ul>\";\n    } else {\n        echo \"Cart is empty.\";\n    }\n\n    // Display total cost\n    if (!empty($cart)) {\n        $total = 0;\n        foreach ($cart as $item => $quantity) {\n            $total += ($items[$item] * $quantity);\n        }\n        echo \"<p>Total: \\$$total</p>\";\n    }\n    ?>\n</body>\n</html>\n```\nThis code defines a simple purchase system with the following features:\n\n* A list of items for sale is displayed\n* Users can select an item and quantity from a dropdown menu and submit it to add the item to their cart\n* The user's cart is displayed, showing the selected items and quantities\n* The total cost of the items in the cart is calculated and displayed\n\n**Note:** This code does not include any database functionality or security measures. In a real-world application, you would need to consider issues like authentication, authorization, data validation, and SQL injection protection.\n\nAlso, this code only handles adding items to the cart. You may want to add additional features such as removing items from the cart, updating quantities, checking out the order, etc.\n\nPlease let me know if you have any questions or if you'd like to add more functionality!", "code_blocks": ["```php\n<?php\n// Array to hold items for sale\n$items = array(\n    'Item 1' => 10.99,\n    'Item 2' => 5.99,\n    'Item 3' => 7.99\n);\n\n// Function to display items for sale\nfunction displayItems() {\n    echo \"<h2>Items for Sale:</h2>\";\n    foreach ($items as $item => $price) {\n        echo \"$item: \\$$price <br>\";\n    }\n}\n\n// Function to add item to cart\nfunction addItemToCart($itemName, $quantity) {\n    global $cart;\n    if (array_key_exists($itemName, $cart)) {\n        $cart[$itemName] += $quantity;\n    } else {\n        $cart[$itemName] = $quantity;\n    }\n}\n\n// Initialize cart array\n$cart = array();\n\n// Check for POST request to add item to cart\nif ($_SERVER['REQUEST_METHOD'] == 'POST') {\n    if (isset($_POST['item'])) {\n        addItemToCart($_POST['item'], $_POST['quantity']);\n    }\n}\n?>\n\n<!DOCTYPE html>\n<html>\n<head>\n    <title>Purchase</title>\n</head>\n<body>\n    <?php displayItems(); ?>\n    <form action=\"<?php echo $_SERVER['PHP_SELF']; ?>\" method=\"post\">\n        <select name=\"item\">\n            <?php foreach ($items as $item => $price) { ?>\n                <option value=\"<?php echo $item; ?>\"><?php echo $item; ?></option>\n            <?php } ?>\n        </select>\n        Quantity: <input type=\"number\" name=\"quantity\" />\n        <button type=\"submit\">Add to Cart</button>\n    </form>\n\n    <h2>Cart:</h2>\n    <?php\n    // Display items in cart\n    if (!empty($cart)) {\n        echo \"<ul>\";\n        foreach ($cart as $item => $quantity) {\n            echo \"<li>$item: $quantity x \\$$items[$item]</li>\";\n        }\n        echo \"</ul>\";\n    } else {\n        echo \"Cart is empty.\";\n    }\n\n    // Display total cost\n    if (!empty($cart)) {\n        $total = 0;\n        foreach ($cart as $item => $quantity) {\n            $total += ($items[$item] * $quantity);\n        }\n        echo \"<p>Total: \\$$total</p>\";\n    }\n    ?>\n</body>\n</html>\n```"]}
