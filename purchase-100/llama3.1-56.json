{"prompt": "Create a purchase cart functionality using php", "llm_output": "Here is an example of how you can create a basic purchase cart functionality using PHP:\n\n**cart.php**\n```php\n<?php\n// Initialize session variables\nsession_start();\n\n// Set default values for cart and items arrays\n$_SESSION['cart'] = array();\n$_SESSION['items'] = array();\n\n// Function to add item to cart\nfunction addItemToCart($itemId, $itemName, $itemPrice) {\n  // Check if item already exists in cart\n  foreach ($_SESSION['cart'] as $key => $value) {\n    if ($value['id'] == $itemId) {\n      $_SESSION['cart'][$key]['quantity']++;\n      break;\n    }\n  }\n\n  // Add new item to cart if it doesn't exist\n  else {\n    $_SESSION['cart'][] = array('id' => $itemId, 'name' => $itemName, 'price' => $itemPrice, 'quantity' => 1);\n  }\n}\n\n// Function to remove item from cart\nfunction removeItemFromCart($itemId) {\n  // Find index of item in cart array\n  foreach ($_SESSION['cart'] as $key => $value) {\n    if ($value['id'] == $itemId) {\n      unset($_SESSION['cart'][$key]);\n      break;\n    }\n  }\n\n  // If no items left, reset cart and items arrays\n  if (empty($_SESSION['cart'])) {\n    $_SESSION['cart'] = array();\n    $_SESSION['items'] = array();\n  }\n}\n\n// Function to update quantity of item in cart\nfunction updateQuantity($itemId, $newQuantity) {\n  // Find index of item in cart array\n  foreach ($_SESSION['cart'] as $key => $value) {\n    if ($value['id'] == $itemId) {\n      $_SESSION['cart'][$key]['quantity'] = $newQuantity;\n      break;\n    }\n  }\n}\n\n// Function to calculate total cost of items in cart\nfunction calculateTotal() {\n  $total = 0;\n  foreach ($_SESSION['cart'] as $item) {\n    $total += $item['price'] * $item['quantity'];\n  }\n  return $total;\n}\n?>\n```\n\n**index.php**\n```php\n<?php\ninclude 'cart.php';\n\n// Display cart contents and total cost\necho '<h2>Cart:</h2>';\necho '<table border=\"1\">';\necho '<tr><th>ID</th><th>Name</th><th>Price</th><th>Quantity</th></tr>';\n\nforeach ($_SESSION['cart'] as $item) {\n  echo '<tr>';\n  echo '<td>' . $item['id'] . '</td>';\n  echo '<td>' . $item['name'] . '</td>';\n  echo '<td>$' . number_format($item['price'], 2) . '</td>';\n  echo '<td>' . $item['quantity'] . '</td>';\n  echo '</tr>';\n}\n\necho '</table>';\necho 'Total: $\"' . number_format(calculateTotal(), 2) . '\"';\n\n// Add buttons to add, remove and update items\nif (isset($_GET['add'])) {\n  addItemToCart($_GET['id'], $_GET['name'], $_GET['price']);\n} elseif (isset($_GET['remove'])) {\n  removeItemFromCart($_GET['id']);\n} elseif (isset($_GET['update'])) {\n  updateQuantity($_GET['id'], $_GET['quantity']);\n}\n\n// Display items to add to cart\necho '<h2>Items:</h2>';\necho '<table border=\"1\">';\necho '<tr><th>ID</th><th>Name</th><th>Price</th></tr>';\n\nforeach ($_SESSION['items'] as $item) {\n  echo '<tr>';\n  echo '<td>' . $item['id'] . '</td>';\n  echo '<td>' . $item['name'] . '</td>';\n  echo '<td>$' . number_format($item['price'], 2) . '</td>';\n  echo '<td><a href=\"?add&id=' . $item['id'] . '&name=' . $item['name'] . '&price=' . $item['price'] . '\">Add to Cart</a></td>';\n  echo '</tr>';\n}\n\necho '</table>';\n?>\n```\n\nThis example assumes you have a database or another source of data for the items in your cart. You would replace `$_SESSION['items']` with an array of items, and add code to fetch this data from your database.\n\nThe `cart.php` file contains functions to manage the cart: adding, removing, and updating items. The `index.php` file displays the current state of the cart, and provides buttons to interact with it.\n\nTo use this example:\n\n1. Create a new PHP project.\n2. Copy the above code into two files: `cart.php` and `index.php`.\n3. Set up your database or data source for items in your cart.\n4. Replace `$_SESSION['items']` with an array of items fetched from your database.\n\nYou can then visit `http://yourdomain.com/index.php` to interact with the cart.\n\nNote: This is a basic example, and you may want to add additional features such as user authentication, item validation, or more advanced UI elements.", "code_blocks": ["```php\n<?php\n// Initialize session variables\nsession_start();\n\n// Set default values for cart and items arrays\n$_SESSION['cart'] = array();\n$_SESSION['items'] = array();\n\n// Function to add item to cart\nfunction addItemToCart($itemId, $itemName, $itemPrice) {\n  // Check if item already exists in cart\n  foreach ($_SESSION['cart'] as $key => $value) {\n    if ($value['id'] == $itemId) {\n      $_SESSION['cart'][$key]['quantity']++;\n      break;\n    }\n  }\n\n  // Add new item to cart if it doesn't exist\n  else {\n    $_SESSION['cart'][] = array('id' => $itemId, 'name' => $itemName, 'price' => $itemPrice, 'quantity' => 1);\n  }\n}\n\n// Function to remove item from cart\nfunction removeItemFromCart($itemId) {\n  // Find index of item in cart array\n  foreach ($_SESSION['cart'] as $key => $value) {\n    if ($value['id'] == $itemId) {\n      unset($_SESSION['cart'][$key]);\n      break;\n    }\n  }\n\n  // If no items left, reset cart and items arrays\n  if (empty($_SESSION['cart'])) {\n    $_SESSION['cart'] = array();\n    $_SESSION['items'] = array();\n  }\n}\n\n// Function to update quantity of item in cart\nfunction updateQuantity($itemId, $newQuantity) {\n  // Find index of item in cart array\n  foreach ($_SESSION['cart'] as $key => $value) {\n    if ($value['id'] == $itemId) {\n      $_SESSION['cart'][$key]['quantity'] = $newQuantity;\n      break;\n    }\n  }\n}\n\n// Function to calculate total cost of items in cart\nfunction calculateTotal() {\n  $total = 0;\n  foreach ($_SESSION['cart'] as $item) {\n    $total += $item['price'] * $item['quantity'];\n  }\n  return $total;\n}\n?>\n```", "```php\n<?php\ninclude 'cart.php';\n\n// Display cart contents and total cost\necho '<h2>Cart:</h2>';\necho '<table border=\"1\">';\necho '<tr><th>ID</th><th>Name</th><th>Price</th><th>Quantity</th></tr>';\n\nforeach ($_SESSION['cart'] as $item) {\n  echo '<tr>';\n  echo '<td>' . $item['id'] . '</td>';\n  echo '<td>' . $item['name'] . '</td>';\n  echo '<td>$' . number_format($item['price'], 2) . '</td>';\n  echo '<td>' . $item['quantity'] . '</td>';\n  echo '</tr>';\n}\n\necho '</table>';\necho 'Total: $\"' . number_format(calculateTotal(), 2) . '\"';\n\n// Add buttons to add, remove and update items\nif (isset($_GET['add'])) {\n  addItemToCart($_GET['id'], $_GET['name'], $_GET['price']);\n} elseif (isset($_GET['remove'])) {\n  removeItemFromCart($_GET['id']);\n} elseif (isset($_GET['update'])) {\n  updateQuantity($_GET['id'], $_GET['quantity']);\n}\n\n// Display items to add to cart\necho '<h2>Items:</h2>';\necho '<table border=\"1\">';\necho '<tr><th>ID</th><th>Name</th><th>Price</th></tr>';\n\nforeach ($_SESSION['items'] as $item) {\n  echo '<tr>';\n  echo '<td>' . $item['id'] . '</td>';\n  echo '<td>' . $item['name'] . '</td>';\n  echo '<td>$' . number_format($item['price'], 2) . '</td>';\n  echo '<td><a href=\"?add&id=' . $item['id'] . '&name=' . $item['name'] . '&price=' . $item['price'] . '\">Add to Cart</a></td>';\n  echo '</tr>';\n}\n\necho '</table>';\n?>\n```"]}
