{"prompt": "Create a purchase cart functionality using php", "llm_output": "Here is an example of how you can implement a basic purchase cart functionality using PHP:\n\n**cart.php**\n```php\n<?php\n// Initialize the cart array\n$cart = [];\n\n// Function to add item to cart\nfunction add_to_cart($item_id, $quantity) {\n  global $cart;\n  if (isset($cart[$item_id])) {\n    // If item is already in cart, increment quantity\n    $cart[$item_id]['quantity'] += $quantity;\n  } else {\n    // Add new item to cart\n    $cart[$item_id] = ['price' => get_price($item_id), 'quantity' => $quantity];\n  }\n}\n\n// Function to remove item from cart\nfunction remove_from_cart($item_id) {\n  global $cart;\n  if (isset($cart[$item_id])) {\n    // Remove item from cart\n    unset($cart[$item_id]);\n  }\n}\n\n// Function to get total cost of items in cart\nfunction get_total_cost() {\n  global $cart;\n  $total = 0;\n  foreach ($cart as $item) {\n    $total += $item['price'] * $item['quantity'];\n  }\n  return $total;\n}\n\n// Function to display cart contents\nfunction display_cart() {\n  global $cart;\n  ?>\n  <h2>Cart Contents:</h2>\n  <table>\n    <tr>\n      <th>Item ID</th>\n      <th>Price</th>\n      <th>Quantity</th>\n    </tr>\n    <?php foreach ($cart as $item_id => $item) { ?>\n    <tr>\n      <td><?= $item_id ?></td>\n      <td><?= $item['price'] ?></td>\n      <td><?= $item['quantity'] ?></td>\n    </tr>\n    <?php } ?>\n  </table>\n  <?php\n}\n\n// Function to update quantity of item in cart\nfunction update_quantity($item_id, $new_quantity) {\n  global $cart;\n  if (isset($cart[$item_id])) {\n    // Update quantity of item in cart\n    $cart[$item_id]['quantity'] = $new_quantity;\n  }\n}\n?>\n```\n**index.php**\n```php\n<?php require 'cart.php'; ?>\n\n<h1>Purchase Cart</h1>\n\n<!-- Display existing items in cart -->\n<div id=\"existing-items\">\n  <?php display_cart(); ?>\n</div>\n\n<!-- Add item to cart form -->\n<form action=\"\" method=\"post\">\n  <label for=\"item_id\">Item ID:</label>\n  <input type=\"text\" id=\"item_id\" name=\"item_id\"><br><br>\n  <label for=\"quantity\">Quantity:</label>\n  <input type=\"number\" id=\"quantity\" name=\"quantity\"><br><br>\n  <button type=\"submit\" name=\"add_to_cart\">Add to Cart</button>\n</form>\n\n<!-- Remove item from cart form -->\n<form action=\"\" method=\"post\">\n  <label for=\"item_id_remove\">Item ID:</label>\n  <input type=\"text\" id=\"item_id_remove\" name=\"item_id\"><br><br>\n  <button type=\"submit\" name=\"remove_from_cart\">Remove from Cart</button>\n</form>\n\n<!-- Update quantity of item in cart form -->\n<form action=\"\" method=\"post\">\n  <label for=\"item_id_update\">Item ID:</label>\n  <input type=\"text\" id=\"item_id_update\" name=\"item_id\"><br><br>\n  <label for=\"new_quantity\">New Quantity:</label>\n  <input type=\"number\" id=\"new_quantity\" name=\"new_quantity\"><br><br>\n  <button type=\"submit\" name=\"update_quantity\">Update Quantity</button>\n</form>\n\n<!-- Display total cost of items in cart -->\n<p>Total Cost: <?php echo get_total_cost(); ?></p>\n\n<?php\nif (isset($_POST['add_to_cart'])) {\n  $item_id = $_POST['item_id'];\n  $quantity = $_POST['quantity'];\n  add_to_cart($item_id, $quantity);\n}\n\nif (isset($_POST['remove_from_cart'])) {\n  $item_id = $_POST['item_id'];\n  remove_from_cart($item_id);\n}\n\nif (isset($_POST['update_quantity'])) {\n  $item_id = $_POST['item_id'];\n  $new_quantity = $_POST['new_quantity'];\n  update_quantity($item_id, $new_quantity);\n}\n?>\n```\n**get_price.php**\n```php\n<?php\n// Define prices of items\n$prices = [\n  'item1' => 10.99,\n  'item2' => 5.99,\n  'item3' => 7.99,\n];\n\nfunction get_price($item_id) {\n  global $prices;\n  return isset($prices[$item_id]) ? $prices[$item_id] : 0;\n}\n?>\n```\nThis code assumes that you have a `get_price.php` file that defines the prices of items, and that you want to display the total cost of items in cart at the bottom of the page.\n\nThe `cart.php` file contains functions for adding, removing, updating, and displaying items in cart. The `index.php` file uses these functions to handle form submissions and update the cart accordingly.\n\nNote that this is a basic implementation and you may want to add additional functionality such as handling quantity updates, validating user input, etc.\n\nAlso, please note that this code does not use any database or storage mechanism to persist the cart contents. In a real-world application, you would likely want to store the cart contents in a database or session variable so that it can be retrieved later.", "code_blocks": ["```php\n<?php\n// Initialize the cart array\n$cart = [];\n\n// Function to add item to cart\nfunction add_to_cart($item_id, $quantity) {\n  global $cart;\n  if (isset($cart[$item_id])) {\n    // If item is already in cart, increment quantity\n    $cart[$item_id]['quantity'] += $quantity;\n  } else {\n    // Add new item to cart\n    $cart[$item_id] = ['price' => get_price($item_id), 'quantity' => $quantity];\n  }\n}\n\n// Function to remove item from cart\nfunction remove_from_cart($item_id) {\n  global $cart;\n  if (isset($cart[$item_id])) {\n    // Remove item from cart\n    unset($cart[$item_id]);\n  }\n}\n\n// Function to get total cost of items in cart\nfunction get_total_cost() {\n  global $cart;\n  $total = 0;\n  foreach ($cart as $item) {\n    $total += $item['price'] * $item['quantity'];\n  }\n  return $total;\n}\n\n// Function to display cart contents\nfunction display_cart() {\n  global $cart;\n  ?>\n  <h2>Cart Contents:</h2>\n  <table>\n    <tr>\n      <th>Item ID</th>\n      <th>Price</th>\n      <th>Quantity</th>\n    </tr>\n    <?php foreach ($cart as $item_id => $item) { ?>\n    <tr>\n      <td><?= $item_id ?></td>\n      <td><?= $item['price'] ?></td>\n      <td><?= $item['quantity'] ?></td>\n    </tr>\n    <?php } ?>\n  </table>\n  <?php\n}\n\n// Function to update quantity of item in cart\nfunction update_quantity($item_id, $new_quantity) {\n  global $cart;\n  if (isset($cart[$item_id])) {\n    // Update quantity of item in cart\n    $cart[$item_id]['quantity'] = $new_quantity;\n  }\n}\n?>\n```", "```php\n<?php require 'cart.php'; ?>\n\n<h1>Purchase Cart</h1>\n\n<!-- Display existing items in cart -->\n<div id=\"existing-items\">\n  <?php display_cart(); ?>\n</div>\n\n<!-- Add item to cart form -->\n<form action=\"\" method=\"post\">\n  <label for=\"item_id\">Item ID:</label>\n  <input type=\"text\" id=\"item_id\" name=\"item_id\"><br><br>\n  <label for=\"quantity\">Quantity:</label>\n  <input type=\"number\" id=\"quantity\" name=\"quantity\"><br><br>\n  <button type=\"submit\" name=\"add_to_cart\">Add to Cart</button>\n</form>\n\n<!-- Remove item from cart form -->\n<form action=\"\" method=\"post\">\n  <label for=\"item_id_remove\">Item ID:</label>\n  <input type=\"text\" id=\"item_id_remove\" name=\"item_id\"><br><br>\n  <button type=\"submit\" name=\"remove_from_cart\">Remove from Cart</button>\n</form>\n\n<!-- Update quantity of item in cart form -->\n<form action=\"\" method=\"post\">\n  <label for=\"item_id_update\">Item ID:</label>\n  <input type=\"text\" id=\"item_id_update\" name=\"item_id\"><br><br>\n  <label for=\"new_quantity\">New Quantity:</label>\n  <input type=\"number\" id=\"new_quantity\" name=\"new_quantity\"><br><br>\n  <button type=\"submit\" name=\"update_quantity\">Update Quantity</button>\n</form>\n\n<!-- Display total cost of items in cart -->\n<p>Total Cost: <?php echo get_total_cost(); ?></p>\n\n<?php\nif (isset($_POST['add_to_cart'])) {\n  $item_id = $_POST['item_id'];\n  $quantity = $_POST['quantity'];\n  add_to_cart($item_id, $quantity);\n}\n\nif (isset($_POST['remove_from_cart'])) {\n  $item_id = $_POST['item_id'];\n  remove_from_cart($item_id);\n}\n\nif (isset($_POST['update_quantity'])) {\n  $item_id = $_POST['item_id'];\n  $new_quantity = $_POST['new_quantity'];\n  update_quantity($item_id, $new_quantity);\n}\n?>\n```", "```php\n<?php\n// Define prices of items\n$prices = [\n  'item1' => 10.99,\n  'item2' => 5.99,\n  'item3' => 7.99,\n];\n\nfunction get_price($item_id) {\n  global $prices;\n  return isset($prices[$item_id]) ? $prices[$item_id] : 0;\n}\n?>\n```"]}
