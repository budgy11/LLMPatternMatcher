{"prompt": "Create a purchase cart functionality using php", "llm_output": "Here is a basic example of how to create a purchase cart functionality in PHP:\n\n**cart.php**\n```php\n<?php\n\n// Initialize the session\nsession_start();\n\n// Set default values for cart\n$_SESSION['cart'] = array();\n\n// Function to add item to cart\nfunction add_item_to_cart($product_id, $quantity) {\n  global $_SESSION;\n  \n  // Check if product already exists in cart\n  foreach ($_SESSION['cart'] as &$item) {\n    if ($item['product_id'] == $product_id) {\n      $item['quantity'] += $quantity;\n      return;\n    }\n  }\n\n  // Add new item to cart\n  $_SESSION['cart'][] = array('product_id' => $product_id, 'quantity' => $quantity);\n}\n\n// Function to remove item from cart\nfunction remove_item_from_cart($product_id) {\n  global $_SESSION;\n  \n  // Find the index of the product in the cart\n  foreach (array_keys($_SESSION['cart']) as $index) {\n    if ($_SESSION['cart'][$index]['product_id'] == $product_id) {\n      unset($_SESSION['cart'][$index]);\n      return;\n    }\n  }\n\n  // If not found, do nothing\n}\n\n// Function to update quantity of item in cart\nfunction update_quantity($product_id, $new_quantity) {\n  global $_SESSION;\n  \n  // Find the index of the product in the cart\n  foreach (array_keys($_SESSION['cart']) as $index) {\n    if ($_SESSION['cart'][$index]['product_id'] == $product_id) {\n      $_SESSION['cart'][$index]['quantity'] = $new_quantity;\n      return;\n    }\n  }\n\n  // If not found, do nothing\n}\n\n// Function to calculate total cost of cart\nfunction calculate_total_cost() {\n  global $_SESSION;\n  \n  $total_cost = 0;\n  foreach ($_SESSION['cart'] as $item) {\n    $product_price = get_product_price($item['product_id']); // Assume this function is defined elsewhere\n    $total_cost += $product_price * $item['quantity'];\n  }\n  return $total_cost;\n}\n\n// Function to display cart contents\nfunction display_cart() {\n  global $_SESSION;\n  \n  echo \"<h2>Cart Contents:</h2>\";\n  foreach ($_SESSION['cart'] as $item) {\n    echo \"<p>Product ID: {$item['product_id']} | Quantity: {$item['quantity']}</p>\";\n  }\n}\n\n// Function to add a product to the cart from a form submission\nif (isset($_POST['add_to_cart'])) {\n  $product_id = $_POST['product_id'];\n  $quantity = $_POST['quantity'];\n  add_item_to_cart($product_id, $quantity);\n}\n\n?>\n```\n**example.html**\n```html\n<!DOCTYPE html>\n<html>\n<head>\n  <title>Cart Example</title>\n</head>\n<body>\n\n<h1>Cart Example</h1>\n\n<form action=\"cart.php\" method=\"post\">\n  <input type=\"hidden\" name=\"product_id\" value=\"[insert product ID here]\">\n  <label for=\"quantity\">Quantity:</label>\n  <input type=\"number\" id=\"quantity\" name=\"quantity\" value=\"1\">\n  <button type=\"submit\" name=\"add_to_cart\">Add to Cart</button>\n</form>\n\n<?php\ndisplay_cart();\necho \"<p>Total Cost: \" . calculate_total_cost() . \"</p>\";\n?>\n\n</body>\n</html>\n```\nThis example uses a simple session-based cart implementation. When the user submits the form, the `add_item_to_cart` function is called with the product ID and quantity as arguments. The cart contents are displayed using the `display_cart` function.\n\nNote that this is just a basic example and does not include any error handling or security measures (such as input validation). In a real-world application, you would want to add these features to ensure the cart works correctly and securely.\n\nAlso, you will need to replace `[insert product ID here]` with an actual product ID in the `example.html` file.", "code_blocks": ["```php\n<?php\n\n// Initialize the session\nsession_start();\n\n// Set default values for cart\n$_SESSION['cart'] = array();\n\n// Function to add item to cart\nfunction add_item_to_cart($product_id, $quantity) {\n  global $_SESSION;\n  \n  // Check if product already exists in cart\n  foreach ($_SESSION['cart'] as &$item) {\n    if ($item['product_id'] == $product_id) {\n      $item['quantity'] += $quantity;\n      return;\n    }\n  }\n\n  // Add new item to cart\n  $_SESSION['cart'][] = array('product_id' => $product_id, 'quantity' => $quantity);\n}\n\n// Function to remove item from cart\nfunction remove_item_from_cart($product_id) {\n  global $_SESSION;\n  \n  // Find the index of the product in the cart\n  foreach (array_keys($_SESSION['cart']) as $index) {\n    if ($_SESSION['cart'][$index]['product_id'] == $product_id) {\n      unset($_SESSION['cart'][$index]);\n      return;\n    }\n  }\n\n  // If not found, do nothing\n}\n\n// Function to update quantity of item in cart\nfunction update_quantity($product_id, $new_quantity) {\n  global $_SESSION;\n  \n  // Find the index of the product in the cart\n  foreach (array_keys($_SESSION['cart']) as $index) {\n    if ($_SESSION['cart'][$index]['product_id'] == $product_id) {\n      $_SESSION['cart'][$index]['quantity'] = $new_quantity;\n      return;\n    }\n  }\n\n  // If not found, do nothing\n}\n\n// Function to calculate total cost of cart\nfunction calculate_total_cost() {\n  global $_SESSION;\n  \n  $total_cost = 0;\n  foreach ($_SESSION['cart'] as $item) {\n    $product_price = get_product_price($item['product_id']); // Assume this function is defined elsewhere\n    $total_cost += $product_price * $item['quantity'];\n  }\n  return $total_cost;\n}\n\n// Function to display cart contents\nfunction display_cart() {\n  global $_SESSION;\n  \n  echo \"<h2>Cart Contents:</h2>\";\n  foreach ($_SESSION['cart'] as $item) {\n    echo \"<p>Product ID: {$item['product_id']} | Quantity: {$item['quantity']}</p>\";\n  }\n}\n\n// Function to add a product to the cart from a form submission\nif (isset($_POST['add_to_cart'])) {\n  $product_id = $_POST['product_id'];\n  $quantity = $_POST['quantity'];\n  add_item_to_cart($product_id, $quantity);\n}\n\n?>\n```", null]}
