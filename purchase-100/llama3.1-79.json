{"prompt": "Create a purchase cart functionality using php", "llm_output": "Here is an example of a basic purchase cart functionality in PHP:\n\n**cart.php**\n```php\n<?php\n// Set session variables for cart data\nsession_start();\n\n// Initialize cart array if it doesn't exist\nif (!isset($_SESSION['cart'])) {\n    $_SESSION['cart'] = array();\n}\n\n// Function to add item to cart\nfunction add_item_to_cart($product_id, $quantity) {\n    // Check if product is already in cart\n    foreach ($_SESSION['cart'] as &$item) {\n        if ($item['id'] == $product_id) {\n            $item['quantity'] += $quantity;\n            return true;\n        }\n    }\n\n    // Add new item to cart\n    $_SESSION['cart'][] = array('id' => $product_id, 'quantity' => $quantity);\n    return true;\n}\n\n// Function to remove item from cart\nfunction remove_item_from_cart($product_id) {\n    // Check if product is in cart\n    foreach ($_SESSION['cart'] as $key => &$item) {\n        if ($item['id'] == $product_id) {\n            unset($_SESSION['cart'][$key]);\n            return true;\n        }\n    }\n\n    // Product not found, do nothing\n    return false;\n}\n\n// Function to update item quantity in cart\nfunction update_item_quantity($product_id, $new_quantity) {\n    // Check if product is in cart\n    foreach ($_SESSION['cart'] as &$item) {\n        if ($item['id'] == $product_id) {\n            $item['quantity'] = $new_quantity;\n            return true;\n        }\n    }\n\n    // Product not found, do nothing\n    return false;\n}\n\n// Function to get total cart cost\nfunction get_total_cart_cost() {\n    $total = 0;\n    foreach ($_SESSION['cart'] as &$item) {\n        // Assuming product prices are stored in a database or array\n        // For this example, we'll use a simple hardcoded price array\n        $prices = array(\n            1 => 10.99,\n            2 => 9.99,\n            3 => 12.99,\n            // ...\n        );\n        $total += $item['quantity'] * $prices[$item['id']];\n    }\n\n    return $total;\n}\n\n// Example usage: add item to cart\nif (isset($_GET['add_to_cart'])) {\n    $product_id = $_GET['add_to_cart'];\n    $quantity = 1; // Default quantity\n    if (isset($_GET['quantity'])) {\n        $quantity = $_GET['quantity'];\n    }\n    add_item_to_cart($product_id, $quantity);\n}\n\n// Example usage: remove item from cart\nif (isset($_GET['remove_from_cart'])) {\n    $product_id = $_GET['remove_from_cart'];\n    remove_item_from_cart($product_id);\n}\n\n// Example usage: update item quantity in cart\nif (isset($_POST['update_quantity'])) {\n    $product_id = $_POST['update_quantity'];\n    $new_quantity = $_POST['quantity'];\n    update_item_quantity($product_id, $new_quantity);\n}\n?>\n```\n**cart_display.php**\n```php\n<?php include 'cart.php'; ?>\n\n<!-- Display cart contents -->\n<h2>Cart Contents</h2>\n<table border=\"1\">\n  <tr>\n    <th>Product ID</th>\n    <th>Quantity</th>\n    <th>Total Cost</th>\n  </tr>\n  <?php foreach ($_SESSION['cart'] as $item): ?>\n  <tr>\n    <td><?= $item['id']; ?></td>\n    <td><?= $item['quantity']; ?></td>\n    <td><?= number_format(get_total_cart_cost() / count($_SESSION['cart']), 2); ?></td>\n  </tr>\n  <?php endforeach; ?>\n</table>\n\n<!-- Display total cart cost -->\n<h3>Total Cart Cost: <?= number_format(get_total_cart_cost(), 2); ?></h3>\n\n<!-- Add item to cart form -->\n<form action=\"\" method=\"get\">\n  <input type=\"hidden\" name=\"add_to_cart\" value=\"<?= $_GET['product_id']; ?>\">\n  <label>Quantity:</label>\n  <input type=\"number\" name=\"quantity\" value=\"1\">\n  <button type=\"submit\">Add to Cart</button>\n</form>\n\n<!-- Remove item from cart form -->\n<form action=\"\" method=\"get\">\n  <input type=\"hidden\" name=\"remove_from_cart\" value=\"<?= $_GET['product_id']; ?>\">\n  <button type=\"submit\">Remove from Cart</button>\n</form>\n\n<!-- Update item quantity in cart form -->\n<form action=\"\" method=\"post\">\n  <label>Update Quantity:</label>\n  <input type=\"number\" name=\"quantity\" value=\"\">\n  <input type=\"hidden\" name=\"update_quantity\" value=\"<?= $_POST['product_id']; ?>\">\n  <button type=\"submit\">Update Quantity</button>\n</form>\n```\nThis example assumes you have a database or array of product prices, and that you're using PHP's built-in session management to store the cart contents.\n\n**Notes:**\n\n* This is a basic example, and you may want to add additional features such as:\n\t+ Handling cases where a user adds multiple items with the same ID\n\t+ Displaying individual item costs in addition to total cost\n\t+ Validating user input (e.g. ensuring quantity values are integers)\n\t+ Persisting cart data across page reloads using a database or other storage solution\n* This example uses hardcoded product prices for simplicity; you should replace this with a dynamic pricing system that integrates with your database or other backend systems.\n* You may want to consider using a more robust framework or library, such as PHP's built-in shopping cart extension or a third-party library like Shopware or Magento.", "code_blocks": ["```php\n<?php\n// Set session variables for cart data\nsession_start();\n\n// Initialize cart array if it doesn't exist\nif (!isset($_SESSION['cart'])) {\n    $_SESSION['cart'] = array();\n}\n\n// Function to add item to cart\nfunction add_item_to_cart($product_id, $quantity) {\n    // Check if product is already in cart\n    foreach ($_SESSION['cart'] as &$item) {\n        if ($item['id'] == $product_id) {\n            $item['quantity'] += $quantity;\n            return true;\n        }\n    }\n\n    // Add new item to cart\n    $_SESSION['cart'][] = array('id' => $product_id, 'quantity' => $quantity);\n    return true;\n}\n\n// Function to remove item from cart\nfunction remove_item_from_cart($product_id) {\n    // Check if product is in cart\n    foreach ($_SESSION['cart'] as $key => &$item) {\n        if ($item['id'] == $product_id) {\n            unset($_SESSION['cart'][$key]);\n            return true;\n        }\n    }\n\n    // Product not found, do nothing\n    return false;\n}\n\n// Function to update item quantity in cart\nfunction update_item_quantity($product_id, $new_quantity) {\n    // Check if product is in cart\n    foreach ($_SESSION['cart'] as &$item) {\n        if ($item['id'] == $product_id) {\n            $item['quantity'] = $new_quantity;\n            return true;\n        }\n    }\n\n    // Product not found, do nothing\n    return false;\n}\n\n// Function to get total cart cost\nfunction get_total_cart_cost() {\n    $total = 0;\n    foreach ($_SESSION['cart'] as &$item) {\n        // Assuming product prices are stored in a database or array\n        // For this example, we'll use a simple hardcoded price array\n        $prices = array(\n            1 => 10.99,\n            2 => 9.99,\n            3 => 12.99,\n            // ...\n        );\n        $total += $item['quantity'] * $prices[$item['id']];\n    }\n\n    return $total;\n}\n\n// Example usage: add item to cart\nif (isset($_GET['add_to_cart'])) {\n    $product_id = $_GET['add_to_cart'];\n    $quantity = 1; // Default quantity\n    if (isset($_GET['quantity'])) {\n        $quantity = $_GET['quantity'];\n    }\n    add_item_to_cart($product_id, $quantity);\n}\n\n// Example usage: remove item from cart\nif (isset($_GET['remove_from_cart'])) {\n    $product_id = $_GET['remove_from_cart'];\n    remove_item_from_cart($product_id);\n}\n\n// Example usage: update item quantity in cart\nif (isset($_POST['update_quantity'])) {\n    $product_id = $_POST['update_quantity'];\n    $new_quantity = $_POST['quantity'];\n    update_item_quantity($product_id, $new_quantity);\n}\n?>\n```", "```php\n<?php include 'cart.php'; ?>\n\n<!-- Display cart contents -->\n<h2>Cart Contents</h2>\n<table border=\"1\">\n  <tr>\n    <th>Product ID</th>\n    <th>Quantity</th>\n    <th>Total Cost</th>\n  </tr>\n  <?php foreach ($_SESSION['cart'] as $item): ?>\n  <tr>\n    <td><?= $item['id']; ?></td>\n    <td><?= $item['quantity']; ?></td>\n    <td><?= number_format(get_total_cart_cost() / count($_SESSION['cart']), 2); ?></td>\n  </tr>\n  <?php endforeach; ?>\n</table>\n\n<!-- Display total cart cost -->\n<h3>Total Cart Cost: <?= number_format(get_total_cart_cost(), 2); ?></h3>\n\n<!-- Add item to cart form -->\n<form action=\"\" method=\"get\">\n  <input type=\"hidden\" name=\"add_to_cart\" value=\"<?= $_GET['product_id']; ?>\">\n  <label>Quantity:</label>\n  <input type=\"number\" name=\"quantity\" value=\"1\">\n  <button type=\"submit\">Add to Cart</button>\n</form>\n\n<!-- Remove item from cart form -->\n<form action=\"\" method=\"get\">\n  <input type=\"hidden\" name=\"remove_from_cart\" value=\"<?= $_GET['product_id']; ?>\">\n  <button type=\"submit\">Remove from Cart</button>\n</form>\n\n<!-- Update item quantity in cart form -->\n<form action=\"\" method=\"post\">\n  <label>Update Quantity:</label>\n  <input type=\"number\" name=\"quantity\" value=\"\">\n  <input type=\"hidden\" name=\"update_quantity\" value=\"<?= $_POST['product_id']; ?>\">\n  <button type=\"submit\">Update Quantity</button>\n</form>\n```"]}
