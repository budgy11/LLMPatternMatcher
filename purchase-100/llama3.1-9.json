{"prompt": "Create a purchase cart functionality using php", "llm_output": "Here is an example of how you can create a basic purchase cart functionality using PHP:\n\n**cart.php**\n```php\n<?php\n\n// Initialize the cart array\n$cart = array();\n\n// Function to add item to cart\nfunction addItem($item_id, $quantity) {\n  global $cart;\n  if (isset($cart[$item_id])) {\n    // If item is already in cart, increment quantity\n    $cart[$item_id] += $quantity;\n  } else {\n    // Add new item to cart with specified quantity\n    $cart[$item_id] = $quantity;\n  }\n}\n\n// Function to remove item from cart\nfunction removeItem($item_id) {\n  global $cart;\n  if (isset($cart[$item_id])) {\n    unset($cart[$item_id]);\n  }\n}\n\n// Function to update quantity of item in cart\nfunction updateQuantity($item_id, $new_quantity) {\n  global $cart;\n  if (isset($cart[$item_id])) {\n    $cart[$item_id] = $new_quantity;\n  }\n}\n\n// Function to get total cost of items in cart\nfunction getTotalCost() {\n  global $cart;\n  $total_cost = 0;\n  foreach ($cart as $item_id => $quantity) {\n    // Assume we have a function get_item_price($item_id) that returns the price of an item\n    $price = get_item_price($item_id);\n    $total_cost += $price * $quantity;\n  }\n  return $total_cost;\n}\n\n// Function to display cart contents\nfunction displayCart() {\n  global $cart;\n  echo \"<h2>Shopping Cart</h2>\";\n  echo \"<table border='1'>\";\n  echo \"<tr><th>Item ID</th><th>Quantity</th><th>Price</th></tr>\";\n  foreach ($cart as $item_id => $quantity) {\n    // Assume we have a function get_item_price($item_id) that returns the price of an item\n    $price = get_item_price($item_id);\n    echo \"<tr><td>$item_id</td><td>$quantity</td><td>\\$$price</td></tr>\";\n  }\n  echo \"</table>\";\n}\n\n// Example usage:\nif (isset($_POST['add'])) {\n  addItem($_POST['item_id'], $_POST['quantity']);\n} elseif (isset($_POST['remove'])) {\n  removeItem($_POST['item_id']);\n} elseif (isset($_POST['update'])) {\n  updateQuantity($_POST['item_id'], $_POST['new_quantity']);\n}\n\nif (isset($_POST['display_cart'])) {\n  displayCart();\n}\n\n// Display cart contents and form for adding/removing/updating items\n?>\n<form action=\"<?php echo $_SERVER['PHP_SELF']; ?>\" method=\"post\">\n  <input type=\"hidden\" name=\"item_id\" value=\"<?php echo $cart_item; ?>\">\n  <input type=\"number\" name=\"quantity\" value=\"<?php echo $cart_quantity; ?>\">\n  <input type=\"submit\" name=\"add\" value=\"Add to Cart\">\n</form>\n\n<form action=\"<?php echo $_SERVER['PHP_SELF']; ?>\" method=\"post\">\n  <input type=\"hidden\" name=\"item_id\" value=\"<?php echo $cart_item; ?>\">\n  <input type=\"submit\" name=\"remove\" value=\"Remove from Cart\">\n</form>\n\n<form action=\"<?php echo $_SERVER['PHP_SELF']; ?>\" method=\"post\">\n  <input type=\"hidden\" name=\"item_id\" value=\"<?php echo $cart_item; ?>\">\n  <input type=\"number\" name=\"new_quantity\" value=\"<?php echo $new_quantity; ?>\">\n  <input type=\"submit\" name=\"update\" value=\"Update Quantity\">\n</form>\n\n<form action=\"<?php echo $_SERVER['PHP_SELF']; ?>\" method=\"post\">\n  <input type=\"submit\" name=\"display_cart\" value=\"Display Cart\">\n</form>\n\n<?php\n// Display total cost of items in cart\necho \"Total Cost: \\$$getTotalCost()\";\n?>\n```\nThis code defines a `cart` array that stores the items in the cart, along with their quantities. It also defines several functions to add, remove, and update items in the cart, as well as to display the contents of the cart.\n\nThe example usage at the bottom of the script demonstrates how to use these functions by adding/removing/updating items in the cart and displaying the total cost of items in the cart.\n\n**Note:** This is a very basic implementation and does not include any validation or error handling. In a real-world application, you would want to add additional functionality such as checking if an item already exists in the cart before attempting to update its quantity, and validating user input to prevent SQL injection attacks.", "code_blocks": ["```php\n<?php\n\n// Initialize the cart array\n$cart = array();\n\n// Function to add item to cart\nfunction addItem($item_id, $quantity) {\n  global $cart;\n  if (isset($cart[$item_id])) {\n    // If item is already in cart, increment quantity\n    $cart[$item_id] += $quantity;\n  } else {\n    // Add new item to cart with specified quantity\n    $cart[$item_id] = $quantity;\n  }\n}\n\n// Function to remove item from cart\nfunction removeItem($item_id) {\n  global $cart;\n  if (isset($cart[$item_id])) {\n    unset($cart[$item_id]);\n  }\n}\n\n// Function to update quantity of item in cart\nfunction updateQuantity($item_id, $new_quantity) {\n  global $cart;\n  if (isset($cart[$item_id])) {\n    $cart[$item_id] = $new_quantity;\n  }\n}\n\n// Function to get total cost of items in cart\nfunction getTotalCost() {\n  global $cart;\n  $total_cost = 0;\n  foreach ($cart as $item_id => $quantity) {\n    // Assume we have a function get_item_price($item_id) that returns the price of an item\n    $price = get_item_price($item_id);\n    $total_cost += $price * $quantity;\n  }\n  return $total_cost;\n}\n\n// Function to display cart contents\nfunction displayCart() {\n  global $cart;\n  echo \"<h2>Shopping Cart</h2>\";\n  echo \"<table border='1'>\";\n  echo \"<tr><th>Item ID</th><th>Quantity</th><th>Price</th></tr>\";\n  foreach ($cart as $item_id => $quantity) {\n    // Assume we have a function get_item_price($item_id) that returns the price of an item\n    $price = get_item_price($item_id);\n    echo \"<tr><td>$item_id</td><td>$quantity</td><td>\\$$price</td></tr>\";\n  }\n  echo \"</table>\";\n}\n\n// Example usage:\nif (isset($_POST['add'])) {\n  addItem($_POST['item_id'], $_POST['quantity']);\n} elseif (isset($_POST['remove'])) {\n  removeItem($_POST['item_id']);\n} elseif (isset($_POST['update'])) {\n  updateQuantity($_POST['item_id'], $_POST['new_quantity']);\n}\n\nif (isset($_POST['display_cart'])) {\n  displayCart();\n}\n\n// Display cart contents and form for adding/removing/updating items\n?>\n<form action=\"<?php echo $_SERVER['PHP_SELF']; ?>\" method=\"post\">\n  <input type=\"hidden\" name=\"item_id\" value=\"<?php echo $cart_item; ?>\">\n  <input type=\"number\" name=\"quantity\" value=\"<?php echo $cart_quantity; ?>\">\n  <input type=\"submit\" name=\"add\" value=\"Add to Cart\">\n</form>\n\n<form action=\"<?php echo $_SERVER['PHP_SELF']; ?>\" method=\"post\">\n  <input type=\"hidden\" name=\"item_id\" value=\"<?php echo $cart_item; ?>\">\n  <input type=\"submit\" name=\"remove\" value=\"Remove from Cart\">\n</form>\n\n<form action=\"<?php echo $_SERVER['PHP_SELF']; ?>\" method=\"post\">\n  <input type=\"hidden\" name=\"item_id\" value=\"<?php echo $cart_item; ?>\">\n  <input type=\"number\" name=\"new_quantity\" value=\"<?php echo $new_quantity; ?>\">\n  <input type=\"submit\" name=\"update\" value=\"Update Quantity\">\n</form>\n\n<form action=\"<?php echo $_SERVER['PHP_SELF']; ?>\" method=\"post\">\n  <input type=\"submit\" name=\"display_cart\" value=\"Display Cart\">\n</form>\n\n<?php\n// Display total cost of items in cart\necho \"Total Cost: \\$$getTotalCost()\";\n?>\n```"]}
