{"prompt": "Create a purchase functionality using php", "llm_output": "Here is an example of how you can create a basic purchase functionality using PHP. This will include a form to input the item name, quantity and price, as well as functionality to add items to a cart and checkout.\n\n**index.php**\n```php\n<?php\n// Initialize cart array\n$cart = [];\n\n// Function to display cart contents\nfunction display_cart() {\n  global $cart;\n  echo \"<h2>Cart Contents:</h2>\";\n  echo \"<ul>\";\n  foreach ($cart as $item) {\n    echo \"<li>\" . $item['name'] . \" x\" . $item['quantity'] . \" = $\" . $item['price'] * $item['quantity'] . \"</li>\";\n  }\n  echo \"</ul>\";\n}\n\n// Function to add item to cart\nfunction add_to_cart($item) {\n  global $cart;\n  if (isset($_SESSION['cart'])) {\n    array_push($_SESSION['cart'], $item);\n  } else {\n    $_SESSION['cart'][] = $item;\n  }\n}\n\n// Form to input item details and add to cart\n?>\n<form action=\"\" method=\"post\">\n  <label for=\"name\">Item Name:</label>\n  <input type=\"text\" id=\"name\" name=\"name\"><br><br>\n  <label for=\"quantity\">Quantity:</label>\n  <input type=\"number\" id=\"quantity\" name=\"quantity\"><br><br>\n  <label for=\"price\">Price:</label>\n  <input type=\"number\" id=\"price\" name=\"price\"><br><br>\n  <button type=\"submit\" name=\"add_to_cart\">Add to Cart</button>\n</form>\n\n<?php\n// If add to cart button is clicked\nif (isset($_POST['add_to_cart'])) {\n  $name = $_POST['name'];\n  $quantity = $_POST['quantity'];\n  $price = $_POST['price'];\n\n  // Validate input and add item to cart\n  if ($name && $quantity > 0 && $price > 0) {\n    $item = [\n      'name' => $name,\n      'quantity' => $quantity,\n      'price' => $price\n    ];\n    add_to_cart($item);\n    echo \"Item added to cart!\";\n  } else {\n    echo \"Error: Please fill in all required fields and ensure quantity and price are positive numbers.\";\n  }\n}\n\n// Display cart contents\ndisplay_cart();\n\n// If checkout button is clicked\nif (isset($_POST['checkout'])) {\n  // Process payment and clear cart\n  echo \"Payment processed! Cart cleared.\";\n  unset($_SESSION['cart']);\n}\n?>\n```\n**Note**: This example uses the `$_SESSION` superglobal to store the cart contents. You may want to consider using a more robust storage solution, such as a database.\n\n**Checkout.php**\n```php\n<?php\n// Process payment and clear cart\necho \"Payment processed! Cart cleared.\";\nunset($_SESSION['cart']);\n?>\n```\nThis is just a basic example and does not include any security measures or error handling. You should consider adding these features to a real-world implementation.", "code_blocks": ["```php\n<?php\n// Initialize cart array\n$cart = [];\n\n// Function to display cart contents\nfunction display_cart() {\n  global $cart;\n  echo \"<h2>Cart Contents:</h2>\";\n  echo \"<ul>\";\n  foreach ($cart as $item) {\n    echo \"<li>\" . $item['name'] . \" x\" . $item['quantity'] . \" = $\" . $item['price'] * $item['quantity'] . \"</li>\";\n  }\n  echo \"</ul>\";\n}\n\n// Function to add item to cart\nfunction add_to_cart($item) {\n  global $cart;\n  if (isset($_SESSION['cart'])) {\n    array_push($_SESSION['cart'], $item);\n  } else {\n    $_SESSION['cart'][] = $item;\n  }\n}\n\n// Form to input item details and add to cart\n?>\n<form action=\"\" method=\"post\">\n  <label for=\"name\">Item Name:</label>\n  <input type=\"text\" id=\"name\" name=\"name\"><br><br>\n  <label for=\"quantity\">Quantity:</label>\n  <input type=\"number\" id=\"quantity\" name=\"quantity\"><br><br>\n  <label for=\"price\">Price:</label>\n  <input type=\"number\" id=\"price\" name=\"price\"><br><br>\n  <button type=\"submit\" name=\"add_to_cart\">Add to Cart</button>\n</form>\n\n<?php\n// If add to cart button is clicked\nif (isset($_POST['add_to_cart'])) {\n  $name = $_POST['name'];\n  $quantity = $_POST['quantity'];\n  $price = $_POST['price'];\n\n  // Validate input and add item to cart\n  if ($name && $quantity > 0 && $price > 0) {\n    $item = [\n      'name' => $name,\n      'quantity' => $quantity,\n      'price' => $price\n    ];\n    add_to_cart($item);\n    echo \"Item added to cart!\";\n  } else {\n    echo \"Error: Please fill in all required fields and ensure quantity and price are positive numbers.\";\n  }\n}\n\n// Display cart contents\ndisplay_cart();\n\n// If checkout button is clicked\nif (isset($_POST['checkout'])) {\n  // Process payment and clear cart\n  echo \"Payment processed! Cart cleared.\";\n  unset($_SESSION['cart']);\n}\n?>\n```", "```php\n<?php\n// Process payment and clear cart\necho \"Payment processed! Cart cleared.\";\nunset($_SESSION['cart']);\n?>\n```"]}
