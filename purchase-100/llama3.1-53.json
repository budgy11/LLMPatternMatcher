{"prompt": "Create a purchase cart functionality using php", "llm_output": "Here is an example of how you can create a simple purchase cart functionality using PHP. This will include adding items to the cart, displaying the contents of the cart, and calculating the total cost.\n\n**cart.php**\n\n```php\n<?php\n// Initialize session data if it doesn't exist yet\nif (!isset($_SESSION)) {\n    session_start();\n}\n\n// Set default values for cart and total cost\nif (!isset($_SESSION['cart'])) {\n    $_SESSION['cart'] = array();\n}\nif (!isset($_SESSION['total_cost'])) {\n    $_SESSION['total_cost'] = 0;\n}\n\n// Function to add item to cart\nfunction addItemToCart($id, $name, $price) {\n    global $_SESSION;\n\n    // Check if the item is already in the cart\n    foreach ($_SESSION['cart'] as &$item) {\n        if ($item['id'] == $id) {\n            // If it is, increment the quantity and update the total cost\n            $item['quantity'] += 1;\n            $_SESSION['total_cost'] -= $item['price'];\n            $item['price'] = $price;\n            $_SESSION['total_cost'] += $item['price'];\n            return;\n        }\n    }\n\n    // If not, add a new item to the cart\n    array_push($_SESSION['cart'], array(\n        'id' => $id,\n        'name' => $name,\n        'price' => $price,\n        'quantity' => 1\n    ));\n\n    $_SESSION['total_cost'] += $price;\n}\n\n// Function to display cart contents\nfunction displayCart() {\n    global $_SESSION;\n\n    echo '<h2>Cart Contents:</h2>';\n    foreach ($_SESSION['cart'] as &$item) {\n        echo $item['name'] . ' x ' . $item['quantity'] . ' = $' . $item['price'] * $item['quantity'] . '<br>';\n    }\n    echo '<p>Total Cost: $' . $_SESSION['total_cost'] . '</p>';\n}\n\n// Display cart contents\ndisplayCart();\n\n// Example usage:\n// Add item to cart with id 1, name \"Product A\", and price 10.99\naddItemToCart(1, 'Product A', 10.99);\n\n?>\n```\n\n**index.php**\n\n```php\n<?php\ninclude 'cart.php';\n\n// Example usage:\n// Add a few items to the cart\naddItemToCart(1, 'Product A', 10.99);\naddItemToCart(2, 'Product B', 5.99);\naddItemToCart(3, 'Product C', 7.99);\n\n?>\n```\n\n**How it works:**\n\n*   The `cart.php` file initializes session data if it doesn't exist yet and sets default values for the cart and total cost.\n*   It defines two functions: `addItemToCart()` to add an item to the cart, and `displayCart()` to display the contents of the cart with their prices and quantities.\n*   The `addItemToCart()` function checks if an item is already in the cart. If it is, it increments the quantity and updates the total cost. Otherwise, it adds a new item to the cart and updates the total cost accordingly.\n*   The `displayCart()` function iterates over the items in the cart and displays their names, quantities, prices, and line totals, as well as the overall total cost.\n*   In `index.php`, we include the `cart.php` file to access its functions. We then add a few items to the cart using `addItemToCart()`. Finally, we can display the contents of the cart with their prices and quantities by calling `displayCart()`.\n\nThis example demonstrates how you can implement a simple purchase cart functionality in PHP.", "code_blocks": ["```php\n<?php\n// Initialize session data if it doesn't exist yet\nif (!isset($_SESSION)) {\n    session_start();\n}\n\n// Set default values for cart and total cost\nif (!isset($_SESSION['cart'])) {\n    $_SESSION['cart'] = array();\n}\nif (!isset($_SESSION['total_cost'])) {\n    $_SESSION['total_cost'] = 0;\n}\n\n// Function to add item to cart\nfunction addItemToCart($id, $name, $price) {\n    global $_SESSION;\n\n    // Check if the item is already in the cart\n    foreach ($_SESSION['cart'] as &$item) {\n        if ($item['id'] == $id) {\n            // If it is, increment the quantity and update the total cost\n            $item['quantity'] += 1;\n            $_SESSION['total_cost'] -= $item['price'];\n            $item['price'] = $price;\n            $_SESSION['total_cost'] += $item['price'];\n            return;\n        }\n    }\n\n    // If not, add a new item to the cart\n    array_push($_SESSION['cart'], array(\n        'id' => $id,\n        'name' => $name,\n        'price' => $price,\n        'quantity' => 1\n    ));\n\n    $_SESSION['total_cost'] += $price;\n}\n\n// Function to display cart contents\nfunction displayCart() {\n    global $_SESSION;\n\n    echo '<h2>Cart Contents:</h2>';\n    foreach ($_SESSION['cart'] as &$item) {\n        echo $item['name'] . ' x ' . $item['quantity'] . ' = $' . $item['price'] * $item['quantity'] . '<br>';\n    }\n    echo '<p>Total Cost: $' . $_SESSION['total_cost'] . '</p>';\n}\n\n// Display cart contents\ndisplayCart();\n\n// Example usage:\n// Add item to cart with id 1, name \"Product A\", and price 10.99\naddItemToCart(1, 'Product A', 10.99);\n\n?>\n```", "```php\n<?php\ninclude 'cart.php';\n\n// Example usage:\n// Add a few items to the cart\naddItemToCart(1, 'Product A', 10.99);\naddItemToCart(2, 'Product B', 5.99);\naddItemToCart(3, 'Product C', 7.99);\n\n?>\n```"]}
