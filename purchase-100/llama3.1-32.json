{"prompt": "Create a purchase cart functionality using php", "llm_output": "Here is an example of how you can create a simple purchase cart functionality using PHP:\n\n**Note:** This is a basic example and does not include any error handling or security measures that you would want to implement in a production environment.\n\n**cart.php**\n```php\n<?php\n// Initialize the cart array\n$cart = array();\n\n// Function to add an item to the cart\nfunction add_to_cart($item_id, $quantity) {\n  global $cart;\n  if (!isset($cart[$item_id])) {\n    $cart[$item_id] = array('quantity' => 0, 'price' => 0);\n  }\n  $cart[$item_id]['quantity'] += $quantity;\n  $cart[$item_id]['price'] = calculate_price($item_id, $quantity);\n}\n\n// Function to remove an item from the cart\nfunction remove_from_cart($item_id) {\n  global $cart;\n  unset($cart[$item_id]);\n}\n\n// Function to calculate the price of an item based on its ID and quantity\nfunction calculate_price($item_id, $quantity) {\n  // Replace this with your own database query or logic to retrieve the price\n  return rand(1, 100); // Example: random price between 1 and 100\n}\n\n// Function to display the cart contents\nfunction display_cart() {\n  global $cart;\n  echo '<h2>Cart Contents:</h2>';\n  foreach ($cart as $item_id => $item) {\n    echo \"Item ID: $item_id, Quantity: $item[quantity], Price: $\" . $item['price'] . \"<br>\";\n  }\n}\n\n// Function to calculate the total cost of all items in the cart\nfunction calculate_total() {\n  global $cart;\n  $total = 0;\n  foreach ($cart as $item) {\n    $total += $item['price'];\n  }\n  return $total;\n}\n?>\n```\n\n**example.html**\n```html\n<!DOCTYPE html>\n<html>\n<head>\n  <title>Cart Example</title>\n</head>\n<body>\n  <?php include 'cart.php'; ?>\n\n  <!-- Form to add items to the cart -->\n  <form action=\"\" method=\"post\">\n    Item ID: <input type=\"text\" name=\"item_id\"><br>\n    Quantity: <input type=\"number\" name=\"quantity\"><br>\n    <input type=\"submit\" value=\"Add to Cart\">\n  </form>\n\n  <!-- Button to remove an item from the cart -->\n  <button onclick=\"remove_item()\">Remove Item</button>\n\n  <!-- Display the cart contents and total cost -->\n  <?php display_cart(); ?>\n  Total: $<?php echo calculate_total(); ?>\n\n  <!-- JavaScript function to remove an item from the cart -->\n  <script>\n    function remove_item() {\n      var item_id = prompt(\"Enter the ID of the item you want to remove:\");\n      add_to_cart(item_id, -1);\n      document.location.reload();\n    }\n  </script>\n\n</body>\n</html>\n```\nThis example includes:\n\n* A PHP script (`cart.php`) that initializes a cart array and provides functions for adding and removing items from the cart, displaying the cart contents, and calculating the total cost.\n* An HTML file (`example.html`) that includes the `cart.php` script and provides forms to add items to the cart and remove an item from the cart. The JavaScript function `remove_item()` uses the PHP function `add_to_cart()` with a negative quantity to simulate removing an item.\n\nNote: This example assumes you have a database or some other way of storing item prices and other data, which is not included here for brevity.", "code_blocks": ["```php\n<?php\n// Initialize the cart array\n$cart = array();\n\n// Function to add an item to the cart\nfunction add_to_cart($item_id, $quantity) {\n  global $cart;\n  if (!isset($cart[$item_id])) {\n    $cart[$item_id] = array('quantity' => 0, 'price' => 0);\n  }\n  $cart[$item_id]['quantity'] += $quantity;\n  $cart[$item_id]['price'] = calculate_price($item_id, $quantity);\n}\n\n// Function to remove an item from the cart\nfunction remove_from_cart($item_id) {\n  global $cart;\n  unset($cart[$item_id]);\n}\n\n// Function to calculate the price of an item based on its ID and quantity\nfunction calculate_price($item_id, $quantity) {\n  // Replace this with your own database query or logic to retrieve the price\n  return rand(1, 100); // Example: random price between 1 and 100\n}\n\n// Function to display the cart contents\nfunction display_cart() {\n  global $cart;\n  echo '<h2>Cart Contents:</h2>';\n  foreach ($cart as $item_id => $item) {\n    echo \"Item ID: $item_id, Quantity: $item[quantity], Price: $\" . $item['price'] . \"<br>\";\n  }\n}\n\n// Function to calculate the total cost of all items in the cart\nfunction calculate_total() {\n  global $cart;\n  $total = 0;\n  foreach ($cart as $item) {\n    $total += $item['price'];\n  }\n  return $total;\n}\n?>\n```", null]}
