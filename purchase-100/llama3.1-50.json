{"prompt": "Create a purchase cart functionality using php", "llm_output": "**Purchase Cart Functionality using PHP**\n====================================================\n\nIn this example, we will create a basic purchase cart functionality using PHP. We will store the cart items in a session variable.\n\n**cart.php**\n```php\n<?php\n// Check if the cart is already set in the session\nif (!isset($_SESSION['cart'])) {\n    $_SESSION['cart'] = array();\n}\n\n// Function to add an item to the cart\nfunction addItemToCart($id, $name, $price) {\n    // Check if the item is already in the cart\n    foreach ($_SESSION['cart'] as &$item) {\n        if ($item['id'] == $id) {\n            // Increase the quantity of the item\n            $item['quantity'] += 1;\n            return;\n        }\n    }\n\n    // Add new item to the cart\n    $_SESSION['cart'][] = array('id' => $id, 'name' => $name, 'price' => $price, 'quantity' => 1);\n}\n\n// Function to update an item in the cart\nfunction updateItemInCart($id, $newQuantity) {\n    // Find the index of the item in the cart\n    foreach ($_SESSION['cart'] as &$item) {\n        if ($item['id'] == $id) {\n            // Update the quantity of the item\n            $item['quantity'] = $newQuantity;\n            return;\n        }\n    }\n\n    // Item not found, do nothing\n}\n\n// Function to remove an item from the cart\nfunction removeItemFromCart($id) {\n    // Find the index of the item in the cart\n    foreach (array_keys($_SESSION['cart']) as $index) {\n        if ($_SESSION['cart'][$index]['id'] == $id) {\n            // Remove the item from the cart\n            unset($_SESSION['cart'][$index]);\n            return;\n        }\n    }\n\n    // Item not found, do nothing\n}\n\n// Function to calculate the total cost of the cart items\nfunction calculateTotalCost() {\n    $totalCost = 0;\n\n    foreach ($_SESSION['cart'] as &$item) {\n        $totalCost += $item['price'] * $item['quantity'];\n    }\n\n    return $totalCost;\n}\n```\n**index.php**\n```php\n<?php\n// Include the cart functionality file\ninclude 'cart.php';\n\n// Display the shopping cart\n?>\n\n<h1>Shopping Cart</h1>\n\n<form method=\"post\" action=\"<?php echo $_SERVER['PHP_SELF']; ?>\">\n    <input type=\"hidden\" name=\"action\" value=\"add\">\n    <input type=\"text\" name=\"id\" placeholder=\"Product ID\">\n    <input type=\"text\" name=\"name\" placeholder=\"Product Name\">\n    <input type=\"number\" name=\"price\" placeholder=\"Price\">\n    <button type=\"submit\">Add to Cart</button>\n</form>\n\n<?php\n// Display the cart items\nforeach ($_SESSION['cart'] as $item) {\n    ?>\n    <p>\n        <?php echo $item['name']; ?> x <?php echo $item['quantity']; ?>\n        = <?php echo $item['price'] * $item['quantity']; ?>\n    </p>\n    <?php\n}\n\n// Display the total cost of the cart items\n?>\n\n<p>Total Cost: <?php echo calculateTotalCost(); ?></p>\n\n<?php\n// Handle add item to cart form submission\nif (isset($_POST['action']) && $_POST['action'] == 'add') {\n    addItemToCart($_POST['id'], $_POST['name'], $_POST['price']);\n}\n\n// Handle remove item from cart link click\n?>\n\n<a href=\"<?php echo $_SERVER['PHP_SELF']; ?>?remove=<?php echo $_GET['id']; ?>\">Remove</a>\n\n<?php\n// Remove item from cart if the remove link was clicked\nif (isset($_GET['remove'])) {\n    removeItemFromCart($_GET['remove']);\n}\n?>\n```\nThis is a basic implementation of a purchase cart functionality using PHP. You can add more features like displaying the cart items on each page, updating the quantity of an item in the cart, and checking out the items.\n\n**Note:** This example uses the `$_SESSION` superglobal to store the cart items. Make sure that sessions are enabled in your PHP configuration.\n\nAlso, this is a very basic implementation and does not handle cases like invalid product IDs, adding non-numeric quantities, etc. You should add more error checking and handling code as per your requirements.", "code_blocks": ["```php\n<?php\n// Check if the cart is already set in the session\nif (!isset($_SESSION['cart'])) {\n    $_SESSION['cart'] = array();\n}\n\n// Function to add an item to the cart\nfunction addItemToCart($id, $name, $price) {\n    // Check if the item is already in the cart\n    foreach ($_SESSION['cart'] as &$item) {\n        if ($item['id'] == $id) {\n            // Increase the quantity of the item\n            $item['quantity'] += 1;\n            return;\n        }\n    }\n\n    // Add new item to the cart\n    $_SESSION['cart'][] = array('id' => $id, 'name' => $name, 'price' => $price, 'quantity' => 1);\n}\n\n// Function to update an item in the cart\nfunction updateItemInCart($id, $newQuantity) {\n    // Find the index of the item in the cart\n    foreach ($_SESSION['cart'] as &$item) {\n        if ($item['id'] == $id) {\n            // Update the quantity of the item\n            $item['quantity'] = $newQuantity;\n            return;\n        }\n    }\n\n    // Item not found, do nothing\n}\n\n// Function to remove an item from the cart\nfunction removeItemFromCart($id) {\n    // Find the index of the item in the cart\n    foreach (array_keys($_SESSION['cart']) as $index) {\n        if ($_SESSION['cart'][$index]['id'] == $id) {\n            // Remove the item from the cart\n            unset($_SESSION['cart'][$index]);\n            return;\n        }\n    }\n\n    // Item not found, do nothing\n}\n\n// Function to calculate the total cost of the cart items\nfunction calculateTotalCost() {\n    $totalCost = 0;\n\n    foreach ($_SESSION['cart'] as &$item) {\n        $totalCost += $item['price'] * $item['quantity'];\n    }\n\n    return $totalCost;\n}\n```", "```php\n<?php\n// Include the cart functionality file\ninclude 'cart.php';\n\n// Display the shopping cart\n?>\n\n<h1>Shopping Cart</h1>\n\n<form method=\"post\" action=\"<?php echo $_SERVER['PHP_SELF']; ?>\">\n    <input type=\"hidden\" name=\"action\" value=\"add\">\n    <input type=\"text\" name=\"id\" placeholder=\"Product ID\">\n    <input type=\"text\" name=\"name\" placeholder=\"Product Name\">\n    <input type=\"number\" name=\"price\" placeholder=\"Price\">\n    <button type=\"submit\">Add to Cart</button>\n</form>\n\n<?php\n// Display the cart items\nforeach ($_SESSION['cart'] as $item) {\n    ?>\n    <p>\n        <?php echo $item['name']; ?> x <?php echo $item['quantity']; ?>\n        = <?php echo $item['price'] * $item['quantity']; ?>\n    </p>\n    <?php\n}\n\n// Display the total cost of the cart items\n?>\n\n<p>Total Cost: <?php echo calculateTotalCost(); ?></p>\n\n<?php\n// Handle add item to cart form submission\nif (isset($_POST['action']) && $_POST['action'] == 'add') {\n    addItemToCart($_POST['id'], $_POST['name'], $_POST['price']);\n}\n\n// Handle remove item from cart link click\n?>\n\n<a href=\"<?php echo $_SERVER['PHP_SELF']; ?>?remove=<?php echo $_GET['id']; ?>\">Remove</a>\n\n<?php\n// Remove item from cart if the remove link was clicked\nif (isset($_GET['remove'])) {\n    removeItemFromCart($_GET['remove']);\n}\n?>\n```"]}
