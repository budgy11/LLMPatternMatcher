{"prompt": "Create a purchase cart functionality using php", "llm_output": "Here is an example of how you can create a basic purchase cart functionality using PHP:\n\n**cart.php**\n```php\n<?php\n// Initialize the cart session variable\nsession_start();\n\n// Define the products array\n$products = [\n    1 => ['name' => 'Product 1', 'price' => 10.99],\n    2 => ['name' => 'Product 2', 'price' => 5.99],\n    3 => ['name' => 'Product 3', 'price' => 7.99]\n];\n\n// Function to add product to cart\nfunction add_to_cart($product_id, $quantity) {\n    // Check if the product exists in the cart\n    if (!isset($_SESSION['cart'][$product_id])) {\n        $_SESSION['cart'][$product_id] = ['quantity' => $quantity];\n    } else {\n        $_SESSION['cart'][$product_id]['quantity'] += $quantity;\n    }\n}\n\n// Function to remove product from cart\nfunction remove_from_cart($product_id) {\n    unset($_SESSION['cart'][$product_id]);\n}\n\n// Function to update product quantity in cart\nfunction update_quantity($product_id, $new_quantity) {\n    $_SESSION['cart'][$product_id]['quantity'] = $new_quantity;\n}\n\n// Function to calculate total cost of items in cart\nfunction calculate_total() {\n    $total = 0;\n    foreach ($_SESSION['cart'] as $product_id => $product_data) {\n        $total += $products[$product_id]['price'] * $product_data['quantity'];\n    }\n    return $total;\n}\n\n// Add a product to the cart (example usage)\n// add_to_cart(1, 2);\n\n// Display the current cart contents\necho \"Current Cart Contents:\\n\";\nforeach ($_SESSION['cart'] as $product_id => $product_data) {\n    echo \"$product_id: {$products[$product_id]['name']} x {$product_data['quantity']} = $\" . ($products[$product_id]['price'] * $product_data['quantity']) . \"\\n\";\n}\n\n// Display the total cost of items in cart\necho \"Total Cost: $\" . calculate_total() . \"\\n\";\n\n?>\n```\n**index.php**\n```php\n<?php include 'cart.php'; ?>\n\n<!DOCTYPE html>\n<html>\n<head>\n    <title>Shopping Cart</title>\n</head>\n<body>\n\n<h1>Shopping Cart</h1>\n\n<form action=\"\" method=\"post\">\n    <?php foreach ($products as $product_id => $product_data) { ?>\n        <p>\n            <input type=\"checkbox\" name=\"add_to_cart[]\" value=\"<?php echo $product_id; ?>\">\n            <label for=\"<?php echo $product_id; ?>\"><?php echo $product_data['name']; ?></label>\n        </p>\n    <?php } ?>\n\n    <p>\n        <button type=\"submit\">Add to Cart</button>\n    </p>\n</form>\n\n<?php if (isset($_POST['add_to_cart'])) { ?>\n    <?php foreach ($_POST['add_to_cart'] as $product_id) { ?>\n        add_to_cart($product_id, 1);\n    <?php } ?>\n<?php } ?>\n\n<?php echo \"Current Cart Contents:\\n\"; ?>\n<?php foreach ($_SESSION['cart'] as $product_id => $product_data) { ?>\n    <p><?php echo \"$product_id: {$products[$product_id]['name']} x {$product_data['quantity']} = $\" . ($products[$product_id]['price'] * $product_data['quantity']) . \"</p>\\n\"; ?>\n<?php } ?>\n\n<p>Total Cost: <?php echo calculate_total(); ?></p>\n\n</body>\n</html>\n```\nThis example includes two PHP files:\n\n1. `cart.php`: This file defines the cart functionality, including functions to add products to the cart, remove products from the cart, update product quantities in the cart, and calculate the total cost of items in the cart.\n2. `index.php`: This file is an example usage of the cart functionality. It includes a form that allows users to select products to add to their cart, and displays the current contents of the cart.\n\nNote: This is just a basic example and does not include error checking or security measures (such as preventing SQL injection attacks). You should modify it according to your specific needs and requirements.", "code_blocks": ["```php\n<?php\n// Initialize the cart session variable\nsession_start();\n\n// Define the products array\n$products = [\n    1 => ['name' => 'Product 1', 'price' => 10.99],\n    2 => ['name' => 'Product 2', 'price' => 5.99],\n    3 => ['name' => 'Product 3', 'price' => 7.99]\n];\n\n// Function to add product to cart\nfunction add_to_cart($product_id, $quantity) {\n    // Check if the product exists in the cart\n    if (!isset($_SESSION['cart'][$product_id])) {\n        $_SESSION['cart'][$product_id] = ['quantity' => $quantity];\n    } else {\n        $_SESSION['cart'][$product_id]['quantity'] += $quantity;\n    }\n}\n\n// Function to remove product from cart\nfunction remove_from_cart($product_id) {\n    unset($_SESSION['cart'][$product_id]);\n}\n\n// Function to update product quantity in cart\nfunction update_quantity($product_id, $new_quantity) {\n    $_SESSION['cart'][$product_id]['quantity'] = $new_quantity;\n}\n\n// Function to calculate total cost of items in cart\nfunction calculate_total() {\n    $total = 0;\n    foreach ($_SESSION['cart'] as $product_id => $product_data) {\n        $total += $products[$product_id]['price'] * $product_data['quantity'];\n    }\n    return $total;\n}\n\n// Add a product to the cart (example usage)\n// add_to_cart(1, 2);\n\n// Display the current cart contents\necho \"Current Cart Contents:\\n\";\nforeach ($_SESSION['cart'] as $product_id => $product_data) {\n    echo \"$product_id: {$products[$product_id]['name']} x {$product_data['quantity']} = $\" . ($products[$product_id]['price'] * $product_data['quantity']) . \"\\n\";\n}\n\n// Display the total cost of items in cart\necho \"Total Cost: $\" . calculate_total() . \"\\n\";\n\n?>\n```", "```php\n<?php include 'cart.php'; ?>\n\n<!DOCTYPE html>\n<html>\n<head>\n    <title>Shopping Cart</title>\n</head>\n<body>\n\n<h1>Shopping Cart</h1>\n\n<form action=\"\" method=\"post\">\n    <?php foreach ($products as $product_id => $product_data) { ?>\n        <p>\n            <input type=\"checkbox\" name=\"add_to_cart[]\" value=\"<?php echo $product_id; ?>\">\n            <label for=\"<?php echo $product_id; ?>\"><?php echo $product_data['name']; ?></label>\n        </p>\n    <?php } ?>\n\n    <p>\n        <button type=\"submit\">Add to Cart</button>\n    </p>\n</form>\n\n<?php if (isset($_POST['add_to_cart'])) { ?>\n    <?php foreach ($_POST['add_to_cart'] as $product_id) { ?>\n        add_to_cart($product_id, 1);\n    <?php } ?>\n<?php } ?>\n\n<?php echo \"Current Cart Contents:\\n\"; ?>\n<?php foreach ($_SESSION['cart'] as $product_id => $product_data) { ?>\n    <p><?php echo \"$product_id: {$products[$product_id]['name']} x {$product_data['quantity']} = $\" . ($products[$product_id]['price'] * $product_data['quantity']) . \"</p>\\n\"; ?>\n<?php } ?>\n\n<p>Total Cost: <?php echo calculate_total(); ?></p>\n\n</body>\n</html>\n```"]}
