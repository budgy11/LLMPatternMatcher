{"prompt": "Create a purchase cart functionality using php", "llm_output": "Here's an example of how you can create a basic purchase cart functionality using PHP:\n\n**cart.php**\n```php\n<?php\nsession_start();\n\n// Check if the cart is empty, if so set it to an empty array\nif (!isset($_SESSION['cart'])) {\n    $_SESSION['cart'] = [];\n}\n\n// Function to add items to the cart\nfunction addToCart($itemId) {\n    global $itemId;\n    // Check if the item already exists in the cart\n    if (in_array($itemId, $_SESSION['cart'])) {\n        echo \"Item is already in your cart.\";\n    } else {\n        $_SESSION['cart'][] = $itemId;\n        echo \"Item added to your cart.\";\n    }\n}\n\n// Function to remove items from the cart\nfunction removeFromCart($itemId) {\n    global $itemId;\n    // Check if the item exists in the cart\n    if (in_array($itemId, $_SESSION['cart'])) {\n        $key = array_search($itemId, $_SESSION['cart']);\n        unset($_SESSION['cart'][$key]);\n        echo \"Item removed from your cart.\";\n    } else {\n        echo \"Item is not in your cart.\";\n    }\n}\n\n// Function to display the contents of the cart\nfunction displayCart() {\n    global $itemId;\n    if (count($_SESSION['cart']) > 0) {\n        echo \"<h2>Your Cart</h2>\";\n        foreach ($_SESSION['cart'] as $item) {\n            // You can add a database query here to retrieve item details\n            echo \"Item ID: $item\";\n            // Add remove button\n            echo '<button class=\"remove-button\" onclick=\"removeFromCart(' . $item . ')\">Remove</button>';\n        }\n    } else {\n        echo \"<h2>Your cart is empty.</h2>\";\n    }\n}\n\n// Function to calculate the total cost of items in the cart\nfunction calculateTotal() {\n    global $itemId;\n    // You can add a database query here to retrieve item prices\n    // For this example, let's assume each item costs $10\n    $total = count($_SESSION['cart']) * 10;\n    return $total;\n}\n\n// Add event listener for adding items to the cart\n?>\n```\n**index.php**\n```php\n<?php\ninclude 'cart.php';\n\n// Display the contents of the cart\ndisplayCart();\n\n// If you want to add items to the cart, call the addToCart function\nif (isset($_GET['add'])) {\n    addToCart($_GET['id']);\n}\n\n// If you want to remove an item from the cart, call the removeFromCart function\nif (isset($_GET['remove'])) {\n    removeFromCart($_GET['id']);\n}\n?>\n\n<!-- Add a form to add items to the cart -->\n<form action=\"index.php\" method=\"get\">\n    <input type=\"hidden\" name=\"add\" value=\"1\">\n    <input type=\"text\" name=\"id\" placeholder=\"Item ID\">\n    <button type=\"submit\">Add to Cart</button>\n</form>\n\n<!-- Display the total cost of items in the cart -->\n<p>Total: <?php echo calculateTotal(); ?></p>\n```\nThis is a basic example, and you'll likely want to add more functionality such as:\n\n* Retrieving item details from a database\n* Handling multiple item selections\n* Implementing payment processing\n* Displaying item quantities\n\nNote that this example uses GET requests to add and remove items from the cart. In a real-world application, you'd likely use POST requests or a more secure method of updating session data.\n\nAlso, remember to sanitize user input and validate session data to prevent security vulnerabilities.", "code_blocks": ["```php\n<?php\nsession_start();\n\n// Check if the cart is empty, if so set it to an empty array\nif (!isset($_SESSION['cart'])) {\n    $_SESSION['cart'] = [];\n}\n\n// Function to add items to the cart\nfunction addToCart($itemId) {\n    global $itemId;\n    // Check if the item already exists in the cart\n    if (in_array($itemId, $_SESSION['cart'])) {\n        echo \"Item is already in your cart.\";\n    } else {\n        $_SESSION['cart'][] = $itemId;\n        echo \"Item added to your cart.\";\n    }\n}\n\n// Function to remove items from the cart\nfunction removeFromCart($itemId) {\n    global $itemId;\n    // Check if the item exists in the cart\n    if (in_array($itemId, $_SESSION['cart'])) {\n        $key = array_search($itemId, $_SESSION['cart']);\n        unset($_SESSION['cart'][$key]);\n        echo \"Item removed from your cart.\";\n    } else {\n        echo \"Item is not in your cart.\";\n    }\n}\n\n// Function to display the contents of the cart\nfunction displayCart() {\n    global $itemId;\n    if (count($_SESSION['cart']) > 0) {\n        echo \"<h2>Your Cart</h2>\";\n        foreach ($_SESSION['cart'] as $item) {\n            // You can add a database query here to retrieve item details\n            echo \"Item ID: $item\";\n            // Add remove button\n            echo '<button class=\"remove-button\" onclick=\"removeFromCart(' . $item . ')\">Remove</button>';\n        }\n    } else {\n        echo \"<h2>Your cart is empty.</h2>\";\n    }\n}\n\n// Function to calculate the total cost of items in the cart\nfunction calculateTotal() {\n    global $itemId;\n    // You can add a database query here to retrieve item prices\n    // For this example, let's assume each item costs $10\n    $total = count($_SESSION['cart']) * 10;\n    return $total;\n}\n\n// Add event listener for adding items to the cart\n?>\n```", "```php\n<?php\ninclude 'cart.php';\n\n// Display the contents of the cart\ndisplayCart();\n\n// If you want to add items to the cart, call the addToCart function\nif (isset($_GET['add'])) {\n    addToCart($_GET['id']);\n}\n\n// If you want to remove an item from the cart, call the removeFromCart function\nif (isset($_GET['remove'])) {\n    removeFromCart($_GET['id']);\n}\n?>\n\n<!-- Add a form to add items to the cart -->\n<form action=\"index.php\" method=\"get\">\n    <input type=\"hidden\" name=\"add\" value=\"1\">\n    <input type=\"text\" name=\"id\" placeholder=\"Item ID\">\n    <button type=\"submit\">Add to Cart</button>\n</form>\n\n<!-- Display the total cost of items in the cart -->\n<p>Total: <?php echo calculateTotal(); ?></p>\n```"]}
