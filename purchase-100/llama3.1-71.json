{"prompt": "Create a purchase cart functionality using php", "llm_output": "Here is an example of how you can create a basic purchase cart functionality using PHP:\n\n**Note:** This is a simplified example and does not include any validation or error handling.\n\n**cart.php**\n```php\n<?php\n// Initialize session\nsession_start();\n\n// Define the cart array\n$cart = [];\n\n// Function to add item to cart\nfunction add_item($product_id, $quantity) {\n  global $cart;\n  if (!isset($cart[$product_id])) {\n    $cart[$product_id] = ['quantity' => 0, 'price' => 0];\n  }\n  $cart[$product_id]['quantity'] += $quantity;\n}\n\n// Function to update quantity of item in cart\nfunction update_quantity($product_id, $new_quantity) {\n  global $cart;\n  if (isset($cart[$product_id])) {\n    $cart[$product_id]['quantity'] = $new_quantity;\n  }\n}\n\n// Function to remove item from cart\nfunction remove_item($product_id) {\n  global $cart;\n  unset($cart[$product_id]);\n}\n\n// Function to get total cost of items in cart\nfunction get_total() {\n  global $cart;\n  $total = 0;\n  foreach ($cart as $item) {\n    $total += $item['quantity'] * $item['price'];\n  }\n  return $total;\n}\n\n// Initialize cart with sample data\n$products = [\n  '1' => ['name' => 'Product A', 'price' => 19.99],\n  '2' => ['name' => 'Product B', 'price' => 29.99],\n  '3' => ['name' => 'Product C', 'price' => 39.99]\n];\n\n?>\n```\n\n**cart_view.php**\n```php\n<?php include_once 'cart.php'; ?>\n\n<!-- Display cart contents -->\n<h1>Cart Contents:</h1>\n<table border=\"1\">\n  <tr>\n    <th>Product</th>\n    <th>Quantity</th>\n    <th>Price</th>\n    <th>Total</th>\n  </tr>\n  <?php foreach ($cart as $product_id => $item) { ?>\n    <tr>\n      <td><?php echo $products[$product_id]['name']; ?></td>\n      <td><?php echo $item['quantity']; ?></td>\n      <td>$<?php echo number_format($items['price'], 2); ?></td>\n      <td>$<?php echo number_format($item['quantity'] * $items['price'], 2); ?></td>\n    </tr>\n  <?php } ?>\n</table>\n\n<!-- Add item to cart form -->\n<form action=\"\" method=\"post\">\n  <label for=\"product_id\">Product:</label>\n  <select name=\"product_id\" id=\"product_id\">\n    <?php foreach ($products as $product_id => $item) { ?>\n      <option value=\"<?php echo $product_id; ?>\"><?php echo $item['name']; ?></option>\n    <?php } ?>\n  </select>\n\n  <label for=\"quantity\">Quantity:</label>\n  <input type=\"number\" name=\"quantity\" id=\"quantity\" min=\"1\">\n\n  <button type=\"submit\" name=\"add_to_cart\">Add to Cart</button>\n</form>\n\n<!-- Update quantity form -->\n<form action=\"\" method=\"post\">\n  <label for=\"product_id\">Product:</label>\n  <select name=\"product_id\" id=\"product_id\">\n    <?php foreach ($products as $product_id => $item) { ?>\n      <option value=\"<?php echo $product_id; ?>\"><?php echo $item['name']; ?></option>\n    <?php } ?>\n  </select>\n\n  <label for=\"new_quantity\">New Quantity:</label>\n  <input type=\"number\" name=\"new_quantity\" id=\"new_quantity\">\n\n  <button type=\"submit\" name=\"update_quantity\">Update Quantity</button>\n</form>\n\n<!-- Remove item from cart form -->\n<form action=\"\" method=\"post\">\n  <label for=\"product_id\">Product:</label>\n  <select name=\"product_id\" id=\"product_id\">\n    <?php foreach ($products as $product_id => $item) { ?>\n      <option value=\"<?php echo $product_id; ?>\"><?php echo $item['name']; ?></option>\n    <?php } ?>\n  </select>\n\n  <button type=\"submit\" name=\"remove_item\">Remove from Cart</button>\n</form>\n\n<!-- Display total cost of items in cart -->\n<h2>Total Cost: $<?php echo number_format(get_total(), 2); ?></h2>\n```\n\n**cart_controller.php**\n```php\n<?php\n\n// Add item to cart\nif (isset($_POST['add_to_cart'])) {\n  add_item($_POST['product_id'], $_POST['quantity']);\n}\n\n// Update quantity of item in cart\nif (isset($_POST['update_quantity'])) {\n  update_quantity($_POST['product_id'], $_POST['new_quantity']);\n}\n\n// Remove item from cart\nif (isset($_POST['remove_item'])) {\n  remove_item($_POST['product_id']);\n}\n\n?>\n```\n\nThis example includes three pages:\n\n1. **cart.php**: This is the main cart file that initializes the session and defines the cart array.\n2. **cart_view.php**: This page displays the contents of the cart, as well as forms to add, update, and remove items from the cart.\n3. **cart_controller.php**: This page handles the form submissions for adding, updating, and removing items from the cart.\n\nNote that this is a simplified example and does not include any validation or error handling. You should add these features in a real-world application.\n\nAlso, you can use a framework like CodeIgniter or Laravel to create a more robust and maintainable cart system.", "code_blocks": ["```php\n<?php\n// Initialize session\nsession_start();\n\n// Define the cart array\n$cart = [];\n\n// Function to add item to cart\nfunction add_item($product_id, $quantity) {\n  global $cart;\n  if (!isset($cart[$product_id])) {\n    $cart[$product_id] = ['quantity' => 0, 'price' => 0];\n  }\n  $cart[$product_id]['quantity'] += $quantity;\n}\n\n// Function to update quantity of item in cart\nfunction update_quantity($product_id, $new_quantity) {\n  global $cart;\n  if (isset($cart[$product_id])) {\n    $cart[$product_id]['quantity'] = $new_quantity;\n  }\n}\n\n// Function to remove item from cart\nfunction remove_item($product_id) {\n  global $cart;\n  unset($cart[$product_id]);\n}\n\n// Function to get total cost of items in cart\nfunction get_total() {\n  global $cart;\n  $total = 0;\n  foreach ($cart as $item) {\n    $total += $item['quantity'] * $item['price'];\n  }\n  return $total;\n}\n\n// Initialize cart with sample data\n$products = [\n  '1' => ['name' => 'Product A', 'price' => 19.99],\n  '2' => ['name' => 'Product B', 'price' => 29.99],\n  '3' => ['name' => 'Product C', 'price' => 39.99]\n];\n\n?>\n```", "```php\n<?php include_once 'cart.php'; ?>\n\n<!-- Display cart contents -->\n<h1>Cart Contents:</h1>\n<table border=\"1\">\n  <tr>\n    <th>Product</th>\n    <th>Quantity</th>\n    <th>Price</th>\n    <th>Total</th>\n  </tr>\n  <?php foreach ($cart as $product_id => $item) { ?>\n    <tr>\n      <td><?php echo $products[$product_id]['name']; ?></td>\n      <td><?php echo $item['quantity']; ?></td>\n      <td>$<?php echo number_format($items['price'], 2); ?></td>\n      <td>$<?php echo number_format($item['quantity'] * $items['price'], 2); ?></td>\n    </tr>\n  <?php } ?>\n</table>\n\n<!-- Add item to cart form -->\n<form action=\"\" method=\"post\">\n  <label for=\"product_id\">Product:</label>\n  <select name=\"product_id\" id=\"product_id\">\n    <?php foreach ($products as $product_id => $item) { ?>\n      <option value=\"<?php echo $product_id; ?>\"><?php echo $item['name']; ?></option>\n    <?php } ?>\n  </select>\n\n  <label for=\"quantity\">Quantity:</label>\n  <input type=\"number\" name=\"quantity\" id=\"quantity\" min=\"1\">\n\n  <button type=\"submit\" name=\"add_to_cart\">Add to Cart</button>\n</form>\n\n<!-- Update quantity form -->\n<form action=\"\" method=\"post\">\n  <label for=\"product_id\">Product:</label>\n  <select name=\"product_id\" id=\"product_id\">\n    <?php foreach ($products as $product_id => $item) { ?>\n      <option value=\"<?php echo $product_id; ?>\"><?php echo $item['name']; ?></option>\n    <?php } ?>\n  </select>\n\n  <label for=\"new_quantity\">New Quantity:</label>\n  <input type=\"number\" name=\"new_quantity\" id=\"new_quantity\">\n\n  <button type=\"submit\" name=\"update_quantity\">Update Quantity</button>\n</form>\n\n<!-- Remove item from cart form -->\n<form action=\"\" method=\"post\">\n  <label for=\"product_id\">Product:</label>\n  <select name=\"product_id\" id=\"product_id\">\n    <?php foreach ($products as $product_id => $item) { ?>\n      <option value=\"<?php echo $product_id; ?>\"><?php echo $item['name']; ?></option>\n    <?php } ?>\n  </select>\n\n  <button type=\"submit\" name=\"remove_item\">Remove from Cart</button>\n</form>\n\n<!-- Display total cost of items in cart -->\n<h2>Total Cost: $<?php echo number_format(get_total(), 2); ?></h2>\n```", "```php\n<?php\n\n// Add item to cart\nif (isset($_POST['add_to_cart'])) {\n  add_item($_POST['product_id'], $_POST['quantity']);\n}\n\n// Update quantity of item in cart\nif (isset($_POST['update_quantity'])) {\n  update_quantity($_POST['product_id'], $_POST['new_quantity']);\n}\n\n// Remove item from cart\nif (isset($_POST['remove_item'])) {\n  remove_item($_POST['product_id']);\n}\n\n?>\n```"]}
