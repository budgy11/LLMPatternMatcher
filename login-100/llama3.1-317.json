{"prompt": "Create a user login function using php", "llm_output": "Here is an example of a basic user login function in PHP:\n\n**login.php**\n```php\n<?php\n// Configuration variables\n$databaseHost = 'localhost';\n$databaseName = 'your_database_name';\n$databaseUsername = 'your_database_username';\n$databasePassword = 'your_database_password';\n\n// Connect to the database\n$mysqli = new mysqli($databaseHost, $databaseUsername, $databasePassword, $databaseName);\n\n// Check connection\nif ($mysqli->connect_errno) {\n    echo \"Failed to connect to MySQL: (\" . $mysqli->connect_errno . \") \" . $mysqli->connect_error;\n}\n\nfunction login_user() {\n    global $mysqli;\n\n    // Get user input from form\n    if (isset($_POST['username']) && isset($_POST['password'])) {\n        $username = $_POST['username'];\n        $password = $_POST['password'];\n\n        // Prepare query to check username and password\n        $stmt = $mysqli->prepare(\"SELECT * FROM users WHERE username = ? AND password = ?\");\n        $stmt->bind_param(\"ss\", $username, $password);\n\n        // Execute the query\n        $stmt->execute();\n        $result = $stmt->get_result();\n\n        // Check if user exists and password is correct\n        if ($result->num_rows > 0) {\n            while ($row = $result->fetch_assoc()) {\n                // If user exists, log them in and return their ID\n                $_SESSION['user_id'] = $row['id'];\n                $_SESSION['username'] = $row['username'];\n\n                header('Location: dashboard.php');\n                exit;\n            }\n        } else {\n            echo \"Invalid username or password\";\n        }\n\n        // Close the statement\n        $stmt->close();\n    }\n}\n\n// Check if form has been submitted and call login_user function\nif (isset($_POST['login'])) {\n    login_user();\n}\n?>\n```\n\n**index.php**\n```php\n<?php\nrequire 'login.php';\n?>\n\n<!DOCTYPE html>\n<html>\n<head>\n    <title>Login Page</title>\n</head>\n<body>\n\n<form action=\"<?php echo $_SERVER['PHP_SELF']; ?>\" method=\"post\">\n    <label>Username:</label><br>\n    <input type=\"text\" name=\"username\"><br>\n    <label>Password:</label><br>\n    <input type=\"password\" name=\"password\"><br>\n    <button type=\"submit\" name=\"login\">Login</button>\n</form>\n\n<?php\nif (isset($_SESSION['user_id'])) {\n    echo \"Welcome, \" . $_SESSION['username'] . \"!\";\n}\n?>\n```\n\n**database setup:**\n\nYou will need to create a database and add the following table:\n\n```sql\nCREATE TABLE users (\n  id INT AUTO_INCREMENT PRIMARY KEY,\n  username VARCHAR(255),\n  password VARCHAR(255)\n);\n```\n\nNote that in a real-world application, you should not store passwords as plain text. You should use a library like `password_hash` to hash and verify passwords.\n\nThis is a basic example of user login using PHP. You may want to add additional features such as:\n\n* User registration\n* Password recovery\n* Session management\n* Security measures (e.g., cross-site scripting protection)\n* Error handling", "code_blocks": ["```php\n<?php\n// Configuration variables\n$databaseHost = 'localhost';\n$databaseName = 'your_database_name';\n$databaseUsername = 'your_database_username';\n$databasePassword = 'your_database_password';\n\n// Connect to the database\n$mysqli = new mysqli($databaseHost, $databaseUsername, $databasePassword, $databaseName);\n\n// Check connection\nif ($mysqli->connect_errno) {\n    echo \"Failed to connect to MySQL: (\" . $mysqli->connect_errno . \") \" . $mysqli->connect_error;\n}\n\nfunction login_user() {\n    global $mysqli;\n\n    // Get user input from form\n    if (isset($_POST['username']) && isset($_POST['password'])) {\n        $username = $_POST['username'];\n        $password = $_POST['password'];\n\n        // Prepare query to check username and password\n        $stmt = $mysqli->prepare(\"SELECT * FROM users WHERE username = ? AND password = ?\");\n        $stmt->bind_param(\"ss\", $username, $password);\n\n        // Execute the query\n        $stmt->execute();\n        $result = $stmt->get_result();\n\n        // Check if user exists and password is correct\n        if ($result->num_rows > 0) {\n            while ($row = $result->fetch_assoc()) {\n                // If user exists, log them in and return their ID\n                $_SESSION['user_id'] = $row['id'];\n                $_SESSION['username'] = $row['username'];\n\n                header('Location: dashboard.php');\n                exit;\n            }\n        } else {\n            echo \"Invalid username or password\";\n        }\n\n        // Close the statement\n        $stmt->close();\n    }\n}\n\n// Check if form has been submitted and call login_user function\nif (isset($_POST['login'])) {\n    login_user();\n}\n?>\n```", "```php\n<?php\nrequire 'login.php';\n?>\n\n<!DOCTYPE html>\n<html>\n<head>\n    <title>Login Page</title>\n</head>\n<body>\n\n<form action=\"<?php echo $_SERVER['PHP_SELF']; ?>\" method=\"post\">\n    <label>Username:</label><br>\n    <input type=\"text\" name=\"username\"><br>\n    <label>Password:</label><br>\n    <input type=\"password\" name=\"password\"><br>\n    <button type=\"submit\" name=\"login\">Login</button>\n</form>\n\n<?php\nif (isset($_SESSION['user_id'])) {\n    echo \"Welcome, \" . $_SESSION['username'] . \"!\";\n}\n?>\n```", null]}
