{"prompt": "Create a user login function using php", "llm_output": "Here is an example of a basic user login function in PHP:\n\n**login.php**\n```php\n<?php\n// Database connection settings\n$dbHost = 'localhost';\n$dbUsername = 'your_username';\n$dbPassword = 'your_password';\n$dbName = 'your_database';\n\n// Create database connection\n$conn = new mysqli($dbHost, $dbUsername, $dbPassword, $dbName);\n\nif ($conn->connect_error) {\n    die(\"Connection failed: \" . $conn->connect_error);\n}\n\nfunction login_user() {\n    // Get user input from form submission\n    $username = $_POST['username'];\n    $password = $_POST['password'];\n\n    // SQL query to check if username and password match\n    $query = \"SELECT * FROM users WHERE username = '$username' AND password = '$password'\";\n    $result = $conn->query($query);\n\n    // Check if user exists and password is correct\n    if ($result->num_rows > 0) {\n        while($row = $result->fetch_assoc()) {\n            session_start();\n            $_SESSION['logged_in'] = true;\n            $_SESSION['username'] = $row['username'];\n            header(\"Location: dashboard.php\");\n            exit;\n        }\n    } else {\n        echo \"Invalid username or password\";\n    }\n}\n\n// Check if form has been submitted\nif (isset($_POST['submit'])) {\n    login_user();\n} else {\n    // Display login form\n    ?>\n    <form action=\"\" method=\"post\">\n        <label>Username:</label>\n        <input type=\"text\" name=\"username\"><br><br>\n        <label>Password:</label>\n        <input type=\"password\" name=\"password\"><br><br>\n        <input type=\"submit\" name=\"submit\" value=\"Login\">\n    </form>\n    <?php\n}\n?>\n```\n**How it works:**\n\n1. The script connects to a MySQL database using the `mysqli` extension.\n2. When the user submits the login form, the `login_user()` function is called.\n3. This function checks if the username and password match an existing user in the database by executing a SQL query.\n4. If the user exists and the password is correct, the script sets session variables to indicate that the user has logged in successfully and redirects them to the dashboard page using `header()`.\n5. If the user does not exist or the password is incorrect, it displays an error message.\n\n**Note:**\n\n* This example uses `mysqli` extension for database interactions. You can use PDO (PHP Data Objects) instead.\n* For security reasons, consider hashing and salting passwords in your production code.\n* Always validate user input to prevent SQL injection attacks.\n* Store sensitive data like password hashes securely using a library like PHPass or Argon2.\n\nRemember to replace placeholders (`your_username`, `your_password`, etc.) with actual values for your database.", "code_blocks": ["```php\n<?php\n// Database connection settings\n$dbHost = 'localhost';\n$dbUsername = 'your_username';\n$dbPassword = 'your_password';\n$dbName = 'your_database';\n\n// Create database connection\n$conn = new mysqli($dbHost, $dbUsername, $dbPassword, $dbName);\n\nif ($conn->connect_error) {\n    die(\"Connection failed: \" . $conn->connect_error);\n}\n\nfunction login_user() {\n    // Get user input from form submission\n    $username = $_POST['username'];\n    $password = $_POST['password'];\n\n    // SQL query to check if username and password match\n    $query = \"SELECT * FROM users WHERE username = '$username' AND password = '$password'\";\n    $result = $conn->query($query);\n\n    // Check if user exists and password is correct\n    if ($result->num_rows > 0) {\n        while($row = $result->fetch_assoc()) {\n            session_start();\n            $_SESSION['logged_in'] = true;\n            $_SESSION['username'] = $row['username'];\n            header(\"Location: dashboard.php\");\n            exit;\n        }\n    } else {\n        echo \"Invalid username or password\";\n    }\n}\n\n// Check if form has been submitted\nif (isset($_POST['submit'])) {\n    login_user();\n} else {\n    // Display login form\n    ?>\n    <form action=\"\" method=\"post\">\n        <label>Username:</label>\n        <input type=\"text\" name=\"username\"><br><br>\n        <label>Password:</label>\n        <input type=\"password\" name=\"password\"><br><br>\n        <input type=\"submit\" name=\"submit\" value=\"Login\">\n    </form>\n    <?php\n}\n?>\n```"]}
