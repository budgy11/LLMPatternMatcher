{"prompt": "Create a user login function using php", "llm_output": "Here is an example of a simple user login function using PHP:\n\n**`login.php`**\n```php\n<?php\n\n// Configuration settings\n$database_host = 'localhost';\n$database_username = 'your_username';\n$database_password = 'your_password';\n$database_name = 'your_database';\n\n// Establish database connection\n$conn = new mysqli($database_host, $database_username, $database_password, $database_name);\n\nif ($conn->connect_error) {\n    die(\"Connection failed: \" . $conn->connect_error);\n}\n\nfunction login_user() {\n    global $conn;\n\n    // Get user input\n    $username = $_POST['username'];\n    $password = $_POST['password'];\n\n    // Sanitize input (escape special characters)\n    $username = mysqli_real_escape_string($conn, $username);\n    $password = mysqli_real_escape_string($conn, $password);\n\n    // Query database for matching username and password\n    $query = \"SELECT * FROM users WHERE username = '$username' AND password = '$password'\";\n    $result = $conn->query($query);\n\n    if ($result->num_rows > 0) {\n        while ($row = $result->fetch_assoc()) {\n            session_start();\n            $_SESSION['username'] = $username;\n            $_SESSION['id'] = $row['id'];\n            header('Location: dashboard.php');\n            exit;\n        }\n    } else {\n        echo 'Invalid username or password';\n    }\n\n    // Close database connection\n    $conn->close();\n}\n\nif (isset($_POST['login'])) {\n    login_user();\n} else {\n    ?>\n    <form action=\"<?php echo $_SERVER['PHP_SELF']; ?>\" method=\"post\">\n        <label for=\"username\">Username:</label>\n        <input type=\"text\" id=\"username\" name=\"username\"><br><br>\n        <label for=\"password\">Password:</label>\n        <input type=\"password\" id=\"password\" name=\"password\"><br><br>\n        <button type=\"submit\" name=\"login\">Login</button>\n    </form>\n    <?php\n}\n\n?>\n```\n\n**How it works:**\n\n1. The script connects to a MySQL database using the `mysqli` extension.\n2. When the form is submitted, the script calls the `login_user()` function with the user's input (`$_POST['username']` and `$_POST['password']`).\n3. The function queries the database for matching username and password using the `SELECT` statement.\n4. If a match is found, the script starts a session, stores the username and ID in the session array, and redirects to the dashboard page.\n5. If no match is found, an error message is displayed.\n\n**Note:** This is a basic example and should not be used for production code without proper security measures (e.g., password hashing, salted passwords). Additionally, you should replace `your_username`, `your_password`, and `your_database` with your actual database credentials.", "code_blocks": ["```php\n<?php\n\n// Configuration settings\n$database_host = 'localhost';\n$database_username = 'your_username';\n$database_password = 'your_password';\n$database_name = 'your_database';\n\n// Establish database connection\n$conn = new mysqli($database_host, $database_username, $database_password, $database_name);\n\nif ($conn->connect_error) {\n    die(\"Connection failed: \" . $conn->connect_error);\n}\n\nfunction login_user() {\n    global $conn;\n\n    // Get user input\n    $username = $_POST['username'];\n    $password = $_POST['password'];\n\n    // Sanitize input (escape special characters)\n    $username = mysqli_real_escape_string($conn, $username);\n    $password = mysqli_real_escape_string($conn, $password);\n\n    // Query database for matching username and password\n    $query = \"SELECT * FROM users WHERE username = '$username' AND password = '$password'\";\n    $result = $conn->query($query);\n\n    if ($result->num_rows > 0) {\n        while ($row = $result->fetch_assoc()) {\n            session_start();\n            $_SESSION['username'] = $username;\n            $_SESSION['id'] = $row['id'];\n            header('Location: dashboard.php');\n            exit;\n        }\n    } else {\n        echo 'Invalid username or password';\n    }\n\n    // Close database connection\n    $conn->close();\n}\n\nif (isset($_POST['login'])) {\n    login_user();\n} else {\n    ?>\n    <form action=\"<?php echo $_SERVER['PHP_SELF']; ?>\" method=\"post\">\n        <label for=\"username\">Username:</label>\n        <input type=\"text\" id=\"username\" name=\"username\"><br><br>\n        <label for=\"password\">Password:</label>\n        <input type=\"password\" id=\"password\" name=\"password\"><br><br>\n        <button type=\"submit\" name=\"login\">Login</button>\n    </form>\n    <?php\n}\n\n?>\n```"]}
