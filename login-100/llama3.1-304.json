{"prompt": "Create a user login function using php", "llm_output": "**User Login Function in PHP**\n=====================================\n\nThis is an example of a basic user login function written in PHP. This script will take in the username and password from the user, compare it with the stored credentials, and return whether the login was successful or not.\n\n### Database Setup\n-------------------\n\nBefore running this code, you'll need to create a database table for storing usernames and passwords. Here's an example SQL query:\n\n```sql\nCREATE TABLE users (\n  id INT AUTO_INCREMENT PRIMARY KEY,\n  username VARCHAR(255) NOT NULL,\n  password VARCHAR(255) NOT NULL\n);\n```\n\n### PHP Code\n------------\n\n**`login.php`**\n```php\n<?php\n\n// Database connection settings\n$db_host = 'localhost';\n$db_username = 'your_username';\n$db_password = 'your_password';\n$db_name = 'your_database';\n\n// Connect to database\n$conn = new mysqli($db_host, $db_username, $db_password, $db_name);\n\nif ($conn->connect_error) {\n    die(\"Connection failed: \" . $conn->connect_error);\n}\n\nfunction login_user() {\n  global $conn;\n\n  // Get user input\n  $username = $_POST['username'];\n  $password = $_POST['password'];\n\n  // Prepare SQL query\n  $query = \"SELECT * FROM users WHERE username=? AND password=?\";\n  $stmt = $conn->prepare($query);\n  $stmt->bind_param(\"ss\", $username, $password);\n\n  // Execute query and get result\n  $stmt->execute();\n  $result = $stmt->get_result();\n\n  if ($result->num_rows > 0) {\n    return true; // Login successful\n  } else {\n    return false; // Login failed\n  }\n\n  // Close statement and connection\n  $stmt->close();\n  $conn->close();\n}\n\nif (isset($_POST['submit'])) {\n  $login_result = login_user();\n\n  if ($login_result) {\n    echo \"Login successful!\";\n  } else {\n    echo \"Invalid username or password.\";\n  }\n}\n```\n\n### Example Use Case\n---------------------\n\nTo use this code, create an HTML form that submits to the `login.php` file. Here's an example:\n\n**`index.html`**\n```html\n<form action=\"login.php\" method=\"post\">\n  <label for=\"username\">Username:</label>\n  <input type=\"text\" id=\"username\" name=\"username\"><br><br>\n  <label for=\"password\">Password:</label>\n  <input type=\"password\" id=\"password\" name=\"password\"><br><br>\n  <input type=\"submit\" value=\"Login\">\n</form>\n```\n\nThis code creates a basic user login system. However, please note that storing passwords in plain text is not secure and should be replaced with a more secure method, such as hashing the password using a library like [PHPass](http://www.openwall.com/phpass/).", "code_blocks": [null, "```php\n<?php\n\n// Database connection settings\n$db_host = 'localhost';\n$db_username = 'your_username';\n$db_password = 'your_password';\n$db_name = 'your_database';\n\n// Connect to database\n$conn = new mysqli($db_host, $db_username, $db_password, $db_name);\n\nif ($conn->connect_error) {\n    die(\"Connection failed: \" . $conn->connect_error);\n}\n\nfunction login_user() {\n  global $conn;\n\n  // Get user input\n  $username = $_POST['username'];\n  $password = $_POST['password'];\n\n  // Prepare SQL query\n  $query = \"SELECT * FROM users WHERE username=? AND password=?\";\n  $stmt = $conn->prepare($query);\n  $stmt->bind_param(\"ss\", $username, $password);\n\n  // Execute query and get result\n  $stmt->execute();\n  $result = $stmt->get_result();\n\n  if ($result->num_rows > 0) {\n    return true; // Login successful\n  } else {\n    return false; // Login failed\n  }\n\n  // Close statement and connection\n  $stmt->close();\n  $conn->close();\n}\n\nif (isset($_POST['submit'])) {\n  $login_result = login_user();\n\n  if ($login_result) {\n    echo \"Login successful!\";\n  } else {\n    echo \"Invalid username or password.\";\n  }\n}\n```", null]}
