{"prompt": "Create a user login function using php", "llm_output": "Here's an example of a simple user login function in PHP:\n\n**login.php**\n```php\n<?php\n// Define database connection details\n$db_host = 'localhost';\n$db_username = 'username';\n$db_password = 'password';\n$db_name = 'database';\n\n// Connect to the database\n$conn = new mysqli($db_host, $db_username, $db_password, $db_name);\n\nif ($conn->connect_error) {\n    die(\"Connection failed: \" . $conn->connect_error);\n}\n\n// Define login function\nfunction loginUser($username, $password) {\n    global $conn;\n\n    // Query the database for user existence and password match\n    $sql = \"SELECT * FROM users WHERE username = '$username' AND password = '\" . md5($password) . \"'\";\n    $result = $conn->query($sql);\n\n    if ($result->num_rows > 0) {\n        return true;\n    } else {\n        return false;\n    }\n}\n\n// Check login credentials\nif (isset($_POST['login'])) {\n    $username = $_POST['username'];\n    $password = $_POST['password'];\n\n    // Sanitize input to prevent SQL injection\n    $username = mysqli_real_escape_string($conn, $username);\n    $password = mysqli_real_escape_string($conn, $password);\n\n    if (loginUser($username, $password)) {\n        echo \"Login successful!\";\n    } else {\n        echo \"Invalid username or password.\";\n    }\n}\n\n// Close database connection\n$conn->close();\n?>\n```\n**index.php**\n```php\n<?php\nrequire_once 'login.php';\n\n// Create login form\n?>\n\n<form action=\"<?php echo $_SERVER['PHP_SELF']; ?>\" method=\"post\">\n    <label for=\"username\">Username:</label>\n    <input type=\"text\" id=\"username\" name=\"username\"><br><br>\n    <label for=\"password\">Password:</label>\n    <input type=\"password\" id=\"password\" name=\"password\"><br><br>\n    <input type=\"submit\" name=\"login\" value=\"Login\">\n</form>\n\n<?php\n?>\n```\nThis code defines a `loginUser` function that takes the username and password as arguments, queries the database for user existence and password match using MD5 hashing, and returns a boolean indicating whether the login was successful.\n\nIn the `index.php` file, we create a simple login form with fields for username and password. When the form is submitted, it checks if the login credentials are valid by calling the `loginUser` function. If the login is successful, it displays an \"Login successful!\" message; otherwise, it displays an error message.\n\nNote that this is a basic example and should not be used in production without proper security measures (e.g., password hashing using bcrypt or PBKDF2, secure connection using HTTPS).\n\n**Security Considerations:**\n\n* Use secure password hashing algorithms like bcrypt or PBKDF2 instead of MD5.\n* Store passwords securely using hashed values.\n* Implement rate limiting to prevent brute-force attacks.\n* Regularly update and patch your PHP version to ensure you have the latest security fixes.", "code_blocks": ["```php\n<?php\n// Define database connection details\n$db_host = 'localhost';\n$db_username = 'username';\n$db_password = 'password';\n$db_name = 'database';\n\n// Connect to the database\n$conn = new mysqli($db_host, $db_username, $db_password, $db_name);\n\nif ($conn->connect_error) {\n    die(\"Connection failed: \" . $conn->connect_error);\n}\n\n// Define login function\nfunction loginUser($username, $password) {\n    global $conn;\n\n    // Query the database for user existence and password match\n    $sql = \"SELECT * FROM users WHERE username = '$username' AND password = '\" . md5($password) . \"'\";\n    $result = $conn->query($sql);\n\n    if ($result->num_rows > 0) {\n        return true;\n    } else {\n        return false;\n    }\n}\n\n// Check login credentials\nif (isset($_POST['login'])) {\n    $username = $_POST['username'];\n    $password = $_POST['password'];\n\n    // Sanitize input to prevent SQL injection\n    $username = mysqli_real_escape_string($conn, $username);\n    $password = mysqli_real_escape_string($conn, $password);\n\n    if (loginUser($username, $password)) {\n        echo \"Login successful!\";\n    } else {\n        echo \"Invalid username or password.\";\n    }\n}\n\n// Close database connection\n$conn->close();\n?>\n```", "```php\n<?php\nrequire_once 'login.php';\n\n// Create login form\n?>\n\n<form action=\"<?php echo $_SERVER['PHP_SELF']; ?>\" method=\"post\">\n    <label for=\"username\">Username:</label>\n    <input type=\"text\" id=\"username\" name=\"username\"><br><br>\n    <label for=\"password\">Password:</label>\n    <input type=\"password\" id=\"password\" name=\"password\"><br><br>\n    <input type=\"submit\" name=\"login\" value=\"Login\">\n</form>\n\n<?php\n?>\n```"]}
