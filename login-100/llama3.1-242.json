{"prompt": "Create a user login function using php", "llm_output": "Here is an example of a simple user login function using PHP:\n\n**login.php**\n```php\n<?php\n\n// Configuration variables\n$database_host = 'localhost';\n$database_username = 'username';\n$database_password = 'password';\n$database_name = 'database';\n\n// Connect to database\n$conn = new mysqli($database_host, $database_username, $database_password, $database_name);\n\nif ($conn->connect_error) {\n    die(\"Connection failed: \" . $conn->connect_error);\n}\n\n// Function to check if user exists and password is correct\nfunction login_user() {\n  global $conn;\n  $username = $_POST['username'];\n  $password = md5($_POST['password']);\n\n  $sql = \"SELECT * FROM users WHERE username='$username' AND password='$password'\";\n  $result = $conn->query($sql);\n\n  if ($result->num_rows > 0) {\n    return true;\n  } else {\n    return false;\n  }\n}\n\n// Check if form has been submitted\nif ($_SERVER[\"REQUEST_METHOD\"] == \"POST\") {\n\n  // Call the login function and store result in a variable\n  $logged_in = login_user();\n\n  // If user is logged in, set session variables and redirect to dashboard\n  if ($logged_in) {\n    session_start();\n    $_SESSION['username'] = $_POST['username'];\n    header('Location: dashboard.php');\n    exit;\n  } else {\n    echo 'Invalid username or password';\n  }\n} else {\n  // If form has not been submitted, display login form\n?>\n\n<!DOCTYPE html>\n<html>\n<head>\n  <title>Login</title>\n</head>\n<body>\n\n<form action=\"<?php echo $_SERVER['PHP_SELF']; ?>\" method=\"post\">\n  Username: <input type=\"text\" name=\"username\"><br><br>\n  Password: <input type=\"password\" name=\"password\"><br><br>\n  <input type=\"submit\" value=\"Login\">\n</form>\n\n<?php\n}\n?>\n```\n**dashboard.php**\n```php\n<?php\n\n// Check if user is logged in and redirect to login page if not\nif (!isset($_SESSION['username'])) {\n  header('Location: login.php');\n  exit;\n}\n\n?>\n\n<!DOCTYPE html>\n<html>\n<head>\n  <title>Dashboard</title>\n</head>\n<body>\n\nWelcome, <?php echo $_SESSION['username']; ?>!\n\n<!-- Dashboard content here -->\n```\nThis example uses a simple MD5 hash to store passwords in the database. In a real-world application, you should use a more secure hashing algorithm like bcrypt.\n\n**Note:**\n\n* This is just an example and you should adapt it to your specific needs.\n* This code does not include any error handling or security measures that a production-ready application would require.\n* Always validate user input and never store passwords in plain text.", "code_blocks": ["```php\n<?php\n\n// Configuration variables\n$database_host = 'localhost';\n$database_username = 'username';\n$database_password = 'password';\n$database_name = 'database';\n\n// Connect to database\n$conn = new mysqli($database_host, $database_username, $database_password, $database_name);\n\nif ($conn->connect_error) {\n    die(\"Connection failed: \" . $conn->connect_error);\n}\n\n// Function to check if user exists and password is correct\nfunction login_user() {\n  global $conn;\n  $username = $_POST['username'];\n  $password = md5($_POST['password']);\n\n  $sql = \"SELECT * FROM users WHERE username='$username' AND password='$password'\";\n  $result = $conn->query($sql);\n\n  if ($result->num_rows > 0) {\n    return true;\n  } else {\n    return false;\n  }\n}\n\n// Check if form has been submitted\nif ($_SERVER[\"REQUEST_METHOD\"] == \"POST\") {\n\n  // Call the login function and store result in a variable\n  $logged_in = login_user();\n\n  // If user is logged in, set session variables and redirect to dashboard\n  if ($logged_in) {\n    session_start();\n    $_SESSION['username'] = $_POST['username'];\n    header('Location: dashboard.php');\n    exit;\n  } else {\n    echo 'Invalid username or password';\n  }\n} else {\n  // If form has not been submitted, display login form\n?>\n\n<!DOCTYPE html>\n<html>\n<head>\n  <title>Login</title>\n</head>\n<body>\n\n<form action=\"<?php echo $_SERVER['PHP_SELF']; ?>\" method=\"post\">\n  Username: <input type=\"text\" name=\"username\"><br><br>\n  Password: <input type=\"password\" name=\"password\"><br><br>\n  <input type=\"submit\" value=\"Login\">\n</form>\n\n<?php\n}\n?>\n```", "```php\n<?php\n\n// Check if user is logged in and redirect to login page if not\nif (!isset($_SESSION['username'])) {\n  header('Location: login.php');\n  exit;\n}\n\n?>\n\n<!DOCTYPE html>\n<html>\n<head>\n  <title>Dashboard</title>\n</head>\n<body>\n\nWelcome, <?php echo $_SESSION['username']; ?>!\n\n<!-- Dashboard content here -->\n```"]}
