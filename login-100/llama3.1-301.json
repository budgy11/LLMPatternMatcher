{"prompt": "Create a user login function using php", "llm_output": "Here is an example of a basic user login function using PHP:\n\n**login.php**\n```php\n<?php\n// Configuration settings\n$database_host = 'localhost';\n$database_username = 'your_username';\n$database_password = 'your_password';\n$database_name = 'your_database';\n\n// Create database connection\n$conn = new mysqli($database_host, $database_username, $database_password, $database_name);\n\nif ($conn->connect_error) {\n    die(\"Connection failed: \" . $conn->connect_error);\n}\n\n// Function to login user\nfunction login_user($username, $password) {\n    global $conn;\n    \n    // Prepare SQL query\n    $stmt = $conn->prepare(\"SELECT * FROM users WHERE username = ? AND password = ?\");\n    $stmt->bind_param(\"ss\", $username, $password);\n    \n    // Execute query\n    $stmt->execute();\n    \n    // Get result\n    $result = $stmt->get_result();\n    \n    if ($result->num_rows > 0) {\n        // User found, return true and user data\n        $row = $result->fetch_assoc();\n        return array(true, $row);\n    } else {\n        // User not found, return false\n        return array(false, null);\n    }\n}\n\n// Check if form submitted\nif ($_SERVER[\"REQUEST_METHOD\"] == \"POST\") {\n    // Get username and password from POST data\n    $username = $_POST['username'];\n    $password = $_POST['password'];\n    \n    // Hash password (optional)\n    $hashed_password = hash('sha256', $password);\n    \n    // Login user\n    $result = login_user($username, $hashed_password);\n    \n    if ($result[0]) {\n        // User logged in successfully, redirect to dashboard\n        header('Location: dashboard.php');\n        exit;\n    } else {\n        // User not logged in, display error message\n        echo 'Invalid username or password';\n    }\n}\n\n// Close database connection\n$conn->close();\n?>\n```\n**login.html**\n```html\n<!DOCTYPE html>\n<html>\n<head>\n  <title>Login Page</title>\n</head>\n<body>\n  <form action=\"login.php\" method=\"post\">\n    <label>Username:</label>\n    <input type=\"text\" name=\"username\"><br><br>\n    <label>Password:</label>\n    <input type=\"password\" name=\"password\"><br><br>\n    <input type=\"submit\" value=\"Login\">\n  </form>\n</body>\n</html>\n```\n**dashboard.php**\n```php\n<?php\n// Configuration settings\n$database_host = 'localhost';\n$database_username = 'your_username';\n$database_password = 'your_password';\n$database_name = 'your_database';\n\n// Create database connection\n$conn = new mysqli($database_host, $database_username, $database_password, $database_name);\n\nif ($conn->connect_error) {\n    die(\"Connection failed: \" . $conn->connect_error);\n}\n\n// Get user data from session (optional)\n$user_data = $_SESSION['user_data'];\n\n// Close database connection\n$conn->close();\n?>\n<!DOCTYPE html>\n<html>\n<head>\n  <title>Dashboard</title>\n</head>\n<body>\n  <?php echo 'Welcome, ' . $user_data['username']; ?>\n  <!-- Dashboard content here -->\n</body>\n</html>\n```\n**Note:**\n\n* This example uses a basic username and password system. You should consider using a more secure authentication method like OAuth or LDAP.\n* The `login_user` function returns an array with two elements: a boolean indicating whether the login was successful, and user data if found.\n* The `dashboard.php` file assumes that you have stored the user's session data in the `$_SESSION` superglobal. You should adjust this code according to your specific needs.\n\nRemember to replace placeholders like `'your_username'`, `'your_password'`, and `'your_database'` with your actual database credentials.", "code_blocks": ["```php\n<?php\n// Configuration settings\n$database_host = 'localhost';\n$database_username = 'your_username';\n$database_password = 'your_password';\n$database_name = 'your_database';\n\n// Create database connection\n$conn = new mysqli($database_host, $database_username, $database_password, $database_name);\n\nif ($conn->connect_error) {\n    die(\"Connection failed: \" . $conn->connect_error);\n}\n\n// Function to login user\nfunction login_user($username, $password) {\n    global $conn;\n    \n    // Prepare SQL query\n    $stmt = $conn->prepare(\"SELECT * FROM users WHERE username = ? AND password = ?\");\n    $stmt->bind_param(\"ss\", $username, $password);\n    \n    // Execute query\n    $stmt->execute();\n    \n    // Get result\n    $result = $stmt->get_result();\n    \n    if ($result->num_rows > 0) {\n        // User found, return true and user data\n        $row = $result->fetch_assoc();\n        return array(true, $row);\n    } else {\n        // User not found, return false\n        return array(false, null);\n    }\n}\n\n// Check if form submitted\nif ($_SERVER[\"REQUEST_METHOD\"] == \"POST\") {\n    // Get username and password from POST data\n    $username = $_POST['username'];\n    $password = $_POST['password'];\n    \n    // Hash password (optional)\n    $hashed_password = hash('sha256', $password);\n    \n    // Login user\n    $result = login_user($username, $hashed_password);\n    \n    if ($result[0]) {\n        // User logged in successfully, redirect to dashboard\n        header('Location: dashboard.php');\n        exit;\n    } else {\n        // User not logged in, display error message\n        echo 'Invalid username or password';\n    }\n}\n\n// Close database connection\n$conn->close();\n?>\n```", null, "```php\n<?php\n// Configuration settings\n$database_host = 'localhost';\n$database_username = 'your_username';\n$database_password = 'your_password';\n$database_name = 'your_database';\n\n// Create database connection\n$conn = new mysqli($database_host, $database_username, $database_password, $database_name);\n\nif ($conn->connect_error) {\n    die(\"Connection failed: \" . $conn->connect_error);\n}\n\n// Get user data from session (optional)\n$user_data = $_SESSION['user_data'];\n\n// Close database connection\n$conn->close();\n?>\n<!DOCTYPE html>\n<html>\n<head>\n  <title>Dashboard</title>\n</head>\n<body>\n  <?php echo 'Welcome, ' . $user_data['username']; ?>\n  <!-- Dashboard content here -->\n</body>\n</html>\n```"]}
