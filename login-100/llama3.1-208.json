{"prompt": "Create a user login function using php", "llm_output": "Here is an example of a simple user login function in PHP:\n```php\n<?php\n\n/**\n * User Login Function\n *\n * Handles user login functionality.\n *\n * @author [Your Name]\n */\n\n// Configuration Variables\n$loginFormUrl = 'login.php'; // URL for the login form\n$dbHost = 'localhost';\n$dbName = 'your_database_name';\n$dbUsername = 'your_database_username';\n$dbPassword = 'your_database_password';\n\n// Connect to Database\nfunction connectToDatabase() {\n  $conn = new mysqli($GLOBALS['dbHost'], $GLOBALS['dbUsername'], $Globals['dbPassword'], $GLOBALS['dbName']);\n  if ($conn->connect_error) {\n    die(\"Connection failed: \" . $conn->connect_error);\n  }\n  return $conn;\n}\n\n// Check User Credentials\nfunction checkUserCredentials($username, $password) {\n  // SQL Query to select user with matching username and password\n  $sql = \"SELECT * FROM users WHERE username = '$username' AND password = '$password'\";\n  \n  // Connect to Database\n  $conn = connectToDatabase();\n  \n  // Execute SQL Query\n  $result = $conn->query($sql);\n  \n  // Check if query returned any results\n  if ($result->num_rows > 0) {\n    return true; // User credentials are valid\n  } else {\n    return false; // User credentials are invalid\n  }\n}\n\n// Login Function\nfunction login($username, $password) {\n  // Check user credentials\n  if (checkUserCredentials($username, $password)) {\n    // If valid, redirect to secure area\n    header(\"Location: secure_area.php\");\n    exit;\n  } else {\n    // If invalid, display error message\n    echo \"Invalid username or password\";\n  }\n}\n\n// Example usage:\nif (isset($_POST['login'])) {\n  $username = $_POST['username'];\n  $password = $_POST['password'];\n  \n  login($username, $password);\n}\n\n?>\n```\nThis code provides a simple example of how to implement user login functionality in PHP. The `connectToDatabase` function connects to the database using the provided credentials. The `checkUserCredentials` function checks if the provided username and password match any records in the `users` table. If they do, it returns true; otherwise, it returns false.\n\nThe `login` function takes two parameters: `$username` and `$password`. It calls the `checkUserCredentials` function to check if the user credentials are valid. If they are, it redirects the user to the secure area (in this example, `secure_area.php`). If not, it displays an error message.\n\nNote that in a real-world application, you should use prepared statements or parameterized queries to prevent SQL injection attacks. You can also add additional features like password hashing and salting for better security.\n\nExample usage:\n```php\n<form action=\"login.php\" method=\"post\">\n  <input type=\"text\" name=\"username\" placeholder=\"Username\">\n  <input type=\"password\" name=\"password\" placeholder=\"Password\">\n  <button type=\"submit\" name=\"login\">Login</button>\n</form>\n```\nIn this example, the user inputs their username and password in the form, which is submitted to `login.php`. The `login` function checks the user credentials and redirects them to the secure area if valid.", "code_blocks": ["```php\n<?php\n\n/**\n * User Login Function\n *\n * Handles user login functionality.\n *\n * @author [Your Name]\n */\n\n// Configuration Variables\n$loginFormUrl = 'login.php'; // URL for the login form\n$dbHost = 'localhost';\n$dbName = 'your_database_name';\n$dbUsername = 'your_database_username';\n$dbPassword = 'your_database_password';\n\n// Connect to Database\nfunction connectToDatabase() {\n  $conn = new mysqli($GLOBALS['dbHost'], $GLOBALS['dbUsername'], $Globals['dbPassword'], $GLOBALS['dbName']);\n  if ($conn->connect_error) {\n    die(\"Connection failed: \" . $conn->connect_error);\n  }\n  return $conn;\n}\n\n// Check User Credentials\nfunction checkUserCredentials($username, $password) {\n  // SQL Query to select user with matching username and password\n  $sql = \"SELECT * FROM users WHERE username = '$username' AND password = '$password'\";\n  \n  // Connect to Database\n  $conn = connectToDatabase();\n  \n  // Execute SQL Query\n  $result = $conn->query($sql);\n  \n  // Check if query returned any results\n  if ($result->num_rows > 0) {\n    return true; // User credentials are valid\n  } else {\n    return false; // User credentials are invalid\n  }\n}\n\n// Login Function\nfunction login($username, $password) {\n  // Check user credentials\n  if (checkUserCredentials($username, $password)) {\n    // If valid, redirect to secure area\n    header(\"Location: secure_area.php\");\n    exit;\n  } else {\n    // If invalid, display error message\n    echo \"Invalid username or password\";\n  }\n}\n\n// Example usage:\nif (isset($_POST['login'])) {\n  $username = $_POST['username'];\n  $password = $_POST['password'];\n  \n  login($username, $password);\n}\n\n?>\n```", "```php\n<form action=\"login.php\" method=\"post\">\n  <input type=\"text\" name=\"username\" placeholder=\"Username\">\n  <input type=\"password\" name=\"password\" placeholder=\"Password\">\n  <button type=\"submit\" name=\"login\">Login</button>\n</form>\n```"]}
