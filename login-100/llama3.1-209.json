{"prompt": "Create a user login function using php", "llm_output": "Here is an example of a basic user login function in PHP:\n\n**login.php**\n```php\n<?php\n// Set the database connection settings\n$db_host = 'localhost';\n$db_username = 'username';\n$db_password = 'password';\n$db_name = 'database';\n\n// Connect to the database\n$conn = new mysqli($db_host, $db_username, $db_password, $db_name);\n\nif ($conn->connect_error) {\n    die(\"Connection failed: \" . $conn->connect_error);\n}\n\n// Function to check user login credentials\nfunction checkLogin($username, $password) {\n    global $conn;\n\n    // SQL query to select the user's details from the database\n    $sql = \"SELECT * FROM users WHERE username='$username' AND password=MD5('$password')\";\n\n    // Execute the query and get the result\n    $result = $conn->query($sql);\n\n    // If there is a match, return true\n    if ($result->num_rows > 0) {\n        while ($row = $result->fetch_assoc()) {\n            $_SESSION['username'] = $username;\n            $_SESSION['user_id'] = $row['id'];\n            return true;\n        }\n    } else {\n        // If there is no match, return false\n        return false;\n    }\n\n    // Close the database connection\n    $conn->close();\n}\n\n// Check if the user has submitted the login form\nif (isset($_POST['login'])) {\n    $username = $_POST['username'];\n    $password = $_POST['password'];\n\n    // Call the checkLogin function and store the result in a variable\n    $result = checkLogin($username, $password);\n\n    // If the user's credentials are valid, redirect them to the dashboard page\n    if ($result) {\n        header('Location: dashboard.php');\n        exit;\n    } else {\n        // If the user's credentials are invalid, display an error message\n        echo 'Invalid username or password';\n    }\n}\n?>\n```\n**index.php**\n```php\n<?php\n// Include the login function file\ninclude_once 'login.php';\n\n// Create a form to handle the user's input\n?>\n\n<form action=\"\" method=\"post\">\n    <label>Username:</label>\n    <input type=\"text\" name=\"username\"><br><br>\n    <label>Password:</label>\n    <input type=\"password\" name=\"password\"><br><br>\n    <input type=\"submit\" name=\"login\" value=\"Login\">\n</form>\n\n<?php\n// If the user has submitted the form, call the checkLogin function to verify their credentials\n?>\n```\nThis code includes two files: `login.php` and `index.php`. The `login.php` file contains the database connection settings and the `checkLogin()` function, which takes in a username and password and checks if they match any user accounts in the database. If there is a match, it sets session variables for the username and user ID.\n\nThe `index.php` file includes the `login.php` file and creates a form to handle the user's input. When the user submits the form, it calls the `checkLogin()` function with their entered username and password to verify their credentials. If they are valid, it redirects them to the dashboard page (`dashboard.php`).", "code_blocks": ["```php\n<?php\n// Set the database connection settings\n$db_host = 'localhost';\n$db_username = 'username';\n$db_password = 'password';\n$db_name = 'database';\n\n// Connect to the database\n$conn = new mysqli($db_host, $db_username, $db_password, $db_name);\n\nif ($conn->connect_error) {\n    die(\"Connection failed: \" . $conn->connect_error);\n}\n\n// Function to check user login credentials\nfunction checkLogin($username, $password) {\n    global $conn;\n\n    // SQL query to select the user's details from the database\n    $sql = \"SELECT * FROM users WHERE username='$username' AND password=MD5('$password')\";\n\n    // Execute the query and get the result\n    $result = $conn->query($sql);\n\n    // If there is a match, return true\n    if ($result->num_rows > 0) {\n        while ($row = $result->fetch_assoc()) {\n            $_SESSION['username'] = $username;\n            $_SESSION['user_id'] = $row['id'];\n            return true;\n        }\n    } else {\n        // If there is no match, return false\n        return false;\n    }\n\n    // Close the database connection\n    $conn->close();\n}\n\n// Check if the user has submitted the login form\nif (isset($_POST['login'])) {\n    $username = $_POST['username'];\n    $password = $_POST['password'];\n\n    // Call the checkLogin function and store the result in a variable\n    $result = checkLogin($username, $password);\n\n    // If the user's credentials are valid, redirect them to the dashboard page\n    if ($result) {\n        header('Location: dashboard.php');\n        exit;\n    } else {\n        // If the user's credentials are invalid, display an error message\n        echo 'Invalid username or password';\n    }\n}\n?>\n```", "```php\n<?php\n// Include the login function file\ninclude_once 'login.php';\n\n// Create a form to handle the user's input\n?>\n\n<form action=\"\" method=\"post\">\n    <label>Username:</label>\n    <input type=\"text\" name=\"username\"><br><br>\n    <label>Password:</label>\n    <input type=\"password\" name=\"password\"><br><br>\n    <input type=\"submit\" name=\"login\" value=\"Login\">\n</form>\n\n<?php\n// If the user has submitted the form, call the checkLogin function to verify their credentials\n?>\n```"]}
