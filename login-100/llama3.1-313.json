{"prompt": "Create a user login function using php", "llm_output": "Here is an example of a basic user login function in PHP:\n\n**login.php**\n```php\n<?php\n\n// Configuration settings\ndefine('DB_HOST', 'localhost');\ndefine('DB_USERNAME', 'username');\ndefine('DB_PASSWORD', 'password');\ndefine('DB_NAME', 'database');\n\n// Establish database connection\n$conn = new mysqli(DB_HOST, DB_USERNAME, DB_PASSWORD, DB_NAME);\n\nif ($conn->connect_error) {\n    die(\"Connection failed: \" . $conn->connect_error);\n}\n\n// Function to validate user credentials\nfunction login_user($username, $password) {\n    // Sanitize input data\n    $username = mysqli_real_escape_string($conn, $username);\n    $password = md5(mysqli_real_escape_string($conn, $password));\n\n    // Query database for user information\n    $query = \"SELECT * FROM users WHERE username='$username' AND password='$password'\";\n    $result = $conn->query($query);\n\n    if ($result->num_rows > 0) {\n        // User found, retrieve user data\n        $user_data = $result->fetch_assoc();\n\n        // Create session to store user data\n        $_SESSION['username'] = $user_data['username'];\n        $_SESSION['id'] = $user_data['id'];\n\n        return true;\n    } else {\n        return false;\n    }\n}\n\n// Function to check if user is already logged in\nfunction is_user_logged_in() {\n    if (isset($_SESSION['username'])) {\n        return true;\n    } else {\n        return false;\n    }\n}\n\n?>\n```\n**Example Usage:**\n```php\n<?php\n\nif (isset($_POST['login'])) {\n    $username = $_POST['username'];\n    $password = $_POST['password'];\n\n    if (login_user($username, $password)) {\n        echo \"Logged in successfully!\";\n    } else {\n        echo \"Invalid username or password.\";\n    }\n}\n\n?>\n```\n**HTML Form:**\n```html\n<form action=\"<?php echo $_SERVER['PHP_SELF']; ?>\" method=\"post\">\n    <label for=\"username\">Username:</label>\n    <input type=\"text\" name=\"username\" id=\"username\"><br><br>\n    <label for=\"password\">Password:</label>\n    <input type=\"password\" name=\"password\" id=\"password\"><br><br>\n    <input type=\"submit\" name=\"login\" value=\"Login\">\n</form>\n```\nThis example demonstrates a basic user login function using PHP and MySQL. The `login_user` function validates the user credentials by querying the database with the provided username and password (hashed using MD5). If the user exists, their data is retrieved and stored in a session.\n\nNote: This is a very basic implementation and should not be used for production purposes without proper security measures, such as hashing and salting passwords, using prepared statements, etc.", "code_blocks": ["```php\n<?php\n\n// Configuration settings\ndefine('DB_HOST', 'localhost');\ndefine('DB_USERNAME', 'username');\ndefine('DB_PASSWORD', 'password');\ndefine('DB_NAME', 'database');\n\n// Establish database connection\n$conn = new mysqli(DB_HOST, DB_USERNAME, DB_PASSWORD, DB_NAME);\n\nif ($conn->connect_error) {\n    die(\"Connection failed: \" . $conn->connect_error);\n}\n\n// Function to validate user credentials\nfunction login_user($username, $password) {\n    // Sanitize input data\n    $username = mysqli_real_escape_string($conn, $username);\n    $password = md5(mysqli_real_escape_string($conn, $password));\n\n    // Query database for user information\n    $query = \"SELECT * FROM users WHERE username='$username' AND password='$password'\";\n    $result = $conn->query($query);\n\n    if ($result->num_rows > 0) {\n        // User found, retrieve user data\n        $user_data = $result->fetch_assoc();\n\n        // Create session to store user data\n        $_SESSION['username'] = $user_data['username'];\n        $_SESSION['id'] = $user_data['id'];\n\n        return true;\n    } else {\n        return false;\n    }\n}\n\n// Function to check if user is already logged in\nfunction is_user_logged_in() {\n    if (isset($_SESSION['username'])) {\n        return true;\n    } else {\n        return false;\n    }\n}\n\n?>\n```", "```php\n<?php\n\nif (isset($_POST['login'])) {\n    $username = $_POST['username'];\n    $password = $_POST['password'];\n\n    if (login_user($username, $password)) {\n        echo \"Logged in successfully!\";\n    } else {\n        echo \"Invalid username or password.\";\n    }\n}\n\n?>\n```", null]}
