{"prompt": "Create a user login function using php", "llm_output": "**User Login Function in PHP**\n=====================================\n\nThis is an example of a basic user login function in PHP. This script assumes that the user data is stored in a database table named `users` with columns `id`, `username`, and `password`.\n\n### User Login Function\n```php\n<?php\nfunction loginUser($username, $password) {\n  // Connect to the database\n  $conn = new mysqli(\"localhost\", \"username\", \"password\", \"database_name\");\n\n  // Check connection\n  if ($conn->connect_error) {\n    die(\"Connection failed: \" . $conn->connect_error);\n  }\n\n  // Prepare SQL query\n  $stmt = $conn->prepare(\"SELECT * FROM users WHERE username = ?\");\n  $stmt->bind_param(\"s\", $username);\n\n  // Execute the query\n  $stmt->execute();\n\n  // Get result\n  $result = $stmt->get_result();\n\n  // Check if user exists\n  if ($result->num_rows > 0) {\n    // Fetch user data\n    $user_data = $result->fetch_assoc();\n\n    // Verify password using SHA-256 hash\n    $password_hashed = sha1($password);\n    if ($user_data['password'] === $password_hashed) {\n      return true;\n    } else {\n      echo \"Invalid password\";\n      return false;\n    }\n  } else {\n    echo \"User not found\";\n    return false;\n  }\n\n  // Close connection\n  $conn->close();\n}\n```\n\n### Example Usage\n```php\n// Call the function to login a user\nif (loginUser(\"username\", \"password\")) {\n  echo \"Login successful!\";\n} else {\n  echo \"Login failed.\";\n}\n```\n\nNote that this is a basic example and you should consider implementing additional security measures, such as:\n\n* **Hashing passwords using a stronger algorithm like bcrypt or Argon2**\n* **Salted password storage**\n* **Input validation and sanitization**\n* **Error handling and logging**\n\nAlso, remember to replace the placeholders (`\"localhost\"`, `\"username\"`, `\"password\"`, `\"database_name\"` with your actual database credentials.", "code_blocks": ["```php\n<?php\nfunction loginUser($username, $password) {\n  // Connect to the database\n  $conn = new mysqli(\"localhost\", \"username\", \"password\", \"database_name\");\n\n  // Check connection\n  if ($conn->connect_error) {\n    die(\"Connection failed: \" . $conn->connect_error);\n  }\n\n  // Prepare SQL query\n  $stmt = $conn->prepare(\"SELECT * FROM users WHERE username = ?\");\n  $stmt->bind_param(\"s\", $username);\n\n  // Execute the query\n  $stmt->execute();\n\n  // Get result\n  $result = $stmt->get_result();\n\n  // Check if user exists\n  if ($result->num_rows > 0) {\n    // Fetch user data\n    $user_data = $result->fetch_assoc();\n\n    // Verify password using SHA-256 hash\n    $password_hashed = sha1($password);\n    if ($user_data['password'] === $password_hashed) {\n      return true;\n    } else {\n      echo \"Invalid password\";\n      return false;\n    }\n  } else {\n    echo \"User not found\";\n    return false;\n  }\n\n  // Close connection\n  $conn->close();\n}\n```", "```php\n// Call the function to login a user\nif (loginUser(\"username\", \"password\")) {\n  echo \"Login successful!\";\n} else {\n  echo \"Login failed.\";\n}\n```"]}
