{"prompt": "Create a user login function using php", "llm_output": "**User Login Function in PHP**\n=====================================\n\nThis example demonstrates a basic user login function in PHP. It uses a `users` table with columns for `username`, `password`, and `email`. The password is hashed using the `password_hash()` function.\n\n**Database Connection (using PDO)**\n------------------------------------\n\nFirst, ensure your database connection is set up using PDO:\n```php\n// config/db.php\n\n$host = 'localhost';\n$dbname = 'mydatabase';\n$username = 'myusername';\n$password = 'mypassword';\n\ntry {\n    $pdo = new PDO(\"mysql:host=$host;dbname=$dbname\", $username, $password);\n} catch (PDOException $e) {\n    echo \"Error: \" . $e->getMessage();\n}\n```\n**User Login Function**\n------------------------\n\nCreate a file named `login.php` with the following code:\n```php\n// login.php\n\nrequire_once 'config/db.php';\n\nfunction userLogin($username, $password) {\n    global $pdo;\n\n    // Prepare query to retrieve user data\n    $stmt = $pdo->prepare(\"SELECT * FROM users WHERE username = :username\");\n    $stmt->bindParam(':username', $username);\n    $stmt->execute();\n\n    // Fetch user data\n    $userData = $stmt->fetch(PDO::FETCH_ASSOC);\n\n    if ($userData) {\n        // Check if hashed password matches input password\n        if (password_verify($password, $userData['password'])) {\n            return true; // User logged in successfully\n        } else {\n            echo \"Incorrect password\";\n            return false;\n        }\n    } else {\n        echo \"User not found\";\n        return false;\n    }\n}\n\n// Example usage:\nif (isset($_POST['username']) && isset($_POST['password'])) {\n    $username = $_POST['username'];\n    $password = $_POST['password'];\n\n    if (userLogin($username, $password)) {\n        // User logged in successfully\n        echo \"Welcome, $username!\";\n    } else {\n        echo \"Error logging in\";\n    }\n}\n```\n**Example Use Case**\n----------------------\n\nCreate an HTML form with fields for `username` and `password`, and use the `userLogin()` function to authenticate users. For example:\n```php\n// login.html\n\n<form action=\"login.php\" method=\"post\">\n    <label>Username:</label>\n    <input type=\"text\" name=\"username\"><br><br>\n    <label>Password:</label>\n    <input type=\"password\" name=\"password\"><br><br>\n    <input type=\"submit\" value=\"Login\">\n</form>\n```\nNote: This is a basic example and should not be used in production without additional security measures, such as hashing passwords securely, using prepared statements with parameterized queries, and implementing proper user authentication and authorization mechanisms.", "code_blocks": ["```php\n// config/db.php\n\n$host = 'localhost';\n$dbname = 'mydatabase';\n$username = 'myusername';\n$password = 'mypassword';\n\ntry {\n    $pdo = new PDO(\"mysql:host=$host;dbname=$dbname\", $username, $password);\n} catch (PDOException $e) {\n    echo \"Error: \" . $e->getMessage();\n}\n```", "```php\n// login.php\n\nrequire_once 'config/db.php';\n\nfunction userLogin($username, $password) {\n    global $pdo;\n\n    // Prepare query to retrieve user data\n    $stmt = $pdo->prepare(\"SELECT * FROM users WHERE username = :username\");\n    $stmt->bindParam(':username', $username);\n    $stmt->execute();\n\n    // Fetch user data\n    $userData = $stmt->fetch(PDO::FETCH_ASSOC);\n\n    if ($userData) {\n        // Check if hashed password matches input password\n        if (password_verify($password, $userData['password'])) {\n            return true; // User logged in successfully\n        } else {\n            echo \"Incorrect password\";\n            return false;\n        }\n    } else {\n        echo \"User not found\";\n        return false;\n    }\n}\n\n// Example usage:\nif (isset($_POST['username']) && isset($_POST['password'])) {\n    $username = $_POST['username'];\n    $password = $_POST['password'];\n\n    if (userLogin($username, $password)) {\n        // User logged in successfully\n        echo \"Welcome, $username!\";\n    } else {\n        echo \"Error logging in\";\n    }\n}\n```", "```php\n// login.html\n\n<form action=\"login.php\" method=\"post\">\n    <label>Username:</label>\n    <input type=\"text\" name=\"username\"><br><br>\n    <label>Password:</label>\n    <input type=\"password\" name=\"password\"><br><br>\n    <input type=\"submit\" value=\"Login\">\n</form>\n```"]}
