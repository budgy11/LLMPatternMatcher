{"prompt": "Create a user login function using php", "llm_output": "**User Login Function in PHP**\n=====================================\n\nThis example demonstrates a basic user login function using PHP. The function will validate the username and password, check if the account exists, and return an array with the user data if successful.\n\n**`login.php` File**\n```php\n<?php\n\n// Configuration file for database connection\nrequire_once 'config.php';\n\nfunction login($username, $password) {\n  // Validate input\n  if (empty($username) || empty($password)) {\n    return array('error' => 'Username and password are required.');\n  }\n\n  // Query to select user data from the database\n  $query = \"SELECT * FROM users WHERE username = :username AND password = :password\";\n  $stmt = $pdo->prepare($query);\n  $stmt->bindParam(':username', $username);\n  $stmt->bindParam(':password', hash('sha256', $password));\n  $stmt->execute();\n\n  // Fetch user data\n  $userData = $stmt->fetch(PDO::FETCH_ASSOC);\n\n  if ($userData) {\n    return array(\n      'success' => true,\n      'data' => $userData\n    );\n  } else {\n    return array('error' => 'Invalid username or password.');\n  }\n}\n\n?>\n```\n\n**`config.php` File**\n```php\n<?php\n\n// Database connection settings\n$dsn = 'mysql:host=localhost;dbname=your_database';\n$username = 'your_username';\n$password = 'your_password';\n\ntry {\n  $pdo = new PDO($dsn, $username, $password);\n} catch (PDOException $e) {\n  echo 'Connection failed: ' . $e->getMessage();\n  exit;\n}\n\n?>\n```\n\n**Example Usage**\n```php\nrequire_once 'login.php';\n\n$username = 'example_user';\n$password = 'example_password';\n\n$result = login($username, $password);\n\nif ($result['success']) {\n  print_r($result['data']);\n} else {\n  echo 'Error: ' . $result['error'];\n}\n```\n\n**Security Notes**\n\n*   Use prepared statements to prevent SQL injection attacks.\n*   Hash the password using a secure algorithm (in this example, SHA-256) before storing it in the database and comparing it with the input password.", "code_blocks": ["```php\n<?php\n\n// Configuration file for database connection\nrequire_once 'config.php';\n\nfunction login($username, $password) {\n  // Validate input\n  if (empty($username) || empty($password)) {\n    return array('error' => 'Username and password are required.');\n  }\n\n  // Query to select user data from the database\n  $query = \"SELECT * FROM users WHERE username = :username AND password = :password\";\n  $stmt = $pdo->prepare($query);\n  $stmt->bindParam(':username', $username);\n  $stmt->bindParam(':password', hash('sha256', $password));\n  $stmt->execute();\n\n  // Fetch user data\n  $userData = $stmt->fetch(PDO::FETCH_ASSOC);\n\n  if ($userData) {\n    return array(\n      'success' => true,\n      'data' => $userData\n    );\n  } else {\n    return array('error' => 'Invalid username or password.');\n  }\n}\n\n?>\n```", "```php\n<?php\n\n// Database connection settings\n$dsn = 'mysql:host=localhost;dbname=your_database';\n$username = 'your_username';\n$password = 'your_password';\n\ntry {\n  $pdo = new PDO($dsn, $username, $password);\n} catch (PDOException $e) {\n  echo 'Connection failed: ' . $e->getMessage();\n  exit;\n}\n\n?>\n```", "```php\nrequire_once 'login.php';\n\n$username = 'example_user';\n$password = 'example_password';\n\n$result = login($username, $password);\n\nif ($result['success']) {\n  print_r($result['data']);\n} else {\n  echo 'Error: ' . $result['error'];\n}\n```"]}
