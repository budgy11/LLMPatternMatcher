{"prompt": "Create a user login function using php", "llm_output": "Here is an example of a basic user login function in PHP:\n\n**`login.php`**\n```php\n<?php\n// Configuration\n$database_host = 'localhost';\n$database_name = 'my_database';\n$database_user = 'root';\n$database_password = '';\n\n// Connect to database\n$conn = new mysqli($database_host, $database_user, $database_password, $database_name);\n\nif ($conn->connect_error) {\n    die(\"Connection failed: \" . $conn->connect_error);\n}\n\nfunction login($username, $password) {\n    // Prepare SQL query\n    $query = \"SELECT * FROM users WHERE username = ? AND password = ?\";\n\n    // Bind parameters\n    $stmt = $conn->prepare($query);\n    $stmt->bind_param(\"ss\", $username, hash('sha256', $password));\n\n    // Execute query\n    $stmt->execute();\n    $result = $stmt->get_result();\n\n    if ($row = $result->fetch_assoc()) {\n        return true;\n    } else {\n        return false;\n    }\n}\n\nif (isset($_POST['submit'])) {\n    $username = $_POST['username'];\n    $password = $_POST['password'];\n\n    // Validate user input\n    if (!empty($username) && !empty($password)) {\n        if (login($username, $password)) {\n            echo \"Login successful!\";\n        } else {\n            echo \"Invalid username or password.\";\n        }\n    } else {\n        echo \"Please enter both username and password.\";\n    }\n}\n?>\n```\n**How it works:**\n\n1. The script connects to a MySQL database using the `mysqli` extension.\n2. The `login` function takes two parameters, `$username` and `$password`, and checks if there is a matching user in the database by executing a prepared SQL query with bound parameters.\n3. If a match is found, the function returns `true`. Otherwise, it returns `false`.\n4. In the main script, we check if the form has been submitted (i.e., if the submit button was clicked).\n5. We then validate user input to ensure both fields are not empty.\n6. Finally, we call the `login` function with the user's username and password as arguments.\n\n**Note:**\n\n* This is a basic example and should be modified to fit your specific needs (e.g., more secure password storage, additional validation).\n* Make sure to replace the placeholders (`$database_host`, `$database_name`, etc.) with your actual database credentials.\n* This example uses SHA-256 hashing for password storage. Consider using bcrypt or another secure password hashing algorithm for production environments.\n\n**Example use case:**\n\n```html\n<!-- login_form.html -->\n<form action=\"login.php\" method=\"post\">\n    <input type=\"text\" name=\"username\" placeholder=\"Username\">\n    <input type=\"password\" name=\"password\" placeholder=\"Password\">\n    <button type=\"submit\" name=\"submit\">Login</button>\n</form>\n```\nYou can include this form in your HTML file and submit it to the `login.php` script to test the login functionality.", "code_blocks": ["```php\n<?php\n// Configuration\n$database_host = 'localhost';\n$database_name = 'my_database';\n$database_user = 'root';\n$database_password = '';\n\n// Connect to database\n$conn = new mysqli($database_host, $database_user, $database_password, $database_name);\n\nif ($conn->connect_error) {\n    die(\"Connection failed: \" . $conn->connect_error);\n}\n\nfunction login($username, $password) {\n    // Prepare SQL query\n    $query = \"SELECT * FROM users WHERE username = ? AND password = ?\";\n\n    // Bind parameters\n    $stmt = $conn->prepare($query);\n    $stmt->bind_param(\"ss\", $username, hash('sha256', $password));\n\n    // Execute query\n    $stmt->execute();\n    $result = $stmt->get_result();\n\n    if ($row = $result->fetch_assoc()) {\n        return true;\n    } else {\n        return false;\n    }\n}\n\nif (isset($_POST['submit'])) {\n    $username = $_POST['username'];\n    $password = $_POST['password'];\n\n    // Validate user input\n    if (!empty($username) && !empty($password)) {\n        if (login($username, $password)) {\n            echo \"Login successful!\";\n        } else {\n            echo \"Invalid username or password.\";\n        }\n    } else {\n        echo \"Please enter both username and password.\";\n    }\n}\n?>\n```", null]}
