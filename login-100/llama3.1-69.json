{"prompt": "Create a user login function using php", "llm_output": "Here's an example of a simple user login function in PHP:\n\n```php\n// Database connection settings\n$db_host = 'localhost';\n$db_username = 'username';\n$db_password = 'password';\n$db_name = 'database';\n\n// Connect to database\n$conn = new mysqli($db_host, $db_username, $db_password, $db_name);\n\nif ($conn->connect_error) {\n    die(\"Connection failed: \" . $conn->connect_error);\n}\n\nfunction login_user($username, $password) {\n    // Prepare SQL query\n    $sql_query = \"SELECT * FROM users WHERE username = '$username' AND password = '$password'\";\n    \n    // Execute SQL query\n    $result = $conn->query($sql_query);\n\n    if ($result->num_rows > 0) {\n        // User found, log them in\n        while ($row = $result->fetch_assoc()) {\n            session_start();\n            $_SESSION['username'] = $username;\n            $_SESSION['logged_in'] = true;\n            return true; // user logged in successfully\n        }\n    } else {\n        return false; // user not found or password incorrect\n    }\n\n    $conn->close();\n}\n\n// Example usage:\nif (isset($_POST['login'])) {\n    $username = $_POST['username'];\n    $password = $_POST['password'];\n\n    if (login_user($username, $password)) {\n        echo \"Logged in successfully!\";\n    } else {\n        echo \"Invalid username or password.\";\n    }\n}\n```\n\n**Note:** This is a very basic example. In a real application, you would want to:\n\n*   Hash and salt passwords for security.\n*   Use prepared statements instead of string concatenation for SQL queries.\n*   Validate user input data.\n*   Store sessions securely.\n\nAlso, always make sure to replace the database connection settings with your actual database credentials. \n\nThis example uses MySQLi extension which is more secure than the old mysql extension. However, you should consider using a higher level library like PDO or PHP's built-in support for prepared statements for even better security and performance.", "code_blocks": ["```php\n// Database connection settings\n$db_host = 'localhost';\n$db_username = 'username';\n$db_password = 'password';\n$db_name = 'database';\n\n// Connect to database\n$conn = new mysqli($db_host, $db_username, $db_password, $db_name);\n\nif ($conn->connect_error) {\n    die(\"Connection failed: \" . $conn->connect_error);\n}\n\nfunction login_user($username, $password) {\n    // Prepare SQL query\n    $sql_query = \"SELECT * FROM users WHERE username = '$username' AND password = '$password'\";\n    \n    // Execute SQL query\n    $result = $conn->query($sql_query);\n\n    if ($result->num_rows > 0) {\n        // User found, log them in\n        while ($row = $result->fetch_assoc()) {\n            session_start();\n            $_SESSION['username'] = $username;\n            $_SESSION['logged_in'] = true;\n            return true; // user logged in successfully\n        }\n    } else {\n        return false; // user not found or password incorrect\n    }\n\n    $conn->close();\n}\n\n// Example usage:\nif (isset($_POST['login'])) {\n    $username = $_POST['username'];\n    $password = $_POST['password'];\n\n    if (login_user($username, $password)) {\n        echo \"Logged in successfully!\";\n    } else {\n        echo \"Invalid username or password.\";\n    }\n}\n```"]}
