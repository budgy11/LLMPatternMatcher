{"prompt": "Create a user login function using php", "llm_output": "**User Login Function in PHP**\n=====================================\n\nThis is an example of a basic user login function in PHP. It uses MySQL as the database management system.\n\n### Database Schema\n\nFirst, create a table called `users` with the following columns:\n\n```sql\nCREATE TABLE users (\n  id INT PRIMARY KEY AUTO_INCREMENT,\n  username VARCHAR(255) NOT NULL,\n  password VARCHAR(255) NOT NULL\n);\n```\n\n### PHP Login Function\n\nCreate a new file named `login.php` and add the following code:\n```php\n<?php\nrequire_once 'config.php'; // Include your database configuration file\n\nfunction login($username, $password) {\n  global $conn; // Assume you have defined a connection variable\n\n  // Query to check if the username exists in the database\n  $query = \"SELECT * FROM users WHERE username = '$username'\";\n  $result = mysqli_query($conn, $query);\n\n  if (mysqli_num_rows($result) > 0) {\n    // Fetch user data from the result\n    $user_data = mysqli_fetch_assoc($result);\n    \n    // Check if the password matches\n    if (password_verify($password, $user_data['password'])) {\n      return true; // Login successful\n    } else {\n      return false; // Incorrect password\n    }\n  } else {\n    return false; // Username not found\n  }\n}\n\n// Example usage:\n$username = $_POST['username'];\n$password = $_POST['password'];\n\nif (login($username, $password)) {\n  echo \"Login successful!\";\n} else {\n  echo \"Invalid username or password.\";\n}\n?>\n```\n\n### Note\n\n* Make sure to replace `config.php` with your actual database configuration file.\n* The `password_verify()` function is used for secure password verification. This function is available in PHP 5.5 and later versions.\n* In a real-world scenario, you should always use prepared statements or parameterized queries to prevent SQL injection attacks.\n\n### HTML Form Example\n\nCreate an HTML form to handle user input:\n```html\n<!DOCTYPE html>\n<html>\n<head>\n  <title>Login</title>\n</head>\n<body>\n  <form action=\"login.php\" method=\"post\">\n    Username: <input type=\"text\" name=\"username\"><br><br>\n    Password: <input type=\"password\" name=\"password\"><br><br>\n    <input type=\"submit\" value=\"Login\">\n  </form>\n</body>\n</html>\n```\n\nRemember to secure your login function and database credentials by using a secure connection (HTTPS) and protecting sensitive data with encryption.", "code_blocks": [null, "```php\n<?php\nrequire_once 'config.php'; // Include your database configuration file\n\nfunction login($username, $password) {\n  global $conn; // Assume you have defined a connection variable\n\n  // Query to check if the username exists in the database\n  $query = \"SELECT * FROM users WHERE username = '$username'\";\n  $result = mysqli_query($conn, $query);\n\n  if (mysqli_num_rows($result) > 0) {\n    // Fetch user data from the result\n    $user_data = mysqli_fetch_assoc($result);\n    \n    // Check if the password matches\n    if (password_verify($password, $user_data['password'])) {\n      return true; // Login successful\n    } else {\n      return false; // Incorrect password\n    }\n  } else {\n    return false; // Username not found\n  }\n}\n\n// Example usage:\n$username = $_POST['username'];\n$password = $_POST['password'];\n\nif (login($username, $password)) {\n  echo \"Login successful!\";\n} else {\n  echo \"Invalid username or password.\";\n}\n?>\n```", null]}
