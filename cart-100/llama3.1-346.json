{"prompt": "Create a user cart session using php", "llm_output": "**User Cart Session Implementation in PHP**\n=====================================\n\nThis example demonstrates how to create a simple user cart session using PHP. We'll use the `$_SESSION` superglobal array to store the cart contents.\n\n**Step 1: Initialize Session**\n\nFirst, we need to initialize the session in our PHP script:\n```php\n<?php\nsession_start();\n?>\n```\n**Step 2: Create Cart Array**\n\nWe'll create a cart array to store the products. The cart array will have two keys: `items` and `total`.\n```php\n$cart = array(\n    'items' => array(),\n    'total' => 0\n);\n```\n**Step 3: Add Product to Cart**\n\nWhen a user adds a product to their cart, we'll update the cart array accordingly:\n```php\nfunction add_to_cart($product_id) {\n    global $cart;\n    \n    // Check if product already exists in cart\n    foreach ($cart['items'] as &$item) {\n        if ($item['id'] == $product_id) {\n            $item['quantity']++;\n            return;\n        }\n    }\n    \n    // Add new product to cart\n    $cart['items'][] = array(\n        'id' => $product_id,\n        'name' => $_POST['name'],\n        'price' => $_POST['price'],\n        'quantity' => 1\n    );\n    \n    // Update total cost\n    $cart['total'] += $_POST['price'];\n}\n```\n**Step 4: Display Cart Contents**\n\nTo display the cart contents, we'll loop through the `items` array and echo out each product:\n```php\nfunction display_cart() {\n    global $cart;\n    \n    echo '<h2>Cart Contents:</h2>';\n    echo '<ul>';\n    foreach ($cart['items'] as $item) {\n        echo '<li>';\n        echo $item['name'] . ' x ' . $item['quantity'];\n        echo '</li>';\n    }\n    echo '</ul>';\n    echo '<p>Total: $' . number_format($cart['total']) . '</p>';\n}\n```\n**Step 5: Save Cart to Session**\n\nFinally, we'll save the cart array to the session:\n```php\nfunction save_cart() {\n    global $cart;\n    \n    $_SESSION['cart'] = $cart;\n}\n```\n**Example Use Case**\n--------------------\n\nHere's an example of how you can use this code in a PHP script:\n\n```php\n<?php\nsession_start();\n\n// Initialize cart array\n$cart = array(\n    'items' => array(),\n    'total' => 0\n);\n\n// Add product to cart\nif (isset($_POST['add_to_cart'])) {\n    add_to_cart($_POST['product_id']);\n}\n\n// Display cart contents\ndisplay_cart();\n\n// Save cart to session\nsave_cart();\n?>\n```\nThis code assumes that you have a form with an `add_to_cart` button and a `product_id` field. When the user clicks the button, it calls the `add_to_cart()` function to update the cart array. The `display_cart()` function is called to display the current cart contents.\n\nRemember to always initialize the session in your PHP script using `session_start()`.", "code_blocks": ["```php\n<?php\nsession_start();\n?>\n```", "```php\n$cart = array(\n    'items' => array(),\n    'total' => 0\n);\n```", "```php\nfunction add_to_cart($product_id) {\n    global $cart;\n    \n    // Check if product already exists in cart\n    foreach ($cart['items'] as &$item) {\n        if ($item['id'] == $product_id) {\n            $item['quantity']++;\n            return;\n        }\n    }\n    \n    // Add new product to cart\n    $cart['items'][] = array(\n        'id' => $product_id,\n        'name' => $_POST['name'],\n        'price' => $_POST['price'],\n        'quantity' => 1\n    );\n    \n    // Update total cost\n    $cart['total'] += $_POST['price'];\n}\n```", "```php\nfunction display_cart() {\n    global $cart;\n    \n    echo '<h2>Cart Contents:</h2>';\n    echo '<ul>';\n    foreach ($cart['items'] as $item) {\n        echo '<li>';\n        echo $item['name'] . ' x ' . $item['quantity'];\n        echo '</li>';\n    }\n    echo '</ul>';\n    echo '<p>Total: $' . number_format($cart['total']) . '</p>';\n}\n```", "```php\nfunction save_cart() {\n    global $cart;\n    \n    $_SESSION['cart'] = $cart;\n}\n```", "```php\n<?php\nsession_start();\n\n// Initialize cart array\n$cart = array(\n    'items' => array(),\n    'total' => 0\n);\n\n// Add product to cart\nif (isset($_POST['add_to_cart'])) {\n    add_to_cart($_POST['product_id']);\n}\n\n// Display cart contents\ndisplay_cart();\n\n// Save cart to session\nsave_cart();\n?>\n```"]}
