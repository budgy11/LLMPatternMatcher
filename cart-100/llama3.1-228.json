{"prompt": "Create a user cart session using php", "llm_output": "Here is an example of how to create a simple shopping cart system using PHP:\n\n**cart.php**\n```php\n<?php\n// Start the session\nsession_start();\n\n// Set the cart array in the session\nif (!isset($_SESSION['cart'])) {\n    $_SESSION['cart'] = array();\n}\n\n// Function to add item to cart\nfunction add_item_to_cart($item_id, $quantity) {\n    global $_SESSION;\n    \n    // Check if item already exists in cart\n    foreach ($_SESSION['cart'] as &$item) {\n        if ($item['id'] == $item_id) {\n            $item['quantity'] += $quantity;\n            return; // Item already exists, update quantity\n        }\n    }\n    \n    // Add new item to cart\n    $_SESSION['cart'][] = array('id' => $item_id, 'quantity' => $quantity);\n}\n\n// Function to remove item from cart\nfunction remove_item_from_cart($item_id) {\n    global $_SESSION;\n    \n    foreach ($_SESSION['cart'] as $key => &$item) {\n        if ($item['id'] == $item_id) {\n            unset($_SESSION['cart'][$key]);\n            return; // Item removed\n        }\n    }\n}\n\n// Function to update quantity of item in cart\nfunction update_quantity($item_id, $new_quantity) {\n    global $_SESSION;\n    \n    foreach ($_SESSION['cart'] as &$item) {\n        if ($item['id'] == $item_id) {\n            $item['quantity'] = $new_quantity;\n            return; // Quantity updated\n        }\n    }\n}\n\n// Function to display cart contents\nfunction display_cart() {\n    global $_SESSION;\n    \n    echo \"Cart Contents:<br>\";\n    foreach ($_SESSION['cart'] as $item) {\n        echo \"$item[id] x $item[quantity]<br>\";\n    }\n}\n?>\n```\n**index.php**\n```php\n<?php include 'cart.php'; ?>\n\n<form action=\"\" method=\"post\">\n    <input type=\"hidden\" name=\"item_id\" value=\"<?php echo $item_id; ?>\">\n    <button type=\"submit\">Add to Cart</button>\n</form>\n\n<form action=\"\" method=\"post\">\n    <input type=\"text\" name=\"quantity\" placeholder=\"Quantity\">\n    <input type=\"hidden\" name=\"item_id\" value=\"<?php echo $item_id; ?>\">\n    <button type=\"submit\">Update Quantity</button>\n</form>\n\n<button type=\"submit\">Remove from Cart</button>\n\n<?php\nif (isset($_POST['item_id'])) {\n    if (empty($_POST['quantity'])) {\n        add_item_to_cart($_POST['item_id'], 1);\n    } else {\n        update_quantity($_POST['item_id'], $_POST['quantity']);\n    }\n}\n?>\n```\n**cart_display.php**\n```php\n<?php include 'cart.php'; ?>\n\n<button type=\"submit\">View Cart</button>\n\n<div class=\"cart_contents\">\n    <?php display_cart(); ?>\n</div>\n```\nThis is a basic example of how to create a shopping cart system using PHP. The `add_item_to_cart` function adds an item to the cart, the `remove_item_from_cart` function removes an item from the cart, and the `update_quantity` function updates the quantity of an item in the cart.\n\nNote that this is just a simple example and you may want to add more functionality such as:\n\n* Validation for form inputs\n* Error handling\n* Database integration to store cart contents\n* Calculation of total cost\n\nAlso note that this code uses PHP sessions to store the cart contents, which means that each user will have their own cart. If you need to implement a shared cart (e.g. for an online checkout system), you may want to use a different approach such as using a database or cookies.", "code_blocks": ["```php\n<?php\n// Start the session\nsession_start();\n\n// Set the cart array in the session\nif (!isset($_SESSION['cart'])) {\n    $_SESSION['cart'] = array();\n}\n\n// Function to add item to cart\nfunction add_item_to_cart($item_id, $quantity) {\n    global $_SESSION;\n    \n    // Check if item already exists in cart\n    foreach ($_SESSION['cart'] as &$item) {\n        if ($item['id'] == $item_id) {\n            $item['quantity'] += $quantity;\n            return; // Item already exists, update quantity\n        }\n    }\n    \n    // Add new item to cart\n    $_SESSION['cart'][] = array('id' => $item_id, 'quantity' => $quantity);\n}\n\n// Function to remove item from cart\nfunction remove_item_from_cart($item_id) {\n    global $_SESSION;\n    \n    foreach ($_SESSION['cart'] as $key => &$item) {\n        if ($item['id'] == $item_id) {\n            unset($_SESSION['cart'][$key]);\n            return; // Item removed\n        }\n    }\n}\n\n// Function to update quantity of item in cart\nfunction update_quantity($item_id, $new_quantity) {\n    global $_SESSION;\n    \n    foreach ($_SESSION['cart'] as &$item) {\n        if ($item['id'] == $item_id) {\n            $item['quantity'] = $new_quantity;\n            return; // Quantity updated\n        }\n    }\n}\n\n// Function to display cart contents\nfunction display_cart() {\n    global $_SESSION;\n    \n    echo \"Cart Contents:<br>\";\n    foreach ($_SESSION['cart'] as $item) {\n        echo \"$item[id] x $item[quantity]<br>\";\n    }\n}\n?>\n```", "```php\n<?php include 'cart.php'; ?>\n\n<form action=\"\" method=\"post\">\n    <input type=\"hidden\" name=\"item_id\" value=\"<?php echo $item_id; ?>\">\n    <button type=\"submit\">Add to Cart</button>\n</form>\n\n<form action=\"\" method=\"post\">\n    <input type=\"text\" name=\"quantity\" placeholder=\"Quantity\">\n    <input type=\"hidden\" name=\"item_id\" value=\"<?php echo $item_id; ?>\">\n    <button type=\"submit\">Update Quantity</button>\n</form>\n\n<button type=\"submit\">Remove from Cart</button>\n\n<?php\nif (isset($_POST['item_id'])) {\n    if (empty($_POST['quantity'])) {\n        add_item_to_cart($_POST['item_id'], 1);\n    } else {\n        update_quantity($_POST['item_id'], $_POST['quantity']);\n    }\n}\n?>\n```", "```php\n<?php include 'cart.php'; ?>\n\n<button type=\"submit\">View Cart</button>\n\n<div class=\"cart_contents\">\n    <?php display_cart(); ?>\n</div>\n```"]}
