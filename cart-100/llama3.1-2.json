{"prompt": "Create a user cart session using php", "llm_output": "**User Cart Session Example in PHP**\n=====================================\n\nIn this example, we'll create a simple user cart system using PHP sessions. We'll store the products added to the cart as an array in the session.\n\n**Step 1: Initialize the Session**\n\nFirst, let's initialize the session and set the cart as an empty array.\n```php\n<?php\nsession_start();\n\n// Check if cart is already set in session\nif (!isset($_SESSION['cart'])) {\n    $_SESSION['cart'] = array();\n}\n?>\n```\n**Step 2: Add Product to Cart**\n\nNow, let's create a function to add a product to the cart. We'll check if the product is already in the cart and increment its quantity.\n```php\nfunction add_product_to_cart($product_id) {\n    global $_SESSION;\n\n    // Check if product is already in cart\n    foreach ($_SESSION['cart'] as $key => $item) {\n        if ($item['id'] == $product_id) {\n            $_SESSION['cart'][$key]['quantity']++;\n            return;\n        }\n    }\n\n    // Add new product to cart\n    $new_item = array('id' => $product_id, 'quantity' => 1);\n    $_SESSION['cart'][] = $new_item;\n}\n```\n**Step 3: Remove Product from Cart**\n\nLet's create a function to remove a product from the cart.\n```php\nfunction remove_product_from_cart($product_id) {\n    global $_SESSION;\n\n    // Check if product is in cart\n    foreach ($_SESSION['cart'] as $key => $item) {\n        if ($item['id'] == $product_id) {\n            unset($_SESSION['cart'][$key]);\n            return;\n        }\n    }\n}\n```\n**Step 4: Update Cart Quantity**\n\nWe can update the quantity of a product in the cart by passing its ID and new quantity.\n```php\nfunction update_cart_quantity($product_id, $new_quantity) {\n    global $_SESSION;\n\n    // Check if product is in cart\n    foreach ($_SESSION['cart'] as &$item) {\n        if ($item['id'] == $product_id) {\n            $item['quantity'] = $new_quantity;\n            return;\n        }\n    }\n}\n```\n**Step 5: Display Cart Contents**\n\nFinally, let's display the contents of the cart.\n```php\nfunction display_cart() {\n    global $_SESSION;\n\n    echo \"Cart Contents:\\n\";\n    foreach ($_SESSION['cart'] as $item) {\n        echo \"- \" . $item['id'] . \": \" . $item['quantity'] . \"\\n\";\n    }\n}\n```\n**Example Usage**\n\n```php\n// Add product to cart\nadd_product_to_cart(1);\n\n// Update quantity of product in cart\nupdate_cart_quantity(1, 2);\n\n// Remove product from cart\nremove_product_from_cart(1);\n\n// Display cart contents\ndisplay_cart();\n```\nThis is a basic example of how you can create a user cart session using PHP. You can extend this example to include more features such as handling different product variations, displaying subtotal and total cost, and implementing payment processing.", "code_blocks": ["```php\n<?php\nsession_start();\n\n// Check if cart is already set in session\nif (!isset($_SESSION['cart'])) {\n    $_SESSION['cart'] = array();\n}\n?>\n```", "```php\nfunction add_product_to_cart($product_id) {\n    global $_SESSION;\n\n    // Check if product is already in cart\n    foreach ($_SESSION['cart'] as $key => $item) {\n        if ($item['id'] == $product_id) {\n            $_SESSION['cart'][$key]['quantity']++;\n            return;\n        }\n    }\n\n    // Add new product to cart\n    $new_item = array('id' => $product_id, 'quantity' => 1);\n    $_SESSION['cart'][] = $new_item;\n}\n```", "```php\nfunction remove_product_from_cart($product_id) {\n    global $_SESSION;\n\n    // Check if product is in cart\n    foreach ($_SESSION['cart'] as $key => $item) {\n        if ($item['id'] == $product_id) {\n            unset($_SESSION['cart'][$key]);\n            return;\n        }\n    }\n}\n```", "```php\nfunction update_cart_quantity($product_id, $new_quantity) {\n    global $_SESSION;\n\n    // Check if product is in cart\n    foreach ($_SESSION['cart'] as &$item) {\n        if ($item['id'] == $product_id) {\n            $item['quantity'] = $new_quantity;\n            return;\n        }\n    }\n}\n```", "```php\nfunction display_cart() {\n    global $_SESSION;\n\n    echo \"Cart Contents:\\n\";\n    foreach ($_SESSION['cart'] as $item) {\n        echo \"- \" . $item['id'] . \": \" . $item['quantity'] . \"\\n\";\n    }\n}\n```", "```php\n// Add product to cart\nadd_product_to_cart(1);\n\n// Update quantity of product in cart\nupdate_cart_quantity(1, 2);\n\n// Remove product from cart\nremove_product_from_cart(1);\n\n// Display cart contents\ndisplay_cart();\n```"]}
