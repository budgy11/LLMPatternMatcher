{"prompt": "Create a user cart session using php", "llm_output": "Here is an example of how to create a simple user cart session using PHP:\n\n**cart.php**\n```php\n<?php\nsession_start();\n\n// Initialize the cart array if it doesn't exist\nif (!isset($_SESSION['cart'])) {\n    $_SESSION['cart'] = array();\n}\n\n// Function to add item to cart\nfunction add_to_cart($product_id, $quantity) {\n    global $_SESSION;\n    \n    // Check if product is already in cart\n    foreach ($_SESSION['cart'] as &$item) {\n        if ($item['id'] == $product_id) {\n            // If it is, increment the quantity\n            $item['quantity'] += $quantity;\n            return true;\n        }\n    }\n\n    // If not, add new item to cart\n    $_SESSION['cart'][] = array('id' => $product_id, 'quantity' => $quantity);\n    return true;\n}\n\n// Function to update quantity of item in cart\nfunction update_cart_item($product_id, $new_quantity) {\n    global $_SESSION;\n\n    // Loop through cart items and find the one with matching ID\n    foreach ($_SESSION['cart'] as &$item) {\n        if ($item['id'] == $product_id) {\n            // Update quantity of item\n            $item['quantity'] = $new_quantity;\n            return true;\n        }\n    }\n\n    // If product is not found in cart, add it with new quantity\n    add_to_cart($product_id, $new_quantity);\n    return true;\n}\n\n// Function to remove item from cart\nfunction remove_from_cart($product_id) {\n    global $_SESSION;\n\n    // Loop through cart items and find the one with matching ID\n    foreach ($_SESSION['cart'] as &$key => $item) {\n        if ($item['id'] == $product_id) {\n            unset($_SESSION['cart'][$key]);\n            return true;\n        }\n    }\n\n    // If product is not found in cart, do nothing\n    return false;\n}\n\n// Function to display cart contents\nfunction show_cart() {\n    global $_SESSION;\n\n    echo \"<h2>Cart Contents:</h2>\";\n    echo \"<table border='1'>\";\n    echo \"<tr><th>Product ID</th><th>Quantity</th></tr>\";\n\n    foreach ($_SESSION['cart'] as $item) {\n        echo \"<tr>\";\n        echo \"<td>\" . $item['id'] . \"</td>\";\n        echo \"<td>\" . $item['quantity'] . \"</td>\";\n        echo \"</tr>\";\n    }\n\n    echo \"</table>\";\n}\n\n// Example usage\nadd_to_cart(1, 2); // Add product with ID 1 to cart in quantity of 2\nshow_cart(); // Display contents of cart\n\n?>\n```\nThis script uses the `$_SESSION` superglobal array to store the user's cart contents. The cart is an associative array where each key is a unique identifier for the item, and the value is another associative array containing the product ID and quantity.\n\nThe four functions defined in this script are:\n\n* `add_to_cart($product_id, $quantity)`: Adds a new item to the cart or increments the quantity of an existing item if it already exists.\n* `update_cart_item($product_id, $new_quantity)`: Updates the quantity of an existing item in the cart.\n* `remove_from_cart($product_id)`: Removes an item from the cart.\n* `show_cart()`: Displays the contents of the cart.\n\nYou can call these functions to interact with the user's cart.", "code_blocks": ["```php\n<?php\nsession_start();\n\n// Initialize the cart array if it doesn't exist\nif (!isset($_SESSION['cart'])) {\n    $_SESSION['cart'] = array();\n}\n\n// Function to add item to cart\nfunction add_to_cart($product_id, $quantity) {\n    global $_SESSION;\n    \n    // Check if product is already in cart\n    foreach ($_SESSION['cart'] as &$item) {\n        if ($item['id'] == $product_id) {\n            // If it is, increment the quantity\n            $item['quantity'] += $quantity;\n            return true;\n        }\n    }\n\n    // If not, add new item to cart\n    $_SESSION['cart'][] = array('id' => $product_id, 'quantity' => $quantity);\n    return true;\n}\n\n// Function to update quantity of item in cart\nfunction update_cart_item($product_id, $new_quantity) {\n    global $_SESSION;\n\n    // Loop through cart items and find the one with matching ID\n    foreach ($_SESSION['cart'] as &$item) {\n        if ($item['id'] == $product_id) {\n            // Update quantity of item\n            $item['quantity'] = $new_quantity;\n            return true;\n        }\n    }\n\n    // If product is not found in cart, add it with new quantity\n    add_to_cart($product_id, $new_quantity);\n    return true;\n}\n\n// Function to remove item from cart\nfunction remove_from_cart($product_id) {\n    global $_SESSION;\n\n    // Loop through cart items and find the one with matching ID\n    foreach ($_SESSION['cart'] as &$key => $item) {\n        if ($item['id'] == $product_id) {\n            unset($_SESSION['cart'][$key]);\n            return true;\n        }\n    }\n\n    // If product is not found in cart, do nothing\n    return false;\n}\n\n// Function to display cart contents\nfunction show_cart() {\n    global $_SESSION;\n\n    echo \"<h2>Cart Contents:</h2>\";\n    echo \"<table border='1'>\";\n    echo \"<tr><th>Product ID</th><th>Quantity</th></tr>\";\n\n    foreach ($_SESSION['cart'] as $item) {\n        echo \"<tr>\";\n        echo \"<td>\" . $item['id'] . \"</td>\";\n        echo \"<td>\" . $item['quantity'] . \"</td>\";\n        echo \"</tr>\";\n    }\n\n    echo \"</table>\";\n}\n\n// Example usage\nadd_to_cart(1, 2); // Add product with ID 1 to cart in quantity of 2\nshow_cart(); // Display contents of cart\n\n?>\n```"]}
