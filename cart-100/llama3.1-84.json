{"prompt": "Create a user cart session using php", "llm_output": "Here is an example of how you can create a simple user cart system in PHP, using sessions to store the items added by the user.\n\n**cart.php**\n```php\n<?php\nsession_start();\n\n// Check if cart is set in session, if not create it\nif (!isset($_SESSION['cart'])) {\n    $_SESSION['cart'] = array();\n}\n\n// Function to add item to cart\nfunction add_item_to_cart($product_id, $quantity) {\n    global $_SESSION;\n    \n    // Create a new product entry in the cart array\n    $_SESSION['cart'][] = array('product_id' => $product_id, 'quantity' => $quantity);\n    \n    // Save changes to session\n    $_SESSION['changed'] = true;\n}\n\n// Function to remove item from cart\nfunction remove_item_from_cart($product_id) {\n    global $_SESSION;\n    \n    // Find the index of the product in the cart array\n    foreach ($_SESSION['cart'] as $key => $item) {\n        if ($item['product_id'] == $product_id) {\n            unset($_SESSION['cart'][$key]);\n            break;\n        }\n    }\n    \n    // Save changes to session\n    $_SESSION['changed'] = true;\n}\n\n// Function to update quantity of item in cart\nfunction update_item_quantity($product_id, $new_quantity) {\n    global $_SESSION;\n    \n    // Find the index of the product in the cart array\n    foreach ($_SESSION['cart'] as &$item) {\n        if ($item['product_id'] == $product_id) {\n            $item['quantity'] = $new_quantity;\n            break;\n        }\n    }\n    \n    // Save changes to session\n    $_SESSION['changed'] = true;\n}\n\n// Function to get cart contents\nfunction get_cart_contents() {\n    global $_SESSION;\n    \n    return $_SESSION['cart'];\n}\n\n// Example usage:\nadd_item_to_cart(1, 2); // Add product with id 1 and quantity of 2\nprint_r(get_cart_contents()); // Output: Array ( [0] => Array ( [product_id] => 1 [quantity] => 2 ) )\nremove_item_from_cart(1);\nprint_r(get_cart_contents()); // Output: Array ()\nupdate_item_quantity(1, 3);\nprint_r(get_cart_contents()); // Output: Array ( [0] => Array ( [product_id] => 1 [quantity] => 3 ) )\n\n// Display cart contents on page\nif (!empty($_SESSION['cart'])) {\n    echo '<h2>Cart Contents:</h2>';\n    foreach ($_SESSION['cart'] as $item) {\n        echo 'Product: ' . $item['product_id'] . ', Quantity: ' . $item['quantity'] . '<br />';\n    }\n} else {\n    echo '<p>No items in cart.</p>';\n}\n```\nThis code defines four functions:\n\n*   `add_item_to_cart($product_id, $quantity)`: Adds a product to the cart with the specified quantity.\n*   `remove_item_from_cart($product_id)`: Removes a product from the cart.\n*   `update_item_quantity($product_id, $new_quantity)`: Updates the quantity of an item in the cart.\n*   `get_cart_contents()`: Returns the contents of the cart.\n\nThe example usage at the end shows how to use these functions and display the cart contents on a page.", "code_blocks": ["```php\n<?php\nsession_start();\n\n// Check if cart is set in session, if not create it\nif (!isset($_SESSION['cart'])) {\n    $_SESSION['cart'] = array();\n}\n\n// Function to add item to cart\nfunction add_item_to_cart($product_id, $quantity) {\n    global $_SESSION;\n    \n    // Create a new product entry in the cart array\n    $_SESSION['cart'][] = array('product_id' => $product_id, 'quantity' => $quantity);\n    \n    // Save changes to session\n    $_SESSION['changed'] = true;\n}\n\n// Function to remove item from cart\nfunction remove_item_from_cart($product_id) {\n    global $_SESSION;\n    \n    // Find the index of the product in the cart array\n    foreach ($_SESSION['cart'] as $key => $item) {\n        if ($item['product_id'] == $product_id) {\n            unset($_SESSION['cart'][$key]);\n            break;\n        }\n    }\n    \n    // Save changes to session\n    $_SESSION['changed'] = true;\n}\n\n// Function to update quantity of item in cart\nfunction update_item_quantity($product_id, $new_quantity) {\n    global $_SESSION;\n    \n    // Find the index of the product in the cart array\n    foreach ($_SESSION['cart'] as &$item) {\n        if ($item['product_id'] == $product_id) {\n            $item['quantity'] = $new_quantity;\n            break;\n        }\n    }\n    \n    // Save changes to session\n    $_SESSION['changed'] = true;\n}\n\n// Function to get cart contents\nfunction get_cart_contents() {\n    global $_SESSION;\n    \n    return $_SESSION['cart'];\n}\n\n// Example usage:\nadd_item_to_cart(1, 2); // Add product with id 1 and quantity of 2\nprint_r(get_cart_contents()); // Output: Array ( [0] => Array ( [product_id] => 1 [quantity] => 2 ) )\nremove_item_from_cart(1);\nprint_r(get_cart_contents()); // Output: Array ()\nupdate_item_quantity(1, 3);\nprint_r(get_cart_contents()); // Output: Array ( [0] => Array ( [product_id] => 1 [quantity] => 3 ) )\n\n// Display cart contents on page\nif (!empty($_SESSION['cart'])) {\n    echo '<h2>Cart Contents:</h2>';\n    foreach ($_SESSION['cart'] as $item) {\n        echo 'Product: ' . $item['product_id'] . ', Quantity: ' . $item['quantity'] . '<br />';\n    }\n} else {\n    echo '<p>No items in cart.</p>';\n}\n```"]}
