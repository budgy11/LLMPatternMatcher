{"prompt": "Create a user cart session using php", "llm_output": "Here is an example of how to create a user cart session using PHP:\n\n**Note:** This example assumes you are using the `session` module in PHP, which is enabled by default.\n\n**index.php (cart page)**\n```php\n<?php\n// Start the session\nsession_start();\n\n// Initialize cart array if it doesn't exist\nif (!isset($_SESSION['cart'])) {\n    $_SESSION['cart'] = array();\n}\n\n// Get product ID and quantity from form submission (e.g. from a button click)\nif (isset($_POST['product_id']) && isset($_POST['quantity'])) {\n    $product_id = $_POST['product_id'];\n    $quantity = $_POST['quantity'];\n\n    // Add product to cart if it doesn't exist, or increment its quantity\n    if (!isset($_SESSION['cart'][$product_id])) {\n        $_SESSION['cart'][$product_id] = array('quantity' => $quantity);\n    } else {\n        $_SESSION['cart'][$product_id]['quantity'] += $quantity;\n    }\n}\n\n// Display cart contents\necho '<h2>Cart Contents:</h2>';\necho '<table border=\"1\">';\nforeach ($_SESSION['cart'] as $product_id => $details) {\n    echo '<tr>';\n    echo '<td>' . $product_id . '</td>';\n    echo '<td>' . $details['quantity'] . '</td>';\n    echo '</tr>';\n}\necho '</table>';\n\n// Display total cost\n$total_cost = 0;\nforeach ($_SESSION['cart'] as $product_id => $details) {\n    // Assuming prices are stored in an array (e.g. `$prices[$product_id]`)\n    $price = $prices[$product_id];\n    $total_cost += $price * $details['quantity'];\n}\necho '<p>Total cost: $\" . number_format($total_cost, 2) . \"</p>\";\n```\n**cart.php (add product to cart page)**\n```php\n<?php\n// Start the session\nsession_start();\n\n// Get product ID and quantity from form submission (e.g. from a button click)\nif (isset($_POST['product_id']) && isset($_POST['quantity'])) {\n    $product_id = $_POST['product_id'];\n    $quantity = $_POST['quantity'];\n\n    // Add product to cart if it doesn't exist, or increment its quantity\n    if (!isset($_SESSION['cart'][$product_id])) {\n        $_SESSION['cart'][$product_id] = array('quantity' => $quantity);\n    } else {\n        $_SESSION['cart'][$product_id]['quantity'] += $quantity;\n    }\n}\n\n// Redirect back to cart page (assuming it's stored in `$_SERVER['HTTP_REFERER']`)\nheader('Location: ' . $_SERVER['HTTP_REFERER']);\nexit();\n```\n**Usage:**\n\n1. Create a new PHP file called `index.php` and add the code above.\n2. Create another PHP file called `cart.php` and add the code above.\n3. In your HTML form, submit to `cart.php` when adding a product to cart:\n```html\n<form action=\"cart.php\" method=\"post\">\n    <input type=\"hidden\" name=\"product_id\" value=\"<?php echo $product_id; ?>\">\n    <input type=\"text\" name=\"quantity\" value=\"<?php echo $quantity; ?>\">\n    <button type=\"submit\">Add to Cart</button>\n</form>\n```\n4. In your cart page (`index.php`), display the cart contents and total cost using the code above.\n\nThis example uses a simple array to store the cart contents, where each product ID is mapped to an associative array containing its quantity. You can modify this implementation as needed to suit your specific requirements (e.g., use a database instead of an array).", "code_blocks": ["```php\n<?php\n// Start the session\nsession_start();\n\n// Initialize cart array if it doesn't exist\nif (!isset($_SESSION['cart'])) {\n    $_SESSION['cart'] = array();\n}\n\n// Get product ID and quantity from form submission (e.g. from a button click)\nif (isset($_POST['product_id']) && isset($_POST['quantity'])) {\n    $product_id = $_POST['product_id'];\n    $quantity = $_POST['quantity'];\n\n    // Add product to cart if it doesn't exist, or increment its quantity\n    if (!isset($_SESSION['cart'][$product_id])) {\n        $_SESSION['cart'][$product_id] = array('quantity' => $quantity);\n    } else {\n        $_SESSION['cart'][$product_id]['quantity'] += $quantity;\n    }\n}\n\n// Display cart contents\necho '<h2>Cart Contents:</h2>';\necho '<table border=\"1\">';\nforeach ($_SESSION['cart'] as $product_id => $details) {\n    echo '<tr>';\n    echo '<td>' . $product_id . '</td>';\n    echo '<td>' . $details['quantity'] . '</td>';\n    echo '</tr>';\n}\necho '</table>';\n\n// Display total cost\n$total_cost = 0;\nforeach ($_SESSION['cart'] as $product_id => $details) {\n    // Assuming prices are stored in an array (e.g. `$prices[$product_id]`)\n    $price = $prices[$product_id];\n    $total_cost += $price * $details['quantity'];\n}\necho '<p>Total cost: $\" . number_format($total_cost, 2) . \"</p>\";\n```", "```php\n<?php\n// Start the session\nsession_start();\n\n// Get product ID and quantity from form submission (e.g. from a button click)\nif (isset($_POST['product_id']) && isset($_POST['quantity'])) {\n    $product_id = $_POST['product_id'];\n    $quantity = $_POST['quantity'];\n\n    // Add product to cart if it doesn't exist, or increment its quantity\n    if (!isset($_SESSION['cart'][$product_id])) {\n        $_SESSION['cart'][$product_id] = array('quantity' => $quantity);\n    } else {\n        $_SESSION['cart'][$product_id]['quantity'] += $quantity;\n    }\n}\n\n// Redirect back to cart page (assuming it's stored in `$_SERVER['HTTP_REFERER']`)\nheader('Location: ' . $_SERVER['HTTP_REFERER']);\nexit();\n```", null]}
