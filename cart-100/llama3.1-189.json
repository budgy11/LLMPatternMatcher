{"prompt": "Create a user cart session using php", "llm_output": "Here is an example of how to create a simple user cart session using PHP:\n\n**cart.php**\n```php\n<?php\n// Start the session\nsession_start();\n\n// If the cart array doesn't exist, create it\nif (!isset($_SESSION['cart'])) {\n    $_SESSION['cart'] = array();\n}\n\n// Function to add item to cart\nfunction add_to_cart($product_id) {\n    // Get product details (replace with your own database query)\n    $product = get_product_details($product_id);\n    \n    // Add product to cart\n    if (!isset($_SESSION['cart'][$product_id])) {\n        $_SESSION['cart'][$product_id] = array(\n            'quantity' => 1,\n            'price' => $product['price'],\n            'name' => $product['name']\n        );\n    } else {\n        // If product is already in cart, increment quantity\n        $_SESSION['cart'][$product_id]['quantity']++;\n    }\n}\n\n// Function to remove item from cart\nfunction remove_from_cart($product_id) {\n    unset($_SESSION['cart'][$product_id]);\n}\n\n// Function to update quantity of item in cart\nfunction update_quantity($product_id, $new_quantity) {\n    if (isset($_SESSION['cart'][$product_id])) {\n        $_SESSION['cart'][$product_id]['quantity'] = $new_quantity;\n    }\n}\n\n// Function to get cart contents\nfunction get_cart_contents() {\n    return $_SESSION['cart'];\n}\n\n// Example usage:\nadd_to_cart(1); // Add product 1 to cart\nremove_from_cart(2); // Remove product 2 from cart\nupdate_quantity(3, 5); // Update quantity of product 3 in cart\n\n// Display cart contents\nprint_r(get_cart_contents());\n?>\n```\n**get_product_details.php**\n```php\n<?php\nfunction get_product_details($product_id) {\n    // Replace with your own database query to retrieve product details\n    $db = mysqli_connect(\"localhost\", \"username\", \"password\", \"database\");\n    $query = \"SELECT * FROM products WHERE id = '$product_id'\";\n    $result = mysqli_query($db, $query);\n    $product = mysqli_fetch_assoc($result);\n    return $product;\n}\n?>\n```\nThis example uses the following functions to manage the cart session:\n\n* `add_to_cart`: adds a product to the cart or increments its quantity if it already exists in the cart\n* `remove_from_cart`: removes a product from the cart\n* `update_quantity`: updates the quantity of a product in the cart\n* `get_cart_contents`: returns the contents of the cart\n\nNote that this is a very basic example and you should consider implementing more advanced features such as:\n\n* Product variations (e.g. size, color)\n* Discounts and promotions\n* Gift wrapping and handling taxes\n* Secure payment processing using e-commerce gateways like PayPal or Stripe", "code_blocks": ["```php\n<?php\n// Start the session\nsession_start();\n\n// If the cart array doesn't exist, create it\nif (!isset($_SESSION['cart'])) {\n    $_SESSION['cart'] = array();\n}\n\n// Function to add item to cart\nfunction add_to_cart($product_id) {\n    // Get product details (replace with your own database query)\n    $product = get_product_details($product_id);\n    \n    // Add product to cart\n    if (!isset($_SESSION['cart'][$product_id])) {\n        $_SESSION['cart'][$product_id] = array(\n            'quantity' => 1,\n            'price' => $product['price'],\n            'name' => $product['name']\n        );\n    } else {\n        // If product is already in cart, increment quantity\n        $_SESSION['cart'][$product_id]['quantity']++;\n    }\n}\n\n// Function to remove item from cart\nfunction remove_from_cart($product_id) {\n    unset($_SESSION['cart'][$product_id]);\n}\n\n// Function to update quantity of item in cart\nfunction update_quantity($product_id, $new_quantity) {\n    if (isset($_SESSION['cart'][$product_id])) {\n        $_SESSION['cart'][$product_id]['quantity'] = $new_quantity;\n    }\n}\n\n// Function to get cart contents\nfunction get_cart_contents() {\n    return $_SESSION['cart'];\n}\n\n// Example usage:\nadd_to_cart(1); // Add product 1 to cart\nremove_from_cart(2); // Remove product 2 from cart\nupdate_quantity(3, 5); // Update quantity of product 3 in cart\n\n// Display cart contents\nprint_r(get_cart_contents());\n?>\n```", "```php\n<?php\nfunction get_product_details($product_id) {\n    // Replace with your own database query to retrieve product details\n    $db = mysqli_connect(\"localhost\", \"username\", \"password\", \"database\");\n    $query = \"SELECT * FROM products WHERE id = '$product_id'\";\n    $result = mysqli_query($db, $query);\n    $product = mysqli_fetch_assoc($result);\n    return $product;\n}\n?>\n```"]}
