{"prompt": "Create a user cart session using php", "llm_output": "Here's an example of how you can create a basic user cart session using PHP. This example uses the `$_SESSION` superglobal array to store the items in the cart.\n\n**Note:** Before starting, make sure that sessions are enabled on your server and you have the `session_start()` function included at the top of each relevant script.\n\n**cart.php**\n```php\n<?php\n// Start session\nsession_start();\n\n// Initialize an empty cart if it doesn't exist yet\nif (!isset($_SESSION['cart'])) {\n    $_SESSION['cart'] = array();\n}\n\n// Function to add item to cart\nfunction add_item_to_cart($item_id, $quantity) {\n    // Check if item already exists in cart\n    foreach ($_SESSION['cart'] as &$item) {\n        if ($item['id'] == $item_id) {\n            // Update quantity\n            $item['quantity'] += $quantity;\n            return; // exit function early\n        }\n    }\n\n    // Item not found, add new item to cart\n    $_SESSION['cart'][] = array(\n        'id' => $item_id,\n        'quantity' => $quantity\n    );\n}\n\n// Function to remove item from cart\nfunction remove_item_from_cart($item_id) {\n    // Find index of item in cart\n    foreach ($_SESSION['cart'] as $index => $item) {\n        if ($item['id'] == $item_id) {\n            unset($_SESSION['cart'][$index]);\n            return; // exit function early\n        }\n    }\n\n    // Item not found, do nothing\n}\n\n// Function to update quantity of item in cart\nfunction update_quantity($item_id, $new_quantity) {\n    foreach ($_SESSION['cart'] as &$item) {\n        if ($item['id'] == $item_id) {\n            $item['quantity'] = $new_quantity;\n            return; // exit function early\n        }\n    }\n\n    // Item not found, do nothing\n}\n\n// Add item to cart example\nadd_item_to_cart(1, 2);\nadd_item_to_cart(2, 3);\n\n// Remove item from cart example\nremove_item_from_cart(1);\n\n// Update quantity of item in cart example\nupdate_quantity(2, 4);\n\n// Print out the contents of the cart\nprint_r($_SESSION['cart']);\n```\n**cart_display.php**\n```php\n<?php\nsession_start();\n\nif (!isset($_SESSION['cart'])) {\n    echo \"Your cart is empty.\";\n} else {\n    ?>\n    <h1>Your Cart:</h1>\n    <table border=\"1\">\n        <tr>\n            <th>Item ID</th>\n            <th>Quantity</th>\n        </tr>\n        <?php\n        foreach ($_SESSION['cart'] as $item) {\n            ?>\n            <tr>\n                <td><?php echo $item['id']; ?></td>\n                <td><?php echo $item['quantity']; ?></td>\n            </tr>\n            <?php\n        }\n        ?>\n    </table>\n    <?php\n}\n?>\n```\nThis example demonstrates basic functions to add, remove and update items in the cart. Note that this is a very simplified version of an e-commerce cart system. You should consider implementing more advanced features like item price storage, user authentication, and shopping basket handling.\n\n**Note:**\n\n* To use this example, simply save both files on your server (e.g., `cart.php` and `cart_display.php`) and navigate to the URL where you saved them in a web browser. You can add items to your cart by calling `add_item_to_cart()` function from another PHP script.\n* When using sessions, make sure to include `session_start()` at the beginning of each relevant script to ensure that session variables are available.", "code_blocks": ["```php\n<?php\n// Start session\nsession_start();\n\n// Initialize an empty cart if it doesn't exist yet\nif (!isset($_SESSION['cart'])) {\n    $_SESSION['cart'] = array();\n}\n\n// Function to add item to cart\nfunction add_item_to_cart($item_id, $quantity) {\n    // Check if item already exists in cart\n    foreach ($_SESSION['cart'] as &$item) {\n        if ($item['id'] == $item_id) {\n            // Update quantity\n            $item['quantity'] += $quantity;\n            return; // exit function early\n        }\n    }\n\n    // Item not found, add new item to cart\n    $_SESSION['cart'][] = array(\n        'id' => $item_id,\n        'quantity' => $quantity\n    );\n}\n\n// Function to remove item from cart\nfunction remove_item_from_cart($item_id) {\n    // Find index of item in cart\n    foreach ($_SESSION['cart'] as $index => $item) {\n        if ($item['id'] == $item_id) {\n            unset($_SESSION['cart'][$index]);\n            return; // exit function early\n        }\n    }\n\n    // Item not found, do nothing\n}\n\n// Function to update quantity of item in cart\nfunction update_quantity($item_id, $new_quantity) {\n    foreach ($_SESSION['cart'] as &$item) {\n        if ($item['id'] == $item_id) {\n            $item['quantity'] = $new_quantity;\n            return; // exit function early\n        }\n    }\n\n    // Item not found, do nothing\n}\n\n// Add item to cart example\nadd_item_to_cart(1, 2);\nadd_item_to_cart(2, 3);\n\n// Remove item from cart example\nremove_item_from_cart(1);\n\n// Update quantity of item in cart example\nupdate_quantity(2, 4);\n\n// Print out the contents of the cart\nprint_r($_SESSION['cart']);\n```", "```php\n<?php\nsession_start();\n\nif (!isset($_SESSION['cart'])) {\n    echo \"Your cart is empty.\";\n} else {\n    ?>\n    <h1>Your Cart:</h1>\n    <table border=\"1\">\n        <tr>\n            <th>Item ID</th>\n            <th>Quantity</th>\n        </tr>\n        <?php\n        foreach ($_SESSION['cart'] as $item) {\n            ?>\n            <tr>\n                <td><?php echo $item['id']; ?></td>\n                <td><?php echo $item['quantity']; ?></td>\n            </tr>\n            <?php\n        }\n        ?>\n    </table>\n    <?php\n}\n?>\n```"]}
