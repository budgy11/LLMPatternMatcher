{"prompt": "Create a user cart session using php", "llm_output": "**User Cart Session in PHP**\n=====================================\n\nIn this example, we'll create a simple user cart session using PHP. We'll store the products added to the cart in an array within the session.\n\n**cart.php**\n```php\n<?php\n// Initialize session\nsession_start();\n\n// Check if cart is set, otherwise initialize it as empty array\nif (!isset($_SESSION['cart'])) {\n    $_SESSION['cart'] = array();\n}\n\n// Function to add product to cart\nfunction add_to_cart($product_id) {\n    // Get current products in cart\n    $cart_products = $_SESSION['cart'];\n\n    // Add product to cart if it's not already there\n    if (!in_array($product_id, $cart_products)) {\n        array_push($cart_products, $product_id);\n        $_SESSION['cart'] = $cart_products;\n    }\n}\n\n// Function to remove product from cart\nfunction remove_from_cart($product_id) {\n    // Get current products in cart\n    $cart_products = $_SESSION['cart'];\n\n    // Remove product from cart if it's there\n    if (in_array($product_id, $cart_products)) {\n        $index = array_search($product_id, $cart_products);\n        unset($cart_products[$index]);\n        $_SESSION['cart'] = $cart_products;\n    }\n}\n\n// Function to update quantity of product in cart\nfunction update_quantity($product_id, $quantity) {\n    // Get current products in cart\n    $cart_products = $_SESSION['cart'];\n\n    // Update quantity if product is in cart\n    if (in_array($product_id, $cart_products)) {\n        foreach ($cart_products as $key => $pid) {\n            if ($pid == $product_id) {\n                $cart_products[$key] = array('id' => $product_id, 'quantity' => $quantity);\n                $_SESSION['cart'] = $cart_products;\n                break;\n            }\n        }\n    }\n}\n?>\n```\n**Example usage:**\n```php\n// Add product to cart\nadd_to_cart(1);\n\n// Remove product from cart\nremove_from_cart(1);\n\n// Update quantity of product in cart\nupdate_quantity(1, 2);\n```\nThis code initializes a session and checks if the `cart` array is set. If not, it initializes it as an empty array. The three functions (`add_to_cart`, `remove_from_cart`, and `update_quantity`) allow you to manipulate the products in the cart.\n\nNote that this is a basic example and doesn't handle cases like:\n\n* Updating quantities of multiple products at once\n* Handling different types of products (e.g., variable weight products)\n* Dealing with product removals from the database\n\nYou may want to extend this code based on your specific requirements.", "code_blocks": ["```php\n<?php\n// Initialize session\nsession_start();\n\n// Check if cart is set, otherwise initialize it as empty array\nif (!isset($_SESSION['cart'])) {\n    $_SESSION['cart'] = array();\n}\n\n// Function to add product to cart\nfunction add_to_cart($product_id) {\n    // Get current products in cart\n    $cart_products = $_SESSION['cart'];\n\n    // Add product to cart if it's not already there\n    if (!in_array($product_id, $cart_products)) {\n        array_push($cart_products, $product_id);\n        $_SESSION['cart'] = $cart_products;\n    }\n}\n\n// Function to remove product from cart\nfunction remove_from_cart($product_id) {\n    // Get current products in cart\n    $cart_products = $_SESSION['cart'];\n\n    // Remove product from cart if it's there\n    if (in_array($product_id, $cart_products)) {\n        $index = array_search($product_id, $cart_products);\n        unset($cart_products[$index]);\n        $_SESSION['cart'] = $cart_products;\n    }\n}\n\n// Function to update quantity of product in cart\nfunction update_quantity($product_id, $quantity) {\n    // Get current products in cart\n    $cart_products = $_SESSION['cart'];\n\n    // Update quantity if product is in cart\n    if (in_array($product_id, $cart_products)) {\n        foreach ($cart_products as $key => $pid) {\n            if ($pid == $product_id) {\n                $cart_products[$key] = array('id' => $product_id, 'quantity' => $quantity);\n                $_SESSION['cart'] = $cart_products;\n                break;\n            }\n        }\n    }\n}\n?>\n```", "```php\n// Add product to cart\nadd_to_cart(1);\n\n// Remove product from cart\nremove_from_cart(1);\n\n// Update quantity of product in cart\nupdate_quantity(1, 2);\n```"]}
