{"prompt": "Create a user cart session using php", "llm_output": "Here's an example of how you can create a simple e-commerce cart system using PHP:\n\n**cart.php**\n```php\n<?php\nsession_start();\n\n// Set default values for cart variables\nif (!isset($_SESSION['cart'])) {\n    $_SESSION['cart'] = array();\n}\n\nfunction add_to_cart($product_id, $quantity) {\n    global $_SESSION;\n    \n    // Check if product is already in the cart\n    foreach ($_SESSION['cart'] as &$item) {\n        if ($item['id'] == $product_id) {\n            $item['quantity'] += $quantity;\n            return; // Update existing item quantity\n        }\n    }\n\n    // Add new product to cart\n    $_SESSION['cart'][] = array('id' => $product_id, 'quantity' => $quantity);\n}\n\nfunction update_cart_item($product_id, $new_quantity) {\n    global $_SESSION;\n    \n    // Find the item in the cart and update its quantity\n    foreach ($_SESSION['cart'] as &$item) {\n        if ($item['id'] == $product_id) {\n            $item['quantity'] = $new_quantity;\n            return; // Update existing item quantity\n        }\n    }\n}\n\nfunction remove_from_cart($product_id) {\n    global $_SESSION;\n    \n    // Find the item in the cart and remove it\n    foreach ($_SESSION['cart'] as $key => &$item) {\n        if ($item['id'] == $product_id) {\n            unset($_SESSION['cart'][$key]);\n            return; // Remove existing item from cart\n        }\n    }\n}\n\nfunction get_cart_contents() {\n    global $_SESSION;\n    \n    return $_SESSION['cart'];\n}\n?>\n```\n**example usage:**\n```php\n// Add a product to the cart with quantity 2\nadd_to_cart(123, 2);\n\n// Update the quantity of an existing item in the cart\nupdate_cart_item(123, 3);\n\n// Remove an item from the cart\nremove_from_cart(456);\n\n// Get the contents of the cart\n$cart_contents = get_cart_contents();\n\n// Print out the cart contents\necho \"Cart Contents:\\n\";\nforeach ($cart_contents as $item) {\n    echo \"ID: {$item['id']} Quantity: {$item['quantity']}\\n\";\n}\n```\nThis example provides basic functionality for managing a shopping cart:\n\n* `add_to_cart`: adds a new product to the cart or updates an existing item's quantity\n* `update_cart_item`: updates the quantity of an existing item in the cart\n* `remove_from_cart`: removes an item from the cart\n* `get_cart_contents`: returns the current contents of the cart\n\nNote that this is just a basic example and you may want to add additional functionality, such as:\n\n* Handling multiple product options (e.g. sizes, colors)\n* Calculating subtotal, tax, and total prices for each item\n* Displaying cart contents on a separate page\n* Implementing payment processing and checkout functionality\n\nAlso, this example uses an array to store the cart contents, which is suitable for small-scale applications. For larger applications, you may want to consider using a database or other data storage solution.", "code_blocks": ["```php\n<?php\nsession_start();\n\n// Set default values for cart variables\nif (!isset($_SESSION['cart'])) {\n    $_SESSION['cart'] = array();\n}\n\nfunction add_to_cart($product_id, $quantity) {\n    global $_SESSION;\n    \n    // Check if product is already in the cart\n    foreach ($_SESSION['cart'] as &$item) {\n        if ($item['id'] == $product_id) {\n            $item['quantity'] += $quantity;\n            return; // Update existing item quantity\n        }\n    }\n\n    // Add new product to cart\n    $_SESSION['cart'][] = array('id' => $product_id, 'quantity' => $quantity);\n}\n\nfunction update_cart_item($product_id, $new_quantity) {\n    global $_SESSION;\n    \n    // Find the item in the cart and update its quantity\n    foreach ($_SESSION['cart'] as &$item) {\n        if ($item['id'] == $product_id) {\n            $item['quantity'] = $new_quantity;\n            return; // Update existing item quantity\n        }\n    }\n}\n\nfunction remove_from_cart($product_id) {\n    global $_SESSION;\n    \n    // Find the item in the cart and remove it\n    foreach ($_SESSION['cart'] as $key => &$item) {\n        if ($item['id'] == $product_id) {\n            unset($_SESSION['cart'][$key]);\n            return; // Remove existing item from cart\n        }\n    }\n}\n\nfunction get_cart_contents() {\n    global $_SESSION;\n    \n    return $_SESSION['cart'];\n}\n?>\n```", "```php\n// Add a product to the cart with quantity 2\nadd_to_cart(123, 2);\n\n// Update the quantity of an existing item in the cart\nupdate_cart_item(123, 3);\n\n// Remove an item from the cart\nremove_from_cart(456);\n\n// Get the contents of the cart\n$cart_contents = get_cart_contents();\n\n// Print out the cart contents\necho \"Cart Contents:\\n\";\nforeach ($cart_contents as $item) {\n    echo \"ID: {$item['id']} Quantity: {$item['quantity']}\\n\";\n}\n```"]}
