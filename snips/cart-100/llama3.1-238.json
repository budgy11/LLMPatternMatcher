{"prompt": "Create a user cart session using php", "llm_output": "Here's an example of how to create a simple user cart session using PHP:\n\n**Note:** This is just a basic example. You may want to add more features like product variations, quantity management, etc.\n\n```php\n<?php\n// Session start\nsession_start();\n\n// If the cart is not set, initialize it as an empty array\nif (!isset($_SESSION['cart'])) {\n    $_SESSION['cart'] = array();\n}\n\n// Product data (e.g., from a database)\n$products = array(\n    array('id' => 1, 'name' => 'Product 1', 'price' => 9.99),\n    array('id' => 2, 'name' => 'Product 2', 'price' => 19.99),\n    // ...\n);\n\n// Add a product to the cart\nfunction add_product_to_cart($product_id) {\n    global $products;\n    foreach ($products as $product) {\n        if ($product['id'] == $product_id) {\n            if (!in_array($product_id, $_SESSION['cart'])) {\n                $_SESSION['cart'][] = array('product_id' => $product_id);\n            }\n            break;\n        }\n    }\n}\n\n// Remove a product from the cart\nfunction remove_product_from_cart($product_id) {\n    global $_SESSION;\n    if (isset($_SESSION['cart'][$product_id])) {\n        unset($_SESSION['cart'][$product_id]);\n    }\n}\n\n// Update the quantity of a product in the cart\nfunction update_quantity_in_cart($product_id, $quantity) {\n    global $_SESSION;\n    if (isset($_SESSION['cart'][$product_id])) {\n        $_SESSION['cart'][$product_id]['quantity'] = $quantity;\n    }\n}\n\n// Get the total cost of the cart\nfunction get_total_cost() {\n    global $_SESSION;\n    $total_cost = 0;\n    foreach ($_SESSION['cart'] as $item) {\n        $product_id = $item['product_id'];\n        $product_data = null;\n        foreach ($GLOBALS['products'] as $p) {\n            if ($p['id'] == $product_id) {\n                $product_data = $p;\n                break;\n            }\n        }\n        if ($product_data !== null) {\n            $total_cost += $product_data['price'];\n        }\n    }\n    return $total_cost;\n}\n\n// Example usage\nadd_product_to_cart(1); // Add Product 1 to the cart\nupdate_quantity_in_cart(1, 2); // Update quantity of Product 1 to 2\n\necho \"Total cost: $\" . get_total_cost();\n?>\n```\n\nThis code initializes a session and uses it to store an array of products in the user's cart. You can add products to the cart using `add_product_to_cart()`, remove them with `remove_product_from_cart()`, update quantities with `update_quantity_in_cart()`, and get the total cost with `get_total_cost()`.\n\nRemember that this is a simplified example, and you may need to adapt it to your specific requirements. For instance, if you have product variations or more complex pricing logic, you'll want to modify the code accordingly.", "code_blocks": ["```php\n<?php\n// Session start\nsession_start();\n\n// If the cart is not set, initialize it as an empty array\nif (!isset($_SESSION['cart'])) {\n    $_SESSION['cart'] = array();\n}\n\n// Product data (e.g., from a database)\n$products = array(\n    array('id' => 1, 'name' => 'Product 1', 'price' => 9.99),\n    array('id' => 2, 'name' => 'Product 2', 'price' => 19.99),\n    // ...\n);\n\n// Add a product to the cart\nfunction add_product_to_cart($product_id) {\n    global $products;\n    foreach ($products as $product) {\n        if ($product['id'] == $product_id) {\n            if (!in_array($product_id, $_SESSION['cart'])) {\n                $_SESSION['cart'][] = array('product_id' => $product_id);\n            }\n            break;\n        }\n    }\n}\n\n// Remove a product from the cart\nfunction remove_product_from_cart($product_id) {\n    global $_SESSION;\n    if (isset($_SESSION['cart'][$product_id])) {\n        unset($_SESSION['cart'][$product_id]);\n    }\n}\n\n// Update the quantity of a product in the cart\nfunction update_quantity_in_cart($product_id, $quantity) {\n    global $_SESSION;\n    if (isset($_SESSION['cart'][$product_id])) {\n        $_SESSION['cart'][$product_id]['quantity'] = $quantity;\n    }\n}\n\n// Get the total cost of the cart\nfunction get_total_cost() {\n    global $_SESSION;\n    $total_cost = 0;\n    foreach ($_SESSION['cart'] as $item) {\n        $product_id = $item['product_id'];\n        $product_data = null;\n        foreach ($GLOBALS['products'] as $p) {\n            if ($p['id'] == $product_id) {\n                $product_data = $p;\n                break;\n            }\n        }\n        if ($product_data !== null) {\n            $total_cost += $product_data['price'];\n        }\n    }\n    return $total_cost;\n}\n\n// Example usage\nadd_product_to_cart(1); // Add Product 1 to the cart\nupdate_quantity_in_cart(1, 2); // Update quantity of Product 1 to 2\n\necho \"Total cost: $\" . get_total_cost();\n?>\n```"]}
