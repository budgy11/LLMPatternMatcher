{"prompt": "Create a user cart session using php", "llm_output": "Here is an example of how to create a simple user cart session using PHP:\n\n**cart.php**\n```php\n<?php\nsession_start();\n\n// Check if cart is already set in the session, if not initialize it\nif (!isset($_SESSION['cart'])) {\n    $_SESSION['cart'] = array();\n}\n\n// Add item to cart\nfunction add_to_cart($item_id) {\n    global $_SESSION;\n    $item_id = (int) $item_id;\n    if (array_key_exists($item_id, $_SESSION['cart'])) {\n        // If item is already in cart, increment quantity\n        $_SESSION['cart'][$item_id]['quantity']++;\n    } else {\n        // Add new item to cart\n        $_SESSION['cart'][$item_id] = array(\n            'name' => '',\n            'price' => 0,\n            'quantity' => 1,\n            'subtotal' => 0\n        );\n    }\n}\n\n// Remove item from cart\nfunction remove_from_cart($item_id) {\n    global $_SESSION;\n    $item_id = (int) $item_id;\n    if (array_key_exists($item_id, $_SESSION['cart'])) {\n        unset($_SESSION['cart'][$item_id]);\n    }\n}\n\n// Update quantity of item in cart\nfunction update_quantity($item_id, $quantity) {\n    global $_SESSION;\n    $item_id = (int) $item_id;\n    if (array_key_exists($item_id, $_SESSION['cart'])) {\n        $_SESSION['cart'][$item_id]['quantity'] = (int) $quantity;\n    }\n}\n\n// Calculate subtotal of cart\nfunction calculate_subtotal() {\n    global $_SESSION;\n    $subtotal = 0;\n    foreach ($_SESSION['cart'] as $item) {\n        $subtotal += ($item['price'] * $item['quantity']);\n    }\n    return $subtotal;\n}\n\n// Print contents of cart\nfunction print_cart() {\n    global $_SESSION;\n    echo '<h2>Cart Contents:</h2>';\n    echo '<table border=\"1\">';\n    echo '<tr><th>Name</th><th>Price</th><th>Quantity</th><th>Subtotal</th></tr>';\n    $subtotal = 0;\n    foreach ($_SESSION['cart'] as $item_id => $item) {\n        $subtotal += ($item['price'] * $item['quantity']);\n        echo '<tr><td>' . $item['name'] . '</td><td>$' . number_format($item['price'], 2) . '</td><td>' . $item['quantity'] . '</td><td>$' . number_format(($item['price'] * $item['quantity']), 2) . '</td></tr>';\n    }\n    echo '<tr><td colspan=\"3\">Total:</td><td>$' . number_format($subtotal, 2) . '</td></tr>';\n    echo '</table>';\n}\n\n// Add example item to cart\nadd_to_cart(1);\n\n// Print contents of cart\nprint_cart();\n\n?>\n```\nThis script uses the `$_SESSION` superglobal array to store the cart data. The cart is initialized as an empty array if it does not exist in the session.\n\nThe functions `add_to_cart`, `remove_from_cart`, and `update_quantity` allow you to add, remove, or update items in the cart. The function `calculate_subtotal` calculates the subtotal of all items in the cart. Finally, the function `print_cart` prints out a table displaying the contents of the cart.\n\nTo use this script, simply include it in your PHP page and call the functions as needed to interact with the cart. For example:\n```php\n// Add item 2 to cart\nadd_to_cart(2);\n\n// Remove item 1 from cart\nremove_from_cart(1);\n\n// Update quantity of item 2 in cart to 3\nupdate_quantity(2, 3);\n```\nNote that this is a very basic implementation and you may want to add additional functionality such as handling different types of items (e.g. products, services), adding/ removing discounts or taxes, etc.\n\nAlso, make sure to use `session_start()` at the beginning of your script to start the session, and to use `$_SESSION` to access and modify the cart data.", "code_blocks": ["```php\n<?php\nsession_start();\n\n// Check if cart is already set in the session, if not initialize it\nif (!isset($_SESSION['cart'])) {\n    $_SESSION['cart'] = array();\n}\n\n// Add item to cart\nfunction add_to_cart($item_id) {\n    global $_SESSION;\n    $item_id = (int) $item_id;\n    if (array_key_exists($item_id, $_SESSION['cart'])) {\n        // If item is already in cart, increment quantity\n        $_SESSION['cart'][$item_id]['quantity']++;\n    } else {\n        // Add new item to cart\n        $_SESSION['cart'][$item_id] = array(\n            'name' => '',\n            'price' => 0,\n            'quantity' => 1,\n            'subtotal' => 0\n        );\n    }\n}\n\n// Remove item from cart\nfunction remove_from_cart($item_id) {\n    global $_SESSION;\n    $item_id = (int) $item_id;\n    if (array_key_exists($item_id, $_SESSION['cart'])) {\n        unset($_SESSION['cart'][$item_id]);\n    }\n}\n\n// Update quantity of item in cart\nfunction update_quantity($item_id, $quantity) {\n    global $_SESSION;\n    $item_id = (int) $item_id;\n    if (array_key_exists($item_id, $_SESSION['cart'])) {\n        $_SESSION['cart'][$item_id]['quantity'] = (int) $quantity;\n    }\n}\n\n// Calculate subtotal of cart\nfunction calculate_subtotal() {\n    global $_SESSION;\n    $subtotal = 0;\n    foreach ($_SESSION['cart'] as $item) {\n        $subtotal += ($item['price'] * $item['quantity']);\n    }\n    return $subtotal;\n}\n\n// Print contents of cart\nfunction print_cart() {\n    global $_SESSION;\n    echo '<h2>Cart Contents:</h2>';\n    echo '<table border=\"1\">';\n    echo '<tr><th>Name</th><th>Price</th><th>Quantity</th><th>Subtotal</th></tr>';\n    $subtotal = 0;\n    foreach ($_SESSION['cart'] as $item_id => $item) {\n        $subtotal += ($item['price'] * $item['quantity']);\n        echo '<tr><td>' . $item['name'] . '</td><td>$' . number_format($item['price'], 2) . '</td><td>' . $item['quantity'] . '</td><td>$' . number_format(($item['price'] * $item['quantity']), 2) . '</td></tr>';\n    }\n    echo '<tr><td colspan=\"3\">Total:</td><td>$' . number_format($subtotal, 2) . '</td></tr>';\n    echo '</table>';\n}\n\n// Add example item to cart\nadd_to_cart(1);\n\n// Print contents of cart\nprint_cart();\n\n?>\n```", "```php\n// Add item 2 to cart\nadd_to_cart(2);\n\n// Remove item 1 from cart\nremove_from_cart(1);\n\n// Update quantity of item 2 in cart to 3\nupdate_quantity(2, 3);\n```"]}
