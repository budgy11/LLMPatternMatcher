{"prompt": "Create a user cart session using php", "llm_output": "Here's an example of how to create a simple user cart session using PHP:\n\n**cart.php**\n```php\n<?php\nsession_start();\n\n// Initialize cart array if it doesn't exist\nif (!isset($_SESSION['cart'])) {\n    $_SESSION['cart'] = array();\n}\n\n// Function to add item to cart\nfunction addToCart($product_id, $quantity) {\n    // Check if product already exists in cart\n    foreach ($_SESSION['cart'] as &$item) {\n        if ($item['product_id'] == $product_id) {\n            // Increase quantity of existing item\n            $item['quantity'] += $quantity;\n            return;\n        }\n    }\n\n    // Add new item to cart\n    $_SESSION['cart'][] = array('product_id' => $product_id, 'quantity' => $quantity);\n}\n\n// Function to remove item from cart\nfunction removeFromCart($product_id) {\n    // Remove all instances of product from cart\n    foreach ($_SESSION['cart'] as $key => &$item) {\n        if ($item['product_id'] == $product_id) {\n            unset($_SESSION['cart'][$key]);\n        }\n    }\n\n    // Re-index cart array\n    $_SESSION['cart'] = array_values($_SESSION['cart']);\n}\n\n// Function to update quantity of item in cart\nfunction updateQuantity($product_id, $new_quantity) {\n    // Find and update existing item in cart\n    foreach ($_SESSION['cart'] as &$item) {\n        if ($item['product_id'] == $product_id) {\n            $item['quantity'] = $new_quantity;\n            return;\n        }\n    }\n\n    // Add new item to cart with updated quantity\n    addToCart($product_id, $new_quantity);\n}\n\n// Function to get total cost of items in cart\nfunction getTotalCost() {\n    $total = 0;\n    foreach ($_SESSION['cart'] as &$item) {\n        // Assume prices are stored in a database or array for simplicity\n        $prices = array(1 => 9.99, 2 => 14.99); // Replace with actual prices\n        $total += $item['quantity'] * $prices[$item['product_id']];\n    }\n    return $total;\n}\n\n// Add example item to cart\naddToCart(1, 2);\n\necho \"Cart contents:\\n\";\nprint_r($_SESSION['cart']);\n\necho \"\\nTotal cost: $\" . getTotalCost();\n?>\n```\nThis script uses the following functions:\n\n* `addToCart()`: Adds an item to the cart or increases the quantity of an existing item.\n* `removeFromCart()`: Removes an item from the cart.\n* `updateQuantity()`: Updates the quantity of an item in the cart.\n* `getTotalCost()`: Calculates the total cost of items in the cart.\n\nYou can modify this script to fit your specific needs, such as adding error handling or integrating with a database.\n\n**Example use cases:**\n\n1. Adding an item to the cart:\n```php\naddToCart(3, 1);\n```\n2. Removing an item from the cart:\n```php\nremoveFromCart(1);\n```\n3. Updating the quantity of an item in the cart:\n```php\nupdateQuantity(1, 3);\n```\n4. Getting the total cost of items in the cart:\n```php\necho getTotalCost();\n```\nNote that this is a simple example and you should consider adding security measures (e.g., user authentication, input validation) to your production code.", "code_blocks": ["```php\n<?php\nsession_start();\n\n// Initialize cart array if it doesn't exist\nif (!isset($_SESSION['cart'])) {\n    $_SESSION['cart'] = array();\n}\n\n// Function to add item to cart\nfunction addToCart($product_id, $quantity) {\n    // Check if product already exists in cart\n    foreach ($_SESSION['cart'] as &$item) {\n        if ($item['product_id'] == $product_id) {\n            // Increase quantity of existing item\n            $item['quantity'] += $quantity;\n            return;\n        }\n    }\n\n    // Add new item to cart\n    $_SESSION['cart'][] = array('product_id' => $product_id, 'quantity' => $quantity);\n}\n\n// Function to remove item from cart\nfunction removeFromCart($product_id) {\n    // Remove all instances of product from cart\n    foreach ($_SESSION['cart'] as $key => &$item) {\n        if ($item['product_id'] == $product_id) {\n            unset($_SESSION['cart'][$key]);\n        }\n    }\n\n    // Re-index cart array\n    $_SESSION['cart'] = array_values($_SESSION['cart']);\n}\n\n// Function to update quantity of item in cart\nfunction updateQuantity($product_id, $new_quantity) {\n    // Find and update existing item in cart\n    foreach ($_SESSION['cart'] as &$item) {\n        if ($item['product_id'] == $product_id) {\n            $item['quantity'] = $new_quantity;\n            return;\n        }\n    }\n\n    // Add new item to cart with updated quantity\n    addToCart($product_id, $new_quantity);\n}\n\n// Function to get total cost of items in cart\nfunction getTotalCost() {\n    $total = 0;\n    foreach ($_SESSION['cart'] as &$item) {\n        // Assume prices are stored in a database or array for simplicity\n        $prices = array(1 => 9.99, 2 => 14.99); // Replace with actual prices\n        $total += $item['quantity'] * $prices[$item['product_id']];\n    }\n    return $total;\n}\n\n// Add example item to cart\naddToCart(1, 2);\n\necho \"Cart contents:\\n\";\nprint_r($_SESSION['cart']);\n\necho \"\\nTotal cost: $\" . getTotalCost();\n?>\n```", "```php\naddToCart(3, 1);\n```", "```php\nremoveFromCart(1);\n```", "```php\nupdateQuantity(1, 3);\n```", "```php\necho getTotalCost();\n```"]}
