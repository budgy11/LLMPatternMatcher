{"prompt": "Create a user cart session using php", "llm_output": "Here is an example of how you can create a simple user cart system using PHP:\n\n**cart.php**\n```php\n<?php\n// Set the session name\n$_SESSION['cart'] = array();\n\n// Function to add item to cart\nfunction addToCart($product_id, $quantity) {\n  global $_SESSION;\n  \n  // Check if product is already in cart\n  foreach ($_SESSION['cart'] as &$item) {\n    if ($item['id'] == $product_id) {\n      $item['quantity'] += $quantity;\n      return;\n    }\n  }\n  \n  // Add new item to cart\n  $_SESSION['cart'][] = array('id' => $product_id, 'quantity' => $quantity);\n}\n\n// Function to remove item from cart\nfunction removeFromCart($product_id) {\n  global $_SESSION;\n  \n  // Remove item from cart\n  foreach ($_SESSION['cart'] as &$item) {\n    if ($item['id'] == $product_id) {\n      unset($item);\n      return;\n    }\n  }\n}\n\n// Function to update quantity of item in cart\nfunction updateQuantity($product_id, $quantity) {\n  global $_SESSION;\n  \n  // Update quantity of item in cart\n  foreach ($_SESSION['cart'] as &$item) {\n    if ($item['id'] == $product_id) {\n      $item['quantity'] = $quantity;\n      return;\n    }\n  }\n}\n\n// Function to get total cost of items in cart\nfunction getTotalCost() {\n  global $_SESSION;\n  \n  // Calculate total cost\n  $total = 0;\n  foreach ($_SESSION['cart'] as $item) {\n    $total += $item['price'] * $item['quantity'];\n  }\n  return $total;\n}\n\n// Example usage:\nif (isset($_POST['add_to_cart'])) {\n  addToCart($_POST['product_id'], $_POST['quantity']);\n} elseif (isset($_POST['remove_from_cart'])) {\n  removeFromCart($_POST['product_id']);\n} elseif (isset($_POST['update_quantity'])) {\n  updateQuantity($_POST['product_id'], $_POST['quantity']);\n}\n\n// Display cart contents\n?>\n<table>\n  <tr>\n    <th>Product</th>\n    <th>Quantity</th>\n    <th>Total Cost</th>\n  </tr>\n  <?php foreach ($_SESSION['cart'] as $item) : ?>\n  <tr>\n    <td><?php echo $item['name']; ?></td>\n    <td><?php echo $item['quantity']; ?></td>\n    <td><?php echo number_format($item['price'] * $item['quantity'], 2); ?></td>\n  </tr>\n  <?php endforeach; ?>\n</table>\n\nTotal Cost: <?php echo number_format(getTotalCost(), 2); ?>\n\n<form action=\"\" method=\"post\">\n  <input type=\"hidden\" name=\"add_to_cart\" value=\"1\">\n  <label>Product ID:</label>\n  <input type=\"text\" name=\"product_id\"><br><br>\n  <label>Quantity:</label>\n  <input type=\"text\" name=\"quantity\"><br><br>\n  <button type=\"submit\">Add to Cart</button>\n</form>\n\n<form action=\"\" method=\"post\">\n  <input type=\"hidden\" name=\"remove_from_cart\" value=\"1\">\n  <label>Product ID:</label>\n  <input type=\"text\" name=\"product_id\"><br><br>\n  <button type=\"submit\">Remove from Cart</button>\n</form>\n\n<form action=\"\" method=\"post\">\n  <input type=\"hidden\" name=\"update_quantity\" value=\"1\">\n  <label>Product ID:</label>\n  <input type=\"text\" name=\"product_id\"><br><br>\n  <label>New Quantity:</label>\n  <input type=\"text\" name=\"quantity\"><br><br>\n  <button type=\"submit\">Update Quantity</button>\n</form>\n```\n**index.php**\n```php\n<?php\n// Start the session\nsession_start();\n\n// Include cart functions\ninclude 'cart.php';\n\n// Example usage:\nif (isset($_POST['add_to_cart'])) {\n  addToCart($_POST['product_id'], $_POST['quantity']);\n} elseif (isset($_POST['remove_from_cart'])) {\n  removeFromCart($_POST['product_id']);\n} elseif (isset($_POST['update_quantity'])) {\n  updateQuantity($_POST['product_id'], $_POST['quantity']);\n}\n\n// Display cart contents\n?>\n<!DOCTYPE html>\n<html>\n<head>\n  <title>Cart Example</title>\n</head>\n<body>\n  <?php include 'cart.php'; ?>\n</body>\n</html>\n```\nThis example uses a simple array to store the items in the cart, and provides functions to add, remove, update quantity of items, and calculate the total cost. The example usage shows how to use these functions.\n\nNote that this is a very basic implementation and does not include features such as:\n\n* Product database integration\n* Quantity validation (e.g., ensuring that quantity is a positive integer)\n* Total cost calculation (e.g., taking into account discounts, taxes, etc.)\n* Cart persistence across sessions (e.g., using a database or file to store the cart contents)\n\nYou may want to add these features depending on your specific requirements.", "code_blocks": ["```php\n<?php\n// Set the session name\n$_SESSION['cart'] = array();\n\n// Function to add item to cart\nfunction addToCart($product_id, $quantity) {\n  global $_SESSION;\n  \n  // Check if product is already in cart\n  foreach ($_SESSION['cart'] as &$item) {\n    if ($item['id'] == $product_id) {\n      $item['quantity'] += $quantity;\n      return;\n    }\n  }\n  \n  // Add new item to cart\n  $_SESSION['cart'][] = array('id' => $product_id, 'quantity' => $quantity);\n}\n\n// Function to remove item from cart\nfunction removeFromCart($product_id) {\n  global $_SESSION;\n  \n  // Remove item from cart\n  foreach ($_SESSION['cart'] as &$item) {\n    if ($item['id'] == $product_id) {\n      unset($item);\n      return;\n    }\n  }\n}\n\n// Function to update quantity of item in cart\nfunction updateQuantity($product_id, $quantity) {\n  global $_SESSION;\n  \n  // Update quantity of item in cart\n  foreach ($_SESSION['cart'] as &$item) {\n    if ($item['id'] == $product_id) {\n      $item['quantity'] = $quantity;\n      return;\n    }\n  }\n}\n\n// Function to get total cost of items in cart\nfunction getTotalCost() {\n  global $_SESSION;\n  \n  // Calculate total cost\n  $total = 0;\n  foreach ($_SESSION['cart'] as $item) {\n    $total += $item['price'] * $item['quantity'];\n  }\n  return $total;\n}\n\n// Example usage:\nif (isset($_POST['add_to_cart'])) {\n  addToCart($_POST['product_id'], $_POST['quantity']);\n} elseif (isset($_POST['remove_from_cart'])) {\n  removeFromCart($_POST['product_id']);\n} elseif (isset($_POST['update_quantity'])) {\n  updateQuantity($_POST['product_id'], $_POST['quantity']);\n}\n\n// Display cart contents\n?>\n<table>\n  <tr>\n    <th>Product</th>\n    <th>Quantity</th>\n    <th>Total Cost</th>\n  </tr>\n  <?php foreach ($_SESSION['cart'] as $item) : ?>\n  <tr>\n    <td><?php echo $item['name']; ?></td>\n    <td><?php echo $item['quantity']; ?></td>\n    <td><?php echo number_format($item['price'] * $item['quantity'], 2); ?></td>\n  </tr>\n  <?php endforeach; ?>\n</table>\n\nTotal Cost: <?php echo number_format(getTotalCost(), 2); ?>\n\n<form action=\"\" method=\"post\">\n  <input type=\"hidden\" name=\"add_to_cart\" value=\"1\">\n  <label>Product ID:</label>\n  <input type=\"text\" name=\"product_id\"><br><br>\n  <label>Quantity:</label>\n  <input type=\"text\" name=\"quantity\"><br><br>\n  <button type=\"submit\">Add to Cart</button>\n</form>\n\n<form action=\"\" method=\"post\">\n  <input type=\"hidden\" name=\"remove_from_cart\" value=\"1\">\n  <label>Product ID:</label>\n  <input type=\"text\" name=\"product_id\"><br><br>\n  <button type=\"submit\">Remove from Cart</button>\n</form>\n\n<form action=\"\" method=\"post\">\n  <input type=\"hidden\" name=\"update_quantity\" value=\"1\">\n  <label>Product ID:</label>\n  <input type=\"text\" name=\"product_id\"><br><br>\n  <label>New Quantity:</label>\n  <input type=\"text\" name=\"quantity\"><br><br>\n  <button type=\"submit\">Update Quantity</button>\n</form>\n```", "```php\n<?php\n// Start the session\nsession_start();\n\n// Include cart functions\ninclude 'cart.php';\n\n// Example usage:\nif (isset($_POST['add_to_cart'])) {\n  addToCart($_POST['product_id'], $_POST['quantity']);\n} elseif (isset($_POST['remove_from_cart'])) {\n  removeFromCart($_POST['product_id']);\n} elseif (isset($_POST['update_quantity'])) {\n  updateQuantity($_POST['product_id'], $_POST['quantity']);\n}\n\n// Display cart contents\n?>\n<!DOCTYPE html>\n<html>\n<head>\n  <title>Cart Example</title>\n</head>\n<body>\n  <?php include 'cart.php'; ?>\n</body>\n</html>\n```"]}
