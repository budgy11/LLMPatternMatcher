{"prompt": "Create a user cart session using php", "llm_output": "Here is an example of how you can create a simple user cart session using PHP:\n\n**cart.php**\n```php\n<?php\nsession_start();\n\n// Check if cart is already set in session\nif (!isset($_SESSION['cart'])) {\n    $_SESSION['cart'] = array();\n}\n\n// Function to add item to cart\nfunction add_item_to_cart($item_id, $quantity) {\n    global $cart;\n    if (array_key_exists($item_id, $cart)) {\n        $cart[$item_id] += $quantity;\n    } else {\n        $cart[$item_id] = $quantity;\n    }\n}\n\n// Function to remove item from cart\nfunction remove_item_from_cart($item_id) {\n    global $cart;\n    if (array_key_exists($item_id, $cart)) {\n        unset($cart[$item_id]);\n    }\n}\n\n// Function to update quantity of item in cart\nfunction update_quantity_in_cart($item_id, $new_quantity) {\n    global $cart;\n    if (array_key_exists($item_id, $cart)) {\n        $cart[$item_id] = $new_quantity;\n    }\n}\n\n// Add item to cart\nif (isset($_POST['add_to_cart'])) {\n    $item_id = $_POST['item_id'];\n    $quantity = $_POST['quantity'];\n    add_item_to_cart($item_id, $quantity);\n}\n\n// Remove item from cart\nif (isset($_POST['remove_from_cart'])) {\n    $item_id = $_POST['item_id'];\n    remove_item_from_cart($item_id);\n}\n\n// Update quantity of item in cart\nif (isset($_POST['update_quantity'])) {\n    $item_id = $_POST['item_id'];\n    $new_quantity = $_POST['quantity'];\n    update_quantity_in_cart($item_id, $new_quantity);\n}\n\n?>\n```\n\n**cart_functions.php**\n```php\n<?php\nfunction display_cart() {\n    global $cart;\n    echo \"<h2>Shopping Cart</h2>\";\n    echo \"<table border='1'>\";\n    echo \"<tr><th>Item ID</th><th>Quantity</th></tr>\";\n    foreach ($cart as $item_id => $quantity) {\n        echo \"<tr><td>$item_id</td><td>$quantity</td></tr>\";\n    }\n    echo \"</table>\";\n}\n\nfunction calculate_subtotal() {\n    global $cart;\n    $subtotal = 0;\n    foreach ($cart as $item_id => $quantity) {\n        $price = get_item_price($item_id);\n        $subtotal += $price * $quantity;\n    }\n    return $subtotal;\n}\n\nfunction calculate_tax() {\n    global $cart;\n    $tax_rate = 0.08; // 8% tax rate\n    $subtotal = calculate_subtotal();\n    $tax_amount = $subtotal * $tax_rate;\n    return $tax_amount;\n}\n\nfunction calculate_total() {\n    global $cart;\n    $subtotal = calculate_subtotal();\n    $tax_amount = calculate_tax();\n    $total = $subtotal + $tax_amount;\n    return $total;\n}\n?>\n```\n\n**index.php**\n```php\n<?php\nrequire_once 'cart.php';\nrequire_once 'cart_functions.php';\n\n// Display cart\ndisplay_cart();\n\n// Calculate subtotal, tax and total\necho \"<p>Subtotal: $\" . calculate_subtotal() . \"</p>\";\necho \"<p>Tax (8%): $\" . calculate_tax() . \"</p>\";\necho \"<p>Total: $\" . calculate_total() . \"</p>\";\n\n// Add item to cart form\n?>\n<form action=\"\" method=\"post\">\n    <input type=\"hidden\" name=\"add_to_cart\" value=\"1\">\n    Item ID: <input type=\"text\" name=\"item_id\"><br>\n    Quantity: <input type=\"text\" name=\"quantity\"><br>\n    <input type=\"submit\" value=\"Add to Cart\">\n</form>\n\n// Remove item from cart form\n?>\n<form action=\"\" method=\"post\">\n    <input type=\"hidden\" name=\"remove_from_cart\" value=\"1\">\n    Item ID: <input type=\"text\" name=\"item_id\"><br>\n    <input type=\"submit\" value=\"Remove from Cart\">\n</form>\n\n// Update quantity of item in cart form\n?>\n<form action=\"\" method=\"post\">\n    <input type=\"hidden\" name=\"update_quantity\" value=\"1\">\n    Item ID: <input type=\"text\" name=\"item_id\"><br>\n    New Quantity: <input type=\"text\" name=\"quantity\"><br>\n    <input type=\"submit\" value=\"Update Quantity\">\n</form>\n\n?>\n```\n\nThis code creates a simple user cart session using PHP. The `cart.php` file contains the logic for adding, removing and updating items in the cart, as well as calculating the subtotal, tax and total. The `cart_functions.php` file contains functions that can be used to display the cart, calculate the subtotal, tax and total.\n\nThe `index.php` file includes both the `cart.php` and `cart_functions.php` files and uses them to display a basic shopping cart interface with forms for adding items to the cart, removing items from the cart, and updating the quantity of items in the cart.", "code_blocks": ["```php\n<?php\nsession_start();\n\n// Check if cart is already set in session\nif (!isset($_SESSION['cart'])) {\n    $_SESSION['cart'] = array();\n}\n\n// Function to add item to cart\nfunction add_item_to_cart($item_id, $quantity) {\n    global $cart;\n    if (array_key_exists($item_id, $cart)) {\n        $cart[$item_id] += $quantity;\n    } else {\n        $cart[$item_id] = $quantity;\n    }\n}\n\n// Function to remove item from cart\nfunction remove_item_from_cart($item_id) {\n    global $cart;\n    if (array_key_exists($item_id, $cart)) {\n        unset($cart[$item_id]);\n    }\n}\n\n// Function to update quantity of item in cart\nfunction update_quantity_in_cart($item_id, $new_quantity) {\n    global $cart;\n    if (array_key_exists($item_id, $cart)) {\n        $cart[$item_id] = $new_quantity;\n    }\n}\n\n// Add item to cart\nif (isset($_POST['add_to_cart'])) {\n    $item_id = $_POST['item_id'];\n    $quantity = $_POST['quantity'];\n    add_item_to_cart($item_id, $quantity);\n}\n\n// Remove item from cart\nif (isset($_POST['remove_from_cart'])) {\n    $item_id = $_POST['item_id'];\n    remove_item_from_cart($item_id);\n}\n\n// Update quantity of item in cart\nif (isset($_POST['update_quantity'])) {\n    $item_id = $_POST['item_id'];\n    $new_quantity = $_POST['quantity'];\n    update_quantity_in_cart($item_id, $new_quantity);\n}\n\n?>\n```", "```php\n<?php\nfunction display_cart() {\n    global $cart;\n    echo \"<h2>Shopping Cart</h2>\";\n    echo \"<table border='1'>\";\n    echo \"<tr><th>Item ID</th><th>Quantity</th></tr>\";\n    foreach ($cart as $item_id => $quantity) {\n        echo \"<tr><td>$item_id</td><td>$quantity</td></tr>\";\n    }\n    echo \"</table>\";\n}\n\nfunction calculate_subtotal() {\n    global $cart;\n    $subtotal = 0;\n    foreach ($cart as $item_id => $quantity) {\n        $price = get_item_price($item_id);\n        $subtotal += $price * $quantity;\n    }\n    return $subtotal;\n}\n\nfunction calculate_tax() {\n    global $cart;\n    $tax_rate = 0.08; // 8% tax rate\n    $subtotal = calculate_subtotal();\n    $tax_amount = $subtotal * $tax_rate;\n    return $tax_amount;\n}\n\nfunction calculate_total() {\n    global $cart;\n    $subtotal = calculate_subtotal();\n    $tax_amount = calculate_tax();\n    $total = $subtotal + $tax_amount;\n    return $total;\n}\n?>\n```", "```php\n<?php\nrequire_once 'cart.php';\nrequire_once 'cart_functions.php';\n\n// Display cart\ndisplay_cart();\n\n// Calculate subtotal, tax and total\necho \"<p>Subtotal: $\" . calculate_subtotal() . \"</p>\";\necho \"<p>Tax (8%): $\" . calculate_tax() . \"</p>\";\necho \"<p>Total: $\" . calculate_total() . \"</p>\";\n\n// Add item to cart form\n?>\n<form action=\"\" method=\"post\">\n    <input type=\"hidden\" name=\"add_to_cart\" value=\"1\">\n    Item ID: <input type=\"text\" name=\"item_id\"><br>\n    Quantity: <input type=\"text\" name=\"quantity\"><br>\n    <input type=\"submit\" value=\"Add to Cart\">\n</form>\n\n// Remove item from cart form\n?>\n<form action=\"\" method=\"post\">\n    <input type=\"hidden\" name=\"remove_from_cart\" value=\"1\">\n    Item ID: <input type=\"text\" name=\"item_id\"><br>\n    <input type=\"submit\" value=\"Remove from Cart\">\n</form>\n\n// Update quantity of item in cart form\n?>\n<form action=\"\" method=\"post\">\n    <input type=\"hidden\" name=\"update_quantity\" value=\"1\">\n    Item ID: <input type=\"text\" name=\"item_id\"><br>\n    New Quantity: <input type=\"text\" name=\"quantity\"><br>\n    <input type=\"submit\" value=\"Update Quantity\">\n</form>\n\n?>\n```"]}
