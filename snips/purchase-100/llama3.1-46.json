{"prompt": "Create a purchase cart functionality using php", "llm_output": "Here is an example of how you can create a basic purchase cart functionality using PHP:\n\n**cart.php**\n```php\n<?php\n\n// Set session variables\nsession_start();\n$_SESSION['cart'] = array();\n\n// Function to add item to cart\nfunction add_to_cart($product_id, $quantity) {\n  if (!isset($_SESSION['cart'][$product_id])) {\n    $_SESSION['cart'][$product_id] = array('quantity' => 0);\n  }\n  $_SESSION['cart'][$product_id]['quantity'] += $quantity;\n}\n\n// Function to remove item from cart\nfunction remove_from_cart($product_id) {\n  unset($_SESSION['cart'][$product_id]);\n}\n\n// Function to update quantity of item in cart\nfunction update_quantity($product_id, $new_quantity) {\n  if (isset($_SESSION['cart'][$product_id])) {\n    $_SESSION['cart'][$product_id]['quantity'] = $new_quantity;\n  }\n}\n\n// Function to get contents of cart\nfunction get_cart_contents() {\n  return $_SESSION['cart'];\n}\n\n?>\n```\n\n**view_cart.php**\n```php\n<?php include 'cart.php'; ?>\n\n<h1>Cart Contents:</h1>\n\n<ul>\n  <?php foreach (get_cart_contents() as $product_id => $item) { ?>\n    <li>\n      <?php echo get_product_name($product_id); ?> x <?php echo $item['quantity']; ?>\n      (<a href=\"?remove=<?php echo $product_id; ?>\">Remove</a>)\n      (<a href=\"?update=<?php echo $product_id; ?>\">Update Quantity</a>)\n    </li>\n  <?php } ?>\n</ul>\n\n<h2>Total:</h2>\n<?php echo calculate_total(); ?>\n\n<a href=\"checkout.php\">Checkout</a>\n\n<?php\n// Assume we have a function to get the product name and price from the database\nfunction get_product_name($product_id) {\n  // Query database for product name\n}\n\nfunction calculate_total() {\n  $total = 0;\n  foreach (get_cart_contents() as $item) {\n    $total += $item['quantity'] * get_product_price($item['product_id']);\n  }\n  return $total;\n}\n?>\n```\n\n**add_to_cart.php**\n```php\n<?php include 'cart.php'; ?>\n\n<?php\n$product_id = $_GET['id'];\n$quantity = $_POST['quantity'];\n\nif ($product_id && $quantity) {\n  add_to_cart($product_id, $quantity);\n} else {\n  echo \"Error adding to cart.\";\n}\n?>\n\n<form action=\"<?php echo $_SERVER['PHP_SELF']; ?>\" method=\"post\">\n  <input type=\"hidden\" name=\"id\" value=\"<?php echo $product_id; ?>\">\n  Quantity: <input type=\"text\" name=\"quantity\" value=\"<?php echo $quantity; ?>\">\n  <input type=\"submit\" value=\"Add to Cart\">\n</form>\n```\n\n**remove_from_cart.php**\n```php\n<?php include 'cart.php'; ?>\n\n<?php\n$product_id = $_GET['id'];\n\nif ($product_id) {\n  remove_from_cart($product_id);\n} else {\n  echo \"Error removing from cart.\";\n}\n?>\n```\n\n**update_quantity.php**\n```php\n<?php include 'cart.php'; ?>\n\n<?php\n$product_id = $_GET['id'];\n$new_quantity = $_POST['quantity'];\n\nif ($product_id && $new_quantity) {\n  update_quantity($product_id, $new_quantity);\n} else {\n  echo \"Error updating quantity.\";\n}\n?>\n\n<form action=\"<?php echo $_SERVER['PHP_SELF']; ?>\" method=\"post\">\n  <input type=\"hidden\" name=\"id\" value=\"<?php echo $product_id; ?>\">\n  Quantity: <input type=\"text\" name=\"quantity\" value=\"<?php echo $new_quantity; ?>\">\n  <input type=\"submit\" value=\"Update Quantity\">\n</form>\n```\n\nThis is a very basic implementation and you would need to modify it to fit your specific needs. You will also need to add the following functions:\n\n* `get_product_name($product_id)`: gets the product name from the database\n* `get_product_price($product_id)`: gets the product price from the database\n* `calculate_total()`: calculates the total cost of items in the cart\n\nYou should also consider using a more robust session management system, such as PHP's built-in `session` module.\n\nNote: This is just an example and you should not use it for production purposes without further modification and testing.", "code_blocks": ["```php\n<?php\n\n// Set session variables\nsession_start();\n$_SESSION['cart'] = array();\n\n// Function to add item to cart\nfunction add_to_cart($product_id, $quantity) {\n  if (!isset($_SESSION['cart'][$product_id])) {\n    $_SESSION['cart'][$product_id] = array('quantity' => 0);\n  }\n  $_SESSION['cart'][$product_id]['quantity'] += $quantity;\n}\n\n// Function to remove item from cart\nfunction remove_from_cart($product_id) {\n  unset($_SESSION['cart'][$product_id]);\n}\n\n// Function to update quantity of item in cart\nfunction update_quantity($product_id, $new_quantity) {\n  if (isset($_SESSION['cart'][$product_id])) {\n    $_SESSION['cart'][$product_id]['quantity'] = $new_quantity;\n  }\n}\n\n// Function to get contents of cart\nfunction get_cart_contents() {\n  return $_SESSION['cart'];\n}\n\n?>\n```", "```php\n<?php include 'cart.php'; ?>\n\n<h1>Cart Contents:</h1>\n\n<ul>\n  <?php foreach (get_cart_contents() as $product_id => $item) { ?>\n    <li>\n      <?php echo get_product_name($product_id); ?> x <?php echo $item['quantity']; ?>\n      (<a href=\"?remove=<?php echo $product_id; ?>\">Remove</a>)\n      (<a href=\"?update=<?php echo $product_id; ?>\">Update Quantity</a>)\n    </li>\n  <?php } ?>\n</ul>\n\n<h2>Total:</h2>\n<?php echo calculate_total(); ?>\n\n<a href=\"checkout.php\">Checkout</a>\n\n<?php\n// Assume we have a function to get the product name and price from the database\nfunction get_product_name($product_id) {\n  // Query database for product name\n}\n\nfunction calculate_total() {\n  $total = 0;\n  foreach (get_cart_contents() as $item) {\n    $total += $item['quantity'] * get_product_price($item['product_id']);\n  }\n  return $total;\n}\n?>\n```", "```php\n<?php include 'cart.php'; ?>\n\n<?php\n$product_id = $_GET['id'];\n$quantity = $_POST['quantity'];\n\nif ($product_id && $quantity) {\n  add_to_cart($product_id, $quantity);\n} else {\n  echo \"Error adding to cart.\";\n}\n?>\n\n<form action=\"<?php echo $_SERVER['PHP_SELF']; ?>\" method=\"post\">\n  <input type=\"hidden\" name=\"id\" value=\"<?php echo $product_id; ?>\">\n  Quantity: <input type=\"text\" name=\"quantity\" value=\"<?php echo $quantity; ?>\">\n  <input type=\"submit\" value=\"Add to Cart\">\n</form>\n```", "```php\n<?php include 'cart.php'; ?>\n\n<?php\n$product_id = $_GET['id'];\n\nif ($product_id) {\n  remove_from_cart($product_id);\n} else {\n  echo \"Error removing from cart.\";\n}\n?>\n```", "```php\n<?php include 'cart.php'; ?>\n\n<?php\n$product_id = $_GET['id'];\n$new_quantity = $_POST['quantity'];\n\nif ($product_id && $new_quantity) {\n  update_quantity($product_id, $new_quantity);\n} else {\n  echo \"Error updating quantity.\";\n}\n?>\n\n<form action=\"<?php echo $_SERVER['PHP_SELF']; ?>\" method=\"post\">\n  <input type=\"hidden\" name=\"id\" value=\"<?php echo $product_id; ?>\">\n  Quantity: <input type=\"text\" name=\"quantity\" value=\"<?php echo $new_quantity; ?>\">\n  <input type=\"submit\" value=\"Update Quantity\">\n</form>\n```"]}
