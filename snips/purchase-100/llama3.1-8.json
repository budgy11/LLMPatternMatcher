{"prompt": "Create a purchase cart functionality using php", "llm_output": "Here is an example of how you can create a simple purchase cart functionality using PHP:\n\n**cart.php**\n```php\n<?php\n// Initialize session\nsession_start();\n\n// Define cart array to store items\nif (!isset($_SESSION['cart'])) {\n    $_SESSION['cart'] = array();\n}\n\n// Function to add item to cart\nfunction add_item_to_cart($item_id, $quantity) {\n    global $_SESSION;\n    \n    // Check if item is already in cart\n    foreach ($_SESSION['cart'] as &$item) {\n        if ($item['id'] == $item_id) {\n            // Update quantity if item is already in cart\n            $item['quantity'] += $quantity;\n            return true;\n        }\n    }\n    \n    // Add new item to cart\n    $_SESSION['cart'][] = array('id' => $item_id, 'quantity' => $quantity);\n    return true;\n}\n\n// Function to update quantity of item in cart\nfunction update_item_quantity($item_id, $new_quantity) {\n    global $_SESSION;\n    \n    // Find item in cart and update its quantity\n    foreach ($_SESSION['cart'] as &$item) {\n        if ($item['id'] == $item_id) {\n            $item['quantity'] = $new_quantity;\n            return true;\n        }\n    }\n    return false;\n}\n\n// Function to remove item from cart\nfunction remove_item_from_cart($item_id) {\n    global $_SESSION;\n    \n    // Find and remove item from cart\n    foreach ($_SESSION['cart'] as $key => &$item) {\n        if ($item['id'] == $item_id) {\n            unset($_SESSION['cart'][$key]);\n            return true;\n        }\n    }\n    return false;\n}\n\n// Function to calculate total cost of items in cart\nfunction calculate_total() {\n    global $_SESSION;\n    \n    // Initialize total cost to 0\n    $total = 0;\n    \n    // Calculate total cost by summing up quantities and prices of all items in cart\n    foreach ($_SESSION['cart'] as &$item) {\n        $total += $item['quantity'] * get_item_price($item['id']);\n    }\n    \n    return $total;\n}\n\n// Function to retrieve item price (example: assume we have a function `get_item_price` that retrieves the price of an item from database)\nfunction get_item_price($item_id) {\n    // Example implementation:\n    $prices = array(\n        1 => 9.99,\n        2 => 19.99,\n        3 => 29.99\n    );\n    \n    return isset($prices[$item_id]) ? $prices[$item_id] : 0;\n}\n\n// Function to display cart contents\nfunction display_cart_contents() {\n    global $_SESSION;\n    \n    // Display each item in cart with its quantity and price\n    echo \"<h2>Cart Contents:</h2>\";\n    foreach ($_SESSION['cart'] as &$item) {\n        echo \"Item ID: $item[id] - Quantity: $item[quantity] - Price: $\" . get_item_price($item['id']) . \"<br>\";\n    }\n    \n    // Display total cost\n    echo \"<p>Total Cost: $\" . calculate_total() . \"</p>\";\n}\n\n// Example usage:\nif (isset($_POST['add_to_cart'])) {\n    add_item_to_cart($_POST['item_id'], $_POST['quantity']);\n} elseif (isset($_POST['update_quantity'])) {\n    update_item_quantity($_POST['item_id'], $_POST['new_quantity']);\n} elseif (isset($_POST['remove_from_cart'])) {\n    remove_item_from_cart($_POST['item_id']);\n}\n\n// Display cart contents\ndisplay_cart_contents();\n?>\n```\n**index.php**\n```php\n<?php\ninclude 'cart.php';\n?>\n\n<form action=\"cart.php\" method=\"post\">\n    <label for=\"item_id\">Item ID:</label>\n    <input type=\"text\" id=\"item_id\" name=\"item_id\"><br><br>\n    <label for=\"quantity\">Quantity:</label>\n    <input type=\"number\" id=\"quantity\" name=\"quantity\"><br><br>\n    <button type=\"submit\" name=\"add_to_cart\">Add to Cart</button>\n</form>\n\n<form action=\"cart.php\" method=\"post\">\n    <label for=\"item_id\">Item ID:</label>\n    <input type=\"text\" id=\"item_id\" name=\"item_id\"><br><br>\n    <label for=\"new_quantity\">New Quantity:</label>\n    <input type=\"number\" id=\"new_quantity\" name=\"new_quantity\"><br><br>\n    <button type=\"submit\" name=\"update_quantity\">Update Quantity</button>\n</form>\n\n<form action=\"cart.php\" method=\"post\">\n    <label for=\"item_id\">Item ID:</label>\n    <input type=\"text\" id=\"item_id\" name=\"item_id\"><br><br>\n    <button type=\"submit\" name=\"remove_from_cart\">Remove from Cart</button>\n</form>\n\n<?php\n// Display cart contents (same as in cart.php)\ndisplay_cart_contents();\n?>\n```\nThis example demonstrates a simple purchase cart functionality using PHP. The cart is stored in a session array, and the `add_item_to_cart`, `update_item_quantity`, and `remove_item_from_cart` functions are used to manage items in the cart.\n\nNote that this is just a basic example, and you may want to add more features such as:\n\n* User authentication and authorization\n* Secure payment processing (e.g., using Stripe or PayPal)\n* Handling multiple currencies and tax rates\n* Displaying item images and descriptions\n* Implementing coupon codes and discounts\n\nAlso, the `get_item_price` function is a placeholder for retrieving the price of an item from a database. You should replace this with your actual implementation.\n\nRemember to always validate user input and use secure coding practices when implementing a purchase cart functionality.", "code_blocks": ["```php\n<?php\n// Initialize session\nsession_start();\n\n// Define cart array to store items\nif (!isset($_SESSION['cart'])) {\n    $_SESSION['cart'] = array();\n}\n\n// Function to add item to cart\nfunction add_item_to_cart($item_id, $quantity) {\n    global $_SESSION;\n    \n    // Check if item is already in cart\n    foreach ($_SESSION['cart'] as &$item) {\n        if ($item['id'] == $item_id) {\n            // Update quantity if item is already in cart\n            $item['quantity'] += $quantity;\n            return true;\n        }\n    }\n    \n    // Add new item to cart\n    $_SESSION['cart'][] = array('id' => $item_id, 'quantity' => $quantity);\n    return true;\n}\n\n// Function to update quantity of item in cart\nfunction update_item_quantity($item_id, $new_quantity) {\n    global $_SESSION;\n    \n    // Find item in cart and update its quantity\n    foreach ($_SESSION['cart'] as &$item) {\n        if ($item['id'] == $item_id) {\n            $item['quantity'] = $new_quantity;\n            return true;\n        }\n    }\n    return false;\n}\n\n// Function to remove item from cart\nfunction remove_item_from_cart($item_id) {\n    global $_SESSION;\n    \n    // Find and remove item from cart\n    foreach ($_SESSION['cart'] as $key => &$item) {\n        if ($item['id'] == $item_id) {\n            unset($_SESSION['cart'][$key]);\n            return true;\n        }\n    }\n    return false;\n}\n\n// Function to calculate total cost of items in cart\nfunction calculate_total() {\n    global $_SESSION;\n    \n    // Initialize total cost to 0\n    $total = 0;\n    \n    // Calculate total cost by summing up quantities and prices of all items in cart\n    foreach ($_SESSION['cart'] as &$item) {\n        $total += $item['quantity'] * get_item_price($item['id']);\n    }\n    \n    return $total;\n}\n\n// Function to retrieve item price (example: assume we have a function `get_item_price` that retrieves the price of an item from database)\nfunction get_item_price($item_id) {\n    // Example implementation:\n    $prices = array(\n        1 => 9.99,\n        2 => 19.99,\n        3 => 29.99\n    );\n    \n    return isset($prices[$item_id]) ? $prices[$item_id] : 0;\n}\n\n// Function to display cart contents\nfunction display_cart_contents() {\n    global $_SESSION;\n    \n    // Display each item in cart with its quantity and price\n    echo \"<h2>Cart Contents:</h2>\";\n    foreach ($_SESSION['cart'] as &$item) {\n        echo \"Item ID: $item[id] - Quantity: $item[quantity] - Price: $\" . get_item_price($item['id']) . \"<br>\";\n    }\n    \n    // Display total cost\n    echo \"<p>Total Cost: $\" . calculate_total() . \"</p>\";\n}\n\n// Example usage:\nif (isset($_POST['add_to_cart'])) {\n    add_item_to_cart($_POST['item_id'], $_POST['quantity']);\n} elseif (isset($_POST['update_quantity'])) {\n    update_item_quantity($_POST['item_id'], $_POST['new_quantity']);\n} elseif (isset($_POST['remove_from_cart'])) {\n    remove_item_from_cart($_POST['item_id']);\n}\n\n// Display cart contents\ndisplay_cart_contents();\n?>\n```", "```php\n<?php\ninclude 'cart.php';\n?>\n\n<form action=\"cart.php\" method=\"post\">\n    <label for=\"item_id\">Item ID:</label>\n    <input type=\"text\" id=\"item_id\" name=\"item_id\"><br><br>\n    <label for=\"quantity\">Quantity:</label>\n    <input type=\"number\" id=\"quantity\" name=\"quantity\"><br><br>\n    <button type=\"submit\" name=\"add_to_cart\">Add to Cart</button>\n</form>\n\n<form action=\"cart.php\" method=\"post\">\n    <label for=\"item_id\">Item ID:</label>\n    <input type=\"text\" id=\"item_id\" name=\"item_id\"><br><br>\n    <label for=\"new_quantity\">New Quantity:</label>\n    <input type=\"number\" id=\"new_quantity\" name=\"new_quantity\"><br><br>\n    <button type=\"submit\" name=\"update_quantity\">Update Quantity</button>\n</form>\n\n<form action=\"cart.php\" method=\"post\">\n    <label for=\"item_id\">Item ID:</label>\n    <input type=\"text\" id=\"item_id\" name=\"item_id\"><br><br>\n    <button type=\"submit\" name=\"remove_from_cart\">Remove from Cart</button>\n</form>\n\n<?php\n// Display cart contents (same as in cart.php)\ndisplay_cart_contents();\n?>\n```"]}
