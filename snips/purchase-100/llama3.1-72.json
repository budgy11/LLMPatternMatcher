{"prompt": "Create a purchase cart functionality using php", "llm_output": "**Purchase Cart Functionality in PHP**\n=====================================\n\nIn this example, we will create a simple purchase cart functionality using PHP. We'll store the products in an array and use sessions to persist the cart data across pages.\n\n**cart.php**\n```php\n<?php\n// Initialize the session\nsession_start();\n\n// Array to hold product information\n$products = array(\n    'product1' => array('name' => 'Product 1', 'price' => 9.99),\n    'product2' => array('name' => 'Product 2', 'price' => 19.99),\n    'product3' => array('name' => 'Product 3', 'price' => 29.99)\n);\n\n// Function to add product to cart\nfunction add_product_to_cart($product_id) {\n    // Get the current session data\n    $cart = $_SESSION['cart'] ?? [];\n\n    // Add product to cart if not already there\n    if (!isset($cart[$product_id])) {\n        $cart[$product_id] = 1; // default quantity is 1\n    } else {\n        $cart[$product_id]++;\n    }\n\n    // Update session data with new cart contents\n    $_SESSION['cart'] = $cart;\n\n    // Redirect to cart page for updated view\n    header('Location: cart.php');\n}\n\n// Function to remove product from cart\nfunction remove_product_from_cart($product_id) {\n    // Get the current session data\n    $cart = $_SESSION['cart'] ?? [];\n\n    // Remove product from cart if it exists\n    unset($cart[$product_id]);\n\n    // Update session data with new cart contents\n    $_SESSION['cart'] = $cart;\n\n    // Redirect to cart page for updated view\n    header('Location: cart.php');\n}\n\n// Function to update quantity of product in cart\nfunction update_quantity_in_cart($product_id, $quantity) {\n    // Get the current session data\n    $cart = $_SESSION['cart'] ?? [];\n\n    // Update quantity of product if it exists\n    if (isset($cart[$product_id])) {\n        $cart[$product_id] = max(1, $quantity); // ensure quantity is at least 1\n    }\n\n    // Update session data with new cart contents\n    $_SESSION['cart'] = $cart;\n\n    // Redirect to cart page for updated view\n    header('Location: cart.php');\n}\n\n// Display the cart content\n?>\n<table>\n    <tr>\n        <th>Product</th>\n        <th>Quantity</th>\n        <th>Total</th>\n    </tr>\n<?php\n// Get the current session data\n$cart = $_SESSION['cart'] ?? [];\n\n// Loop through each product in cart and display its details\nforeach ($products as $product_id => $product) {\n    if (isset($cart[$product_id])) {\n        ?>\n        <tr>\n            <td><?php echo $product['name']; ?></td>\n            <td><?php echo $cart[$product_id]; ?></td>\n            <td>$<?php echo number_format($product['price'] * $cart[$product_id], 2); ?></td>\n        </tr>\n        <?php\n    }\n}\n?>\n</table>\n\n<a href=\"#\" onclick=\"add_product_to_cart('product1')\">Add Product 1 to Cart</a> |\n<a href=\"#\" onclick=\"add_product_to_cart('product2')\">Add Product 2 to Cart</a> |\n<a href=\"#\" onclick=\"remove_product_from_cart('product3')\">Remove Product 3 from Cart</a>\n\n<form action=\"\" method=\"post\">\n    <input type=\"hidden\" name=\"product_id\" value=\"product1\">\n    <input type=\"number\" name=\"quantity\" value=\"2\">\n    <button type=\"submit\">Update Quantity of Product 1 in Cart</button>\n</form>\n```\nThis code provides the basic functionality for a purchase cart, including adding and removing products, updating quantities, and displaying the cart contents.\n\n**Notes**\n\n*   In this example, we're using sessions to store the cart data. This allows us to persist the cart across pages.\n*   We've defined three functions: `add_product_to_cart`, `remove_product_from_cart`, and `update_quantity_in_cart` to handle the necessary actions for managing the cart.\n*   The cart contents are displayed in a table, with columns for product name, quantity, and total cost.\n*   There's an example form at the end of the page that demonstrates how to update the quantity of a product in the cart.\n\nTo use this code:\n\n1.  Create a new PHP file named `cart.php`.\n2.  Copy and paste the provided code into it.\n3.  Make sure your web server has sessions enabled (most do by default).\n4.  Open the `cart.php` page in a browser to see the cart in action.\n\nThis is a basic example, but you can extend it with additional features like:\n\n*   Product categorization\n*   Total price calculation and display\n*   Button for clearing entire cart", "code_blocks": ["```php\n<?php\n// Initialize the session\nsession_start();\n\n// Array to hold product information\n$products = array(\n    'product1' => array('name' => 'Product 1', 'price' => 9.99),\n    'product2' => array('name' => 'Product 2', 'price' => 19.99),\n    'product3' => array('name' => 'Product 3', 'price' => 29.99)\n);\n\n// Function to add product to cart\nfunction add_product_to_cart($product_id) {\n    // Get the current session data\n    $cart = $_SESSION['cart'] ?? [];\n\n    // Add product to cart if not already there\n    if (!isset($cart[$product_id])) {\n        $cart[$product_id] = 1; // default quantity is 1\n    } else {\n        $cart[$product_id]++;\n    }\n\n    // Update session data with new cart contents\n    $_SESSION['cart'] = $cart;\n\n    // Redirect to cart page for updated view\n    header('Location: cart.php');\n}\n\n// Function to remove product from cart\nfunction remove_product_from_cart($product_id) {\n    // Get the current session data\n    $cart = $_SESSION['cart'] ?? [];\n\n    // Remove product from cart if it exists\n    unset($cart[$product_id]);\n\n    // Update session data with new cart contents\n    $_SESSION['cart'] = $cart;\n\n    // Redirect to cart page for updated view\n    header('Location: cart.php');\n}\n\n// Function to update quantity of product in cart\nfunction update_quantity_in_cart($product_id, $quantity) {\n    // Get the current session data\n    $cart = $_SESSION['cart'] ?? [];\n\n    // Update quantity of product if it exists\n    if (isset($cart[$product_id])) {\n        $cart[$product_id] = max(1, $quantity); // ensure quantity is at least 1\n    }\n\n    // Update session data with new cart contents\n    $_SESSION['cart'] = $cart;\n\n    // Redirect to cart page for updated view\n    header('Location: cart.php');\n}\n\n// Display the cart content\n?>\n<table>\n    <tr>\n        <th>Product</th>\n        <th>Quantity</th>\n        <th>Total</th>\n    </tr>\n<?php\n// Get the current session data\n$cart = $_SESSION['cart'] ?? [];\n\n// Loop through each product in cart and display its details\nforeach ($products as $product_id => $product) {\n    if (isset($cart[$product_id])) {\n        ?>\n        <tr>\n            <td><?php echo $product['name']; ?></td>\n            <td><?php echo $cart[$product_id]; ?></td>\n            <td>$<?php echo number_format($product['price'] * $cart[$product_id], 2); ?></td>\n        </tr>\n        <?php\n    }\n}\n?>\n</table>\n\n<a href=\"#\" onclick=\"add_product_to_cart('product1')\">Add Product 1 to Cart</a> |\n<a href=\"#\" onclick=\"add_product_to_cart('product2')\">Add Product 2 to Cart</a> |\n<a href=\"#\" onclick=\"remove_product_from_cart('product3')\">Remove Product 3 from Cart</a>\n\n<form action=\"\" method=\"post\">\n    <input type=\"hidden\" name=\"product_id\" value=\"product1\">\n    <input type=\"number\" name=\"quantity\" value=\"2\">\n    <button type=\"submit\">Update Quantity of Product 1 in Cart</button>\n</form>\n```"]}
