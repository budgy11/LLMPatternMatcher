{"prompt": "Create a purchase cart functionality using php", "llm_output": "Here's an example of how you can create a simple purchase cart functionality using PHP:\n\n**cart.php**\n```php\n<?php\n// Initialize session\nsession_start();\n\n// Check if cart is already in session, otherwise initialize it as an empty array\nif (!isset($_SESSION['cart'])) {\n    $_SESSION['cart'] = array();\n}\n\n// Add item to cart\nfunction add_item_to_cart($product_id) {\n    global $_SESSION;\n    $exists = false;\n    foreach ($_SESSION['cart'] as &$item) {\n        if ($item['id'] == $product_id) {\n            $item['quantity']++;\n            $exists = true;\n            break;\n        }\n    }\n    if (!$exists) {\n        $_SESSION['cart'][] = array('id' => $product_id, 'name' => '', 'price' => 0, 'quantity' => 1);\n    }\n}\n\n// Remove item from cart\nfunction remove_item_from_cart($product_id) {\n    global $_SESSION;\n    foreach ($_SESSION['cart'] as $key => &$item) {\n        if ($item['id'] == $product_id) {\n            unset($_SESSION['cart'][$key]);\n            break;\n        }\n    }\n}\n\n// Update quantity of item in cart\nfunction update_item_quantity($product_id, $quantity) {\n    global $_SESSION;\n    foreach ($_SESSION['cart'] as &$item) {\n        if ($item['id'] == $product_id) {\n            $item['quantity'] = $quantity;\n            break;\n        }\n    }\n}\n\n// Display cart contents\nfunction display_cart() {\n    global $_SESSION;\n    echo '<table>';\n    echo '<tr><th>Product</th><th>Price</th><th>Quantity</th><th>Total</th></tr>';\n    foreach ($_SESSION['cart'] as $item) {\n        echo '<tr>';\n        echo '<td>' . $item['name'] . '</td>';\n        echo '<td>$' . number_format($item['price'], 2) . '</td>';\n        echo '<td>' . $item['quantity'] . '</td>';\n        echo '<td>$' . number_format($item['quantity'] * $item['price'], 2) . '</td>';\n        echo '</tr>';\n    }\n    echo '</table>';\n}\n\n// Calculate total cart value\nfunction calculate_cart_total() {\n    global $_SESSION;\n    $total = 0;\n    foreach ($_SESSION['cart'] as $item) {\n        $total += $item['quantity'] * $item['price'];\n    }\n    return number_format($total, 2);\n}\n?>\n```\n**index.php**\n```php\n<?php include 'cart.php'; ?>\n\n<!-- Assume we have a products array with product info -->\n$products = array(\n    array('id' => 1, 'name' => 'Product A', 'price' => 9.99),\n    array('id' => 2, 'name' => 'Product B', 'price' => 19.99),\n    // ...\n);\n\n// Display products\necho '<h1>Products</h1>';\nforeach ($products as $product) {\n    echo '<p><a href=\"#\" onclick=\"add_item_to_cart(' . $product['id'] . ')\">' . $product['name'] . '</a> - $' . number_format($product['price'], 2) . '</p>';\n}\n\n// Display cart\necho '<h1>Cart</h1>';\ndisplay_cart();\n\n// Display total\necho '<p>Total: $' . calculate_cart_total() . '</p>';\n\n?>\n```\nThis code uses PHP to store the cart contents in a session array. The `add_item_to_cart`, `remove_item_from_cart`, and `update_item_quantity` functions update the cart contents accordingly. The `display_cart` function prints out the current cart contents, and the `calculate_cart_total` function calculates the total value of the items in the cart.\n\nNote that this is a very basic implementation and does not handle issues like:\n\n* Handling multiple quantities for each product\n* Displaying product details (e.g., description, image)\n* Implementing checkout functionality\n* Validating user input\n\nYou may want to expand on this code to fit your specific needs.", "code_blocks": ["```php\n<?php\n// Initialize session\nsession_start();\n\n// Check if cart is already in session, otherwise initialize it as an empty array\nif (!isset($_SESSION['cart'])) {\n    $_SESSION['cart'] = array();\n}\n\n// Add item to cart\nfunction add_item_to_cart($product_id) {\n    global $_SESSION;\n    $exists = false;\n    foreach ($_SESSION['cart'] as &$item) {\n        if ($item['id'] == $product_id) {\n            $item['quantity']++;\n            $exists = true;\n            break;\n        }\n    }\n    if (!$exists) {\n        $_SESSION['cart'][] = array('id' => $product_id, 'name' => '', 'price' => 0, 'quantity' => 1);\n    }\n}\n\n// Remove item from cart\nfunction remove_item_from_cart($product_id) {\n    global $_SESSION;\n    foreach ($_SESSION['cart'] as $key => &$item) {\n        if ($item['id'] == $product_id) {\n            unset($_SESSION['cart'][$key]);\n            break;\n        }\n    }\n}\n\n// Update quantity of item in cart\nfunction update_item_quantity($product_id, $quantity) {\n    global $_SESSION;\n    foreach ($_SESSION['cart'] as &$item) {\n        if ($item['id'] == $product_id) {\n            $item['quantity'] = $quantity;\n            break;\n        }\n    }\n}\n\n// Display cart contents\nfunction display_cart() {\n    global $_SESSION;\n    echo '<table>';\n    echo '<tr><th>Product</th><th>Price</th><th>Quantity</th><th>Total</th></tr>';\n    foreach ($_SESSION['cart'] as $item) {\n        echo '<tr>';\n        echo '<td>' . $item['name'] . '</td>';\n        echo '<td>$' . number_format($item['price'], 2) . '</td>';\n        echo '<td>' . $item['quantity'] . '</td>';\n        echo '<td>$' . number_format($item['quantity'] * $item['price'], 2) . '</td>';\n        echo '</tr>';\n    }\n    echo '</table>';\n}\n\n// Calculate total cart value\nfunction calculate_cart_total() {\n    global $_SESSION;\n    $total = 0;\n    foreach ($_SESSION['cart'] as $item) {\n        $total += $item['quantity'] * $item['price'];\n    }\n    return number_format($total, 2);\n}\n?>\n```", "```php\n<?php include 'cart.php'; ?>\n\n<!-- Assume we have a products array with product info -->\n$products = array(\n    array('id' => 1, 'name' => 'Product A', 'price' => 9.99),\n    array('id' => 2, 'name' => 'Product B', 'price' => 19.99),\n    // ...\n);\n\n// Display products\necho '<h1>Products</h1>';\nforeach ($products as $product) {\n    echo '<p><a href=\"#\" onclick=\"add_item_to_cart(' . $product['id'] . ')\">' . $product['name'] . '</a> - $' . number_format($product['price'], 2) . '</p>';\n}\n\n// Display cart\necho '<h1>Cart</h1>';\ndisplay_cart();\n\n// Display total\necho '<p>Total: $' . calculate_cart_total() . '</p>';\n\n?>\n```"]}
