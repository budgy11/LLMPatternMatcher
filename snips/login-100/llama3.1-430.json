{"prompt": "Create a user login function using php", "llm_output": "**User Login Function in PHP**\n====================================\n\nThis example demonstrates a basic user login function using PHP. It includes:\n\n1. User registration form\n2. User login form\n3. Login validation and authentication\n\n**Database Schema**\n-------------------\n\nFor this example, we'll assume you have the following database schema:\n\n```sql\nCREATE TABLE users (\n    id INT PRIMARY KEY AUTO_INCREMENT,\n    username VARCHAR(50) NOT NULL,\n    password VARCHAR(255) NOT NULL\n);\n```\n\n**User Registration Form**\n-------------------------\n\nCreate a file called `register.php` with the following code:\n```php\n<?php\n\n// Include database connection settings\nrequire_once 'config.php';\n\n// Create user registration form\nif (isset($_POST['username']) && isset($_POST['password'])) {\n    $username = $_POST['username'];\n    $password = password_hash($_POST['password'], PASSWORD_DEFAULT);\n\n    // Insert new user into database\n    $sql = \"INSERT INTO users (username, password) VALUES (?, ?)\";\n    $stmt = $pdo->prepare($sql);\n    $stmt->execute([$username, $password]);\n\n    echo 'User created successfully!';\n} else {\n    ?>\n    <form action=\"\" method=\"POST\">\n        <label>Username:</label>\n        <input type=\"text\" name=\"username\"><br><br>\n        <label>Password:</label>\n        <input type=\"password\" name=\"password\"><br><br>\n        <input type=\"submit\" value=\"Register\">\n    </form>\n    <?php\n}\n?>\n```\n\n**User Login Form**\n------------------\n\nCreate a file called `login.php` with the following code:\n```php\n<?php\n\n// Include database connection settings\nrequire_once 'config.php';\n\n// Create user login form\nif (isset($_POST['username']) && isset($_POST['password'])) {\n    $username = $_POST['username'];\n    $password = $_POST['password'];\n\n    // Retrieve user from database\n    $sql = \"SELECT * FROM users WHERE username = ?\";\n    $stmt = $pdo->prepare($sql);\n    $stmt->execute([$username]);\n    $user = $stmt->fetch();\n\n    if ($user && password_verify($password, $user['password'])) {\n        echo 'Login successful!';\n        // Set session variables\n        $_SESSION['username'] = $username;\n        $_SESSION['id'] = $user['id'];\n    } else {\n        echo 'Invalid username or password!';\n    }\n} else {\n    ?>\n    <form action=\"\" method=\"POST\">\n        <label>Username:</label>\n        <input type=\"text\" name=\"username\"><br><br>\n        <label>Password:</label>\n        <input type=\"password\" name=\"password\"><br><br>\n        <input type=\"submit\" value=\"Login\">\n    </form>\n    <?php\n}\n?>\n```\n\n**Config File**\n-----------------\n\nCreate a file called `config.php` with the following code:\n```php\n<?php\n\n// Database connection settings\n$pdo = new PDO('mysql:host=localhost;dbname=database_name', 'username', 'password');\n$pdo->setAttribute(PDO::ATTR_ERRMODE, PDO::ERRMODE_EXCEPTION);\n\n?>\n```\n\n**Note:**\n\n* Make sure to replace `database_name`, `username`, and `password` with your actual database credentials.\n* This is a basic example and does not include any error handling or security measures. In a production environment, you should use more robust methods for password hashing (e.g., bcrypt) and session management.\n\n**Example Use Cases:**\n\n1. User registration:\n\n    * Go to `register.php` in your browser.\n    * Fill out the form with a new username and password.\n    * Click \"Register\" to create a new user account.\n\n2. User login:\n\n    * Go to `login.php` in your browser.\n    * Fill out the form with an existing username and password.\n    * Click \"Login\" to authenticate and set session variables.", "code_blocks": [null, "```php\n<?php\n\n// Include database connection settings\nrequire_once 'config.php';\n\n// Create user registration form\nif (isset($_POST['username']) && isset($_POST['password'])) {\n    $username = $_POST['username'];\n    $password = password_hash($_POST['password'], PASSWORD_DEFAULT);\n\n    // Insert new user into database\n    $sql = \"INSERT INTO users (username, password) VALUES (?, ?)\";\n    $stmt = $pdo->prepare($sql);\n    $stmt->execute([$username, $password]);\n\n    echo 'User created successfully!';\n} else {\n    ?>\n    <form action=\"\" method=\"POST\">\n        <label>Username:</label>\n        <input type=\"text\" name=\"username\"><br><br>\n        <label>Password:</label>\n        <input type=\"password\" name=\"password\"><br><br>\n        <input type=\"submit\" value=\"Register\">\n    </form>\n    <?php\n}\n?>\n```", "```php\n<?php\n\n// Include database connection settings\nrequire_once 'config.php';\n\n// Create user login form\nif (isset($_POST['username']) && isset($_POST['password'])) {\n    $username = $_POST['username'];\n    $password = $_POST['password'];\n\n    // Retrieve user from database\n    $sql = \"SELECT * FROM users WHERE username = ?\";\n    $stmt = $pdo->prepare($sql);\n    $stmt->execute([$username]);\n    $user = $stmt->fetch();\n\n    if ($user && password_verify($password, $user['password'])) {\n        echo 'Login successful!';\n        // Set session variables\n        $_SESSION['username'] = $username;\n        $_SESSION['id'] = $user['id'];\n    } else {\n        echo 'Invalid username or password!';\n    }\n} else {\n    ?>\n    <form action=\"\" method=\"POST\">\n        <label>Username:</label>\n        <input type=\"text\" name=\"username\"><br><br>\n        <label>Password:</label>\n        <input type=\"password\" name=\"password\"><br><br>\n        <input type=\"submit\" value=\"Login\">\n    </form>\n    <?php\n}\n?>\n```", "```php\n<?php\n\n// Database connection settings\n$pdo = new PDO('mysql:host=localhost;dbname=database_name', 'username', 'password');\n$pdo->setAttribute(PDO::ATTR_ERRMODE, PDO::ERRMODE_EXCEPTION);\n\n?>\n```"]}
