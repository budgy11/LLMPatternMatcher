{"prompt": "Create a user login function using php", "llm_output": "**User Login Function in PHP**\n=====================================\n\nBelow is an example of a simple user login function written in PHP. This example uses a MySQL database to store user credentials, but you can modify it to use any other database management system.\n\n**Database Setup**\n-------------------\n\nBefore creating the login function, make sure your database table is set up with the following structure:\n\n```sql\nCREATE TABLE users (\n  id INT AUTO_INCREMENT,\n  username VARCHAR(255),\n  password VARCHAR(255),\n  email VARCHAR(255),\n  PRIMARY KEY (id)\n);\n```\n\n**Login Function**\n-----------------\n\nCreate a PHP file named `login.php` and add the following code:\n```php\n<?php\n\n// Configuration variables\ndefine('DB_HOST', 'your_host');\ndefine('DB_USER', 'your_username');\ndefine('DB_PASSWORD', 'your_password');\ndefine('DB_NAME', 'your_database');\n\n// Connect to database\n$mysqli = new mysqli(DB_HOST, DB_USER, DB_PASSWORD, DB_NAME);\n\nif ($mysqli->connect_errno) {\n    echo \"Failed to connect to MySQL: (\" . $mysqli->connect_errno . \") \" . $mysqli->connect_error;\n}\n\nfunction login_user($username, $password) {\n    // Prepare query\n    $stmt = $mysqli->prepare(\"SELECT * FROM users WHERE username = ? AND password = ?\");\n    \n    // Bind parameters\n    $stmt->bind_param(\"ss\", $username, $password);\n    \n    // Execute query\n    $stmt->execute();\n    \n    // Get result\n    $result = $stmt->get_result();\n    \n    // Check if user exists and password is correct\n    if ($result && $row = $result->fetch_assoc()) {\n        return true; // Login successful\n    } else {\n        return false; // Login failed\n    }\n}\n\n// Handle login request\nif (isset($_POST['username']) && isset($_POST['password'])) {\n    $username = $_POST['username'];\n    $password = $_POST['password'];\n    \n    if (login_user($username, $password)) {\n        echo \"Login successful!\";\n    } else {\n        echo \"Invalid username or password\";\n    }\n}\n\n?>\n```\n\n**Example Use Case**\n--------------------\n\nCreate an HTML form that submits the login request to `login.php`:\n```html\n<form action=\"login.php\" method=\"post\">\n  <label for=\"username\">Username:</label>\n  <input type=\"text\" id=\"username\" name=\"username\"><br><br>\n  <label for=\"password\">Password:</label>\n  <input type=\"password\" id=\"password\" name=\"password\"><br><br>\n  <input type=\"submit\" value=\"Login\">\n</form>\n```\n\n**Security Notes**\n-----------------\n\n* Always use prepared statements to prevent SQL injection attacks.\n* Use a secure password hashing algorithm like bcrypt or PBKDF2.\n* Never store passwords in plain text; use a salted hash instead.\n* Consider implementing two-factor authentication for additional security.\n\nThis is just a basic example, and you should adjust it according to your specific requirements. Remember to keep your database credentials secure!", "code_blocks": [null, "```php\n<?php\n\n// Configuration variables\ndefine('DB_HOST', 'your_host');\ndefine('DB_USER', 'your_username');\ndefine('DB_PASSWORD', 'your_password');\ndefine('DB_NAME', 'your_database');\n\n// Connect to database\n$mysqli = new mysqli(DB_HOST, DB_USER, DB_PASSWORD, DB_NAME);\n\nif ($mysqli->connect_errno) {\n    echo \"Failed to connect to MySQL: (\" . $mysqli->connect_errno . \") \" . $mysqli->connect_error;\n}\n\nfunction login_user($username, $password) {\n    // Prepare query\n    $stmt = $mysqli->prepare(\"SELECT * FROM users WHERE username = ? AND password = ?\");\n    \n    // Bind parameters\n    $stmt->bind_param(\"ss\", $username, $password);\n    \n    // Execute query\n    $stmt->execute();\n    \n    // Get result\n    $result = $stmt->get_result();\n    \n    // Check if user exists and password is correct\n    if ($result && $row = $result->fetch_assoc()) {\n        return true; // Login successful\n    } else {\n        return false; // Login failed\n    }\n}\n\n// Handle login request\nif (isset($_POST['username']) && isset($_POST['password'])) {\n    $username = $_POST['username'];\n    $password = $_POST['password'];\n    \n    if (login_user($username, $password)) {\n        echo \"Login successful!\";\n    } else {\n        echo \"Invalid username or password\";\n    }\n}\n\n?>\n```", null]}
