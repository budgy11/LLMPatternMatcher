{"prompt": "Create a user login function using php", "llm_output": "Here is an example of a basic user login function in PHP:\n\n**login.php**\n```php\n<?php\n\n// Database connection settings\n$db_host = 'localhost';\n$db_username = 'your_username';\n$db_password = 'your_password';\n$db_name = 'your_database';\n\n// Create database connection\n$conn = new mysqli($db_host, $db_username, $db_password, $db_name);\n\n// Check if the connection was successful\nif ($conn->connect_error) {\n    die(\"Connection failed: \" . $conn->connect_error);\n}\n\n// Define login function\nfunction user_login($username, $password) {\n    // Prepare SQL query to select user from database\n    $sql = \"SELECT * FROM users WHERE username = ? AND password = ?\";\n    \n    // Prepare statement and bind parameters\n    $stmt = $conn->prepare($sql);\n    $stmt->bind_param(\"ss\", $username, $password);\n\n    // Execute the query\n    $stmt->execute();\n\n    // Get result\n    $result = $stmt->get_result();\n\n    // Check if user exists\n    if ($result->num_rows == 1) {\n        // User found, return true\n        return true;\n    } else {\n        // User not found, return false\n        return false;\n    }\n}\n\n// Check if login form was submitted\nif (isset($_POST['username']) && isset($_POST['password'])) {\n    // Call user_login function with form values\n    $login = user_login($_POST['username'], $_POST['password']);\n\n    // Display message based on login result\n    if ($login) {\n        echo \"Login successful!\";\n    } else {\n        echo \"Invalid username or password.\";\n    }\n}\n\n// Close database connection\n$conn->close();\n\n?>\n```\n**Explanation:**\n\nThis code defines a simple user login function that takes a `username` and `password` as input. It uses a MySQL database to store users' credentials.\n\n1. The first section sets up the database connection settings.\n2. The `user_login()` function prepares an SQL query to select the user from the `users` table where the `username` and `password` match the provided values.\n3. If the user exists, the function returns `true`. Otherwise, it returns `false`.\n4. In the login form section, we check if the form was submitted with `$_POST['username']` and `$_POST['password']` keys set. We then call the `user_login()` function with these values.\n5. Based on the result of the login attempt, a success or error message is displayed.\n\n**Example Use Case:**\n\nTo use this code, create an HTML form that submits to the same PHP file:\n```html\n<form action=\"<?php echo $_SERVER['PHP_SELF']; ?>\" method=\"post\">\n    <label for=\"username\">Username:</label>\n    <input type=\"text\" id=\"username\" name=\"username\"><br><br>\n    <label for=\"password\">Password:</label>\n    <input type=\"password\" id=\"password\" name=\"password\"><br><br>\n    <input type=\"submit\" value=\"Login\">\n</form>\n```\nThis form submits to the same PHP file, which will call the `user_login()` function and display a success or error message based on the result.\n\nRemember to replace the database connection settings with your own credentials!", "code_blocks": ["```php\n<?php\n\n// Database connection settings\n$db_host = 'localhost';\n$db_username = 'your_username';\n$db_password = 'your_password';\n$db_name = 'your_database';\n\n// Create database connection\n$conn = new mysqli($db_host, $db_username, $db_password, $db_name);\n\n// Check if the connection was successful\nif ($conn->connect_error) {\n    die(\"Connection failed: \" . $conn->connect_error);\n}\n\n// Define login function\nfunction user_login($username, $password) {\n    // Prepare SQL query to select user from database\n    $sql = \"SELECT * FROM users WHERE username = ? AND password = ?\";\n    \n    // Prepare statement and bind parameters\n    $stmt = $conn->prepare($sql);\n    $stmt->bind_param(\"ss\", $username, $password);\n\n    // Execute the query\n    $stmt->execute();\n\n    // Get result\n    $result = $stmt->get_result();\n\n    // Check if user exists\n    if ($result->num_rows == 1) {\n        // User found, return true\n        return true;\n    } else {\n        // User not found, return false\n        return false;\n    }\n}\n\n// Check if login form was submitted\nif (isset($_POST['username']) && isset($_POST['password'])) {\n    // Call user_login function with form values\n    $login = user_login($_POST['username'], $_POST['password']);\n\n    // Display message based on login result\n    if ($login) {\n        echo \"Login successful!\";\n    } else {\n        echo \"Invalid username or password.\";\n    }\n}\n\n// Close database connection\n$conn->close();\n\n?>\n```", null]}
