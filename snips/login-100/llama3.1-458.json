{"prompt": "Create a user login function using php", "llm_output": "Here's an example of a simple user login function in PHP:\n\n**login.php**\n```php\n<?php\n// Configuration settings\ndefine('DB_HOST', 'localhost');\ndefine('DB_USER', 'username');\ndefine('DB_PASSWORD', 'password');\ndefine('DB_NAME', 'database_name');\n\n// Connect to the database\n$conn = new mysqli(DB_HOST, DB_USER, DB_PASSWORD, DB_NAME);\n\n// Check connection\nif ($conn->connect_error) {\n    die(\"Connection failed: \" . $conn->connect_error);\n}\n\nfunction login($username, $password) {\n    // Prepare SQL query\n    $sql = \"SELECT * FROM users WHERE username = ? AND password = ?\";\n    \n    // Bind parameters\n    $stmt = $conn->prepare($sql);\n    $stmt->bind_param(\"ss\", $username, $password);\n    \n    // Execute query\n    $stmt->execute();\n    \n    // Get result\n    $result = $stmt->get_result();\n    \n    if ($result->num_rows > 0) {\n        // Login successful\n        return true;\n    } else {\n        // Login failed\n        return false;\n    }\n}\n\nfunction register($username, $password, $email) {\n    // Prepare SQL query\n    $sql = \"INSERT INTO users (username, password, email) VALUES (?, ?, ?)\";\n    \n    // Bind parameters\n    $stmt = $conn->prepare($sql);\n    $stmt->bind_param(\"sss\", $username, $password, $email);\n    \n    // Execute query\n    if ($stmt->execute()) {\n        return true;\n    } else {\n        return false;\n    }\n}\n\n// Example usage:\nif (isset($_POST['login'])) {\n    $username = $_POST['username'];\n    $password = $_POST['password'];\n    \n    if (login($username, $password)) {\n        echo \"Login successful!\";\n    } else {\n        echo \"Invalid username or password.\";\n    }\n} elseif (isset($_POST['register'])) {\n    $username = $_POST['username'];\n    $password = $_POST['password'];\n    $email = $_POST['email'];\n    \n    if (register($username, $password, $email)) {\n        echo \"Registration successful!\";\n    } else {\n        echo \"Failed to register.\";\n    }\n}\n?>\n```\n**Note:**\n\n*   This code assumes you have a MySQL database set up with a `users` table containing columns for `username`, `password`, and `email`.\n*   You should never store passwords in plain text, but rather use a password hashing algorithm (e.g., `password_hash()`).\n*   Always validate user input to prevent SQL injection attacks.\n*   This is a basic example; you may want to add additional features like email verification or stronger password requirements.\n\n**HTML Example:**\n```html\n<form action=\"login.php\" method=\"post\">\n    <input type=\"text\" name=\"username\" placeholder=\"Username\">\n    <input type=\"password\" name=\"password\" placeholder=\"Password\">\n    <button type=\"submit\" name=\"login\">Login</button>\n</form>\n\n<form action=\"login.php\" method=\"post\">\n    <input type=\"text\" name=\"username\" placeholder=\"Username\">\n    <input type=\"password\" name=\"password\" placeholder=\"Password\">\n    <input type=\"email\" name=\"email\" placeholder=\"Email\">\n    <button type=\"submit\" name=\"register\">Register</button>\n</form>\n```\nRemember to include proper validation and sanitization in your production code.", "code_blocks": ["```php\n<?php\n// Configuration settings\ndefine('DB_HOST', 'localhost');\ndefine('DB_USER', 'username');\ndefine('DB_PASSWORD', 'password');\ndefine('DB_NAME', 'database_name');\n\n// Connect to the database\n$conn = new mysqli(DB_HOST, DB_USER, DB_PASSWORD, DB_NAME);\n\n// Check connection\nif ($conn->connect_error) {\n    die(\"Connection failed: \" . $conn->connect_error);\n}\n\nfunction login($username, $password) {\n    // Prepare SQL query\n    $sql = \"SELECT * FROM users WHERE username = ? AND password = ?\";\n    \n    // Bind parameters\n    $stmt = $conn->prepare($sql);\n    $stmt->bind_param(\"ss\", $username, $password);\n    \n    // Execute query\n    $stmt->execute();\n    \n    // Get result\n    $result = $stmt->get_result();\n    \n    if ($result->num_rows > 0) {\n        // Login successful\n        return true;\n    } else {\n        // Login failed\n        return false;\n    }\n}\n\nfunction register($username, $password, $email) {\n    // Prepare SQL query\n    $sql = \"INSERT INTO users (username, password, email) VALUES (?, ?, ?)\";\n    \n    // Bind parameters\n    $stmt = $conn->prepare($sql);\n    $stmt->bind_param(\"sss\", $username, $password, $email);\n    \n    // Execute query\n    if ($stmt->execute()) {\n        return true;\n    } else {\n        return false;\n    }\n}\n\n// Example usage:\nif (isset($_POST['login'])) {\n    $username = $_POST['username'];\n    $password = $_POST['password'];\n    \n    if (login($username, $password)) {\n        echo \"Login successful!\";\n    } else {\n        echo \"Invalid username or password.\";\n    }\n} elseif (isset($_POST['register'])) {\n    $username = $_POST['username'];\n    $password = $_POST['password'];\n    $email = $_POST['email'];\n    \n    if (register($username, $password, $email)) {\n        echo \"Registration successful!\";\n    } else {\n        echo \"Failed to register.\";\n    }\n}\n?>\n```", null]}
