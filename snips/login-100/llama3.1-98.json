{"prompt": "Create a user login function using php", "llm_output": "Here is an example of a simple user login function in PHP:\n\n**login.php**\n```php\n<?php\n// Configuration\n$database = 'mysql';\n$username = 'root';\n$password = '';\n$dbname = 'users';\n\n// Connect to database\n$conn = new mysqli($host, $username, $password, $dbname);\n\nif ($conn->connect_error) {\n    die(\"Connection failed: \" . $conn->connect_error);\n}\n\n// Check if form has been submitted\nif (isset($_POST['submit'])) {\n    // Get user input\n    $username = $_POST['username'];\n    $password = $_POST['password'];\n\n    // Hash password for comparison\n    $hashed_password = hash('sha256', $password);\n\n    // Query database to check if username and password match\n    $sql = \"SELECT * FROM users WHERE username='$username' AND password='$hashed_password'\";\n    $result = $conn->query($sql);\n\n    if ($result->num_rows > 0) {\n        // Login successful, redirect user to dashboard\n        $_SESSION['username'] = $username;\n        header('Location: dashboard.php');\n        exit();\n    } else {\n        echo \"Invalid username or password\";\n    }\n} else {\n    // Display login form\n    ?>\n    <form action=\"\" method=\"post\">\n        <label>Username:</label>\n        <input type=\"text\" name=\"username\"><br><br>\n        <label>Password:</label>\n        <input type=\"password\" name=\"password\"><br><br>\n        <input type=\"submit\" name=\"submit\" value=\"Login\">\n    </form>\n    <?php\n}\n\n// Close connection\n$conn->close();\n?>\n```\n**Explanation:**\n\n1. We first connect to the database using `mysqli`.\n2. If the form has been submitted, we get the user input (username and password).\n3. We hash the password for comparison using SHA-256.\n4. We query the database to check if the username and hashed password match. If they do, we redirect the user to the dashboard page.\n5. Otherwise, we display an error message.\n6. Finally, we close the connection.\n\n**Security Notes:**\n\n1. **Never store passwords in plain text**: Always hash passwords before storing them in the database.\n2. **Use prepared statements**: To prevent SQL injection attacks.\n3. **Validate user input**: Before querying the database.\n\n**Example Use Cases:**\n\n* User logs in with correct username and password, is redirected to dashboard.php.\n* User logs in with incorrect username or password, sees \"Invalid username or password\" error message.\n\nRemember to replace `mysql` with your actual MySQL host, `root` with your actual MySQL user, and `users` with your actual database name.", "code_blocks": ["```php\n<?php\n// Configuration\n$database = 'mysql';\n$username = 'root';\n$password = '';\n$dbname = 'users';\n\n// Connect to database\n$conn = new mysqli($host, $username, $password, $dbname);\n\nif ($conn->connect_error) {\n    die(\"Connection failed: \" . $conn->connect_error);\n}\n\n// Check if form has been submitted\nif (isset($_POST['submit'])) {\n    // Get user input\n    $username = $_POST['username'];\n    $password = $_POST['password'];\n\n    // Hash password for comparison\n    $hashed_password = hash('sha256', $password);\n\n    // Query database to check if username and password match\n    $sql = \"SELECT * FROM users WHERE username='$username' AND password='$hashed_password'\";\n    $result = $conn->query($sql);\n\n    if ($result->num_rows > 0) {\n        // Login successful, redirect user to dashboard\n        $_SESSION['username'] = $username;\n        header('Location: dashboard.php');\n        exit();\n    } else {\n        echo \"Invalid username or password\";\n    }\n} else {\n    // Display login form\n    ?>\n    <form action=\"\" method=\"post\">\n        <label>Username:</label>\n        <input type=\"text\" name=\"username\"><br><br>\n        <label>Password:</label>\n        <input type=\"password\" name=\"password\"><br><br>\n        <input type=\"submit\" name=\"submit\" value=\"Login\">\n    </form>\n    <?php\n}\n\n// Close connection\n$conn->close();\n?>\n```"]}
