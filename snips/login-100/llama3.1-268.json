{"prompt": "Create a user login function using php", "llm_output": "Here's an example of a simple user login system in PHP. This example uses a database to store usernames and passwords.\n\n**Database Structure**\n\nFirst, create a database with the following structure:\n\n```sql\nCREATE TABLE users (\n  id INT AUTO_INCREMENT PRIMARY KEY,\n  username VARCHAR(255) NOT NULL,\n  password VARCHAR(255) NOT NULL\n);\n```\n\n**PHP Code**\n\nCreate a new file called `login.php` and add the following code:\n\n```php\n<?php\n\n// Check if the form has been submitted\nif (isset($_POST['username']) && isset($_POST['password'])) {\n\n  // Include database connection script\n  require_once 'db_connection.php';\n\n  // Retrieve input values\n  $username = mysqli_real_escape_string($conn, $_POST['username']);\n  $password = md5(mysqli_real_escape_string($conn, $_POST['password']));\n\n  // SQL query to select the user from the database\n  $sql = \"SELECT * FROM users WHERE username='$username' AND password='$password'\";\n  $result = mysqli_query($conn, $sql);\n\n  if (mysqli_num_rows($result) > 0) {\n\n    // User is found, store their data in a session variable\n    while ($row = mysqli_fetch_assoc($result)) {\n      $_SESSION['logged_in'] = true;\n      $_SESSION['username'] = $row['username'];\n      header('Location: index.php');\n      exit;\n\n    }\n\n  } else {\n\n    echo \"Invalid username or password\";\n\n  }\n\n} else {\n\n  echo \"No data submitted\";\n\n}\n\n?>\n```\n\n**Form**\n\nCreate a new file called `index.php` and add the following code:\n\n```php\n<?php\n\n// Include database connection script\nrequire_once 'db_connection.php';\n\n?>\n\n<!DOCTYPE html>\n<html>\n<head>\n\t<title>Login Form</title>\n</head>\n\n<body>\n\n<form action=\"login.php\" method=\"post\">\n  <label for=\"username\">Username:</label><br>\n  <input type=\"text\" id=\"username\" name=\"username\" required><br>\n  <label for=\"password\">Password:</label><br>\n  <input type=\"password\" id=\"password\" name=\"password\" required><br>\n  <button type=\"submit\">Login</button>\n</form>\n\n</body>\n</html>\n```\n\n**Database Connection Script**\n\nCreate a new file called `db_connection.php` and add the following code:\n\n```php\n<?php\n\n// Database connection settings\n$servername = \"localhost\";\n$username = \"root\";\n$password = \"\";\n$dbname = \"database_name\";\n\n// Create a new connection to the database\n$conn = mysqli_connect($servername, $username, $password, $dbname);\n\n?>\n```\n\n**Note:** This is a simple example of user login system in PHP and MySQL. You should consider using more secure methods for storing passwords such as hashing and salting.\n\nMake sure you replace `database_name` with your actual database name in the `db_connection.php` file.", "code_blocks": [null, "```php\n<?php\n\n// Check if the form has been submitted\nif (isset($_POST['username']) && isset($_POST['password'])) {\n\n  // Include database connection script\n  require_once 'db_connection.php';\n\n  // Retrieve input values\n  $username = mysqli_real_escape_string($conn, $_POST['username']);\n  $password = md5(mysqli_real_escape_string($conn, $_POST['password']));\n\n  // SQL query to select the user from the database\n  $sql = \"SELECT * FROM users WHERE username='$username' AND password='$password'\";\n  $result = mysqli_query($conn, $sql);\n\n  if (mysqli_num_rows($result) > 0) {\n\n    // User is found, store their data in a session variable\n    while ($row = mysqli_fetch_assoc($result)) {\n      $_SESSION['logged_in'] = true;\n      $_SESSION['username'] = $row['username'];\n      header('Location: index.php');\n      exit;\n\n    }\n\n  } else {\n\n    echo \"Invalid username or password\";\n\n  }\n\n} else {\n\n  echo \"No data submitted\";\n\n}\n\n?>\n```", "```php\n<?php\n\n// Include database connection script\nrequire_once 'db_connection.php';\n\n?>\n\n<!DOCTYPE html>\n<html>\n<head>\n\t<title>Login Form</title>\n</head>\n\n<body>\n\n<form action=\"login.php\" method=\"post\">\n  <label for=\"username\">Username:</label><br>\n  <input type=\"text\" id=\"username\" name=\"username\" required><br>\n  <label for=\"password\">Password:</label><br>\n  <input type=\"password\" id=\"password\" name=\"password\" required><br>\n  <button type=\"submit\">Login</button>\n</form>\n\n</body>\n</html>\n```", "```php\n<?php\n\n// Database connection settings\n$servername = \"localhost\";\n$username = \"root\";\n$password = \"\";\n$dbname = \"database_name\";\n\n// Create a new connection to the database\n$conn = mysqli_connect($servername, $username, $password, $dbname);\n\n?>\n```"]}
