{"prompt": "Create a user login function using php", "llm_output": "**User Login Function in PHP**\n=====================================\n\nThis is an example of a basic user login function written in PHP. It uses MySQL as the database to store user credentials.\n\n**Function Code:**\n```php\n<?php\n\nfunction loginUser($username, $password) {\n  // Database connection settings\n  $host = 'localhost';\n  $db_name = 'mydatabase';\n  $user = 'myuser';\n  $pass = 'mypass';\n\n  try {\n    // Create database connection\n    $conn = new PDO(\"mysql:host=$host;dbname=$db_name\", $user, $pass);\n    $conn->setAttribute(PDO::ATTR_ERRMODE, PDO::ERRMODE_EXCEPTION);\n\n    // Prepare SQL query to retrieve user data\n    $stmt = $conn->prepare(\"SELECT * FROM users WHERE username = :username\");\n\n    // Bind parameters\n    $stmt->bindParam(':username', $username);\n\n    // Execute the query\n    $stmt->execute();\n\n    // Fetch user data\n    $user_data = $stmt->fetch(PDO::FETCH_ASSOC);\n\n    if ($user_data && password_verify($password, $user_data['password'])) {\n      return true; // Login successful\n    } else {\n      return false; // Invalid credentials\n    }\n\n  } catch (PDOException $e) {\n    echo 'Database error: ' . $e->getMessage();\n    return false;\n  }\n}\n\n?>\n```\n\n**How to Use the Function:**\n```php\n<?php\n\n// Get user input from login form\n$username = $_POST['username'];\n$password = $_POST['password'];\n\n// Call the loginUser function\nif (loginUser($username, $password)) {\n  echo 'Login successful!';\n} else {\n  echo 'Invalid username or password';\n}\n\n?>\n```\n\n**Security Notes:**\n\n*   Always use prepared statements to prevent SQL injection attacks.\n*   Use a secure method for storing passwords, such as hashing and salting. In this example, we're using the built-in `password_verify` function in PHP.\n\nRemember to replace placeholders (`$host`, `$db_name`, etc.) with your actual database credentials. Also, make sure to update your MySQL configuration to use a strong password for the database user.", "code_blocks": ["```php\n<?php\n\nfunction loginUser($username, $password) {\n  // Database connection settings\n  $host = 'localhost';\n  $db_name = 'mydatabase';\n  $user = 'myuser';\n  $pass = 'mypass';\n\n  try {\n    // Create database connection\n    $conn = new PDO(\"mysql:host=$host;dbname=$db_name\", $user, $pass);\n    $conn->setAttribute(PDO::ATTR_ERRMODE, PDO::ERRMODE_EXCEPTION);\n\n    // Prepare SQL query to retrieve user data\n    $stmt = $conn->prepare(\"SELECT * FROM users WHERE username = :username\");\n\n    // Bind parameters\n    $stmt->bindParam(':username', $username);\n\n    // Execute the query\n    $stmt->execute();\n\n    // Fetch user data\n    $user_data = $stmt->fetch(PDO::FETCH_ASSOC);\n\n    if ($user_data && password_verify($password, $user_data['password'])) {\n      return true; // Login successful\n    } else {\n      return false; // Invalid credentials\n    }\n\n  } catch (PDOException $e) {\n    echo 'Database error: ' . $e->getMessage();\n    return false;\n  }\n}\n\n?>\n```", "```php\n<?php\n\n// Get user input from login form\n$username = $_POST['username'];\n$password = $_POST['password'];\n\n// Call the loginUser function\nif (loginUser($username, $password)) {\n  echo 'Login successful!';\n} else {\n  echo 'Invalid username or password';\n}\n\n?>\n```"]}
