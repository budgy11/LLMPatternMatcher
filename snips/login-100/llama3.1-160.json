{"prompt": "Create a user login function using php", "llm_output": "Here's an example of a basic user login system in PHP:\n\n**Note:** This is just a simple example and not intended for production use without further security measures (such as password hashing, secure session management, etc.)\n\n**`login.php` file**\n```php\n<?php\n  // Configuration settings\n  $dbHost = 'your_host';\n  $dbUsername = 'your_username';\n  $dbPassword = 'your_password';\n  $dbName = 'your_database';\n\n  // Create connection to database\n  $conn = new mysqli($dbHost, $dbUsername, $dbPassword, $dbName);\n\n  if ($conn->connect_error) {\n    die(\"Connection failed: \" . $conn->connect_error);\n  }\n\n  // Check if form has been submitted\n  if (isset($_POST['username']) && isset($_POST['password'])) {\n\n    // Prepare SQL query to retrieve user data\n    $stmt = $conn->prepare(\"SELECT * FROM users WHERE username = ?\");\n    $stmt->bind_param('s', $_POST['username']);\n\n    // Execute the query and get result\n    $stmt->execute();\n    $result = $stmt->get_result();\n\n    if ($row = $result->fetch_assoc()) {\n\n      // Check password (in a real application, use password hashing)\n      if ($_POST['password'] == $row['password']) {\n        $_SESSION['username'] = $_POST['username'];\n        header('Location: dashboard.php');\n        exit();\n      } else {\n        echo \"Invalid username or password\";\n      }\n    } else {\n      echo \"Invalid username or password\";\n    }\n\n    // Close statement and connection\n    $stmt->close();\n    $conn->close();\n\n  }\n\n?>\n```\n\n**`index.php` file (login form)**\n```php\n<!DOCTYPE html>\n<html lang=\"en\">\n<head>\n    <meta charset=\"UTF-8\">\n    <meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\">\n    <title>Login</title>\n</head>\n<body>\n\n<form action=\"<?php echo $_SERVER['PHP_SELF']; ?>\" method=\"post\">\n    Username: <input type=\"text\" name=\"username\"><br><br>\n    Password: <input type=\"password\" name=\"password\"><br><br>\n    <button type=\"submit\">Login</button>\n</form>\n\n<?php\n  include_once 'login.php';\n?>\n\n</body>\n</html>\n```\n\n**`dashboard.php` file (example of a protected page)**\n```php\n<!DOCTYPE html>\n<html lang=\"en\">\n<head>\n    <meta charset=\"UTF-8\">\n    <meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\">\n    <title>Dashboard</title>\n</head>\n<body>\n\n<?php\n  if (isset($_SESSION['username'])) {\n    echo \"Welcome, \" . $_SESSION['username'] . \"!\";\n  } else {\n    header('Location: index.php');\n    exit();\n  }\n?>\n\n</body>\n</html>\n```\n\nRemember to replace the placeholders with your actual database credentials and user data. This is just a basic example and should not be used in production without proper security measures (such as password hashing, secure session management, etc.).\n\nAlso note that this example uses a simple `$_SESSION` variable for storing the username. In a real application, you would want to use a more robust authentication system, such as token-based authentication or OAuth.", "code_blocks": ["```php\n<?php\n  // Configuration settings\n  $dbHost = 'your_host';\n  $dbUsername = 'your_username';\n  $dbPassword = 'your_password';\n  $dbName = 'your_database';\n\n  // Create connection to database\n  $conn = new mysqli($dbHost, $dbUsername, $dbPassword, $dbName);\n\n  if ($conn->connect_error) {\n    die(\"Connection failed: \" . $conn->connect_error);\n  }\n\n  // Check if form has been submitted\n  if (isset($_POST['username']) && isset($_POST['password'])) {\n\n    // Prepare SQL query to retrieve user data\n    $stmt = $conn->prepare(\"SELECT * FROM users WHERE username = ?\");\n    $stmt->bind_param('s', $_POST['username']);\n\n    // Execute the query and get result\n    $stmt->execute();\n    $result = $stmt->get_result();\n\n    if ($row = $result->fetch_assoc()) {\n\n      // Check password (in a real application, use password hashing)\n      if ($_POST['password'] == $row['password']) {\n        $_SESSION['username'] = $_POST['username'];\n        header('Location: dashboard.php');\n        exit();\n      } else {\n        echo \"Invalid username or password\";\n      }\n    } else {\n      echo \"Invalid username or password\";\n    }\n\n    // Close statement and connection\n    $stmt->close();\n    $conn->close();\n\n  }\n\n?>\n```", "```php\n<!DOCTYPE html>\n<html lang=\"en\">\n<head>\n    <meta charset=\"UTF-8\">\n    <meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\">\n    <title>Login</title>\n</head>\n<body>\n\n<form action=\"<?php echo $_SERVER['PHP_SELF']; ?>\" method=\"post\">\n    Username: <input type=\"text\" name=\"username\"><br><br>\n    Password: <input type=\"password\" name=\"password\"><br><br>\n    <button type=\"submit\">Login</button>\n</form>\n\n<?php\n  include_once 'login.php';\n?>\n\n</body>\n</html>\n```", "```php\n<!DOCTYPE html>\n<html lang=\"en\">\n<head>\n    <meta charset=\"UTF-8\">\n    <meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\">\n    <title>Dashboard</title>\n</head>\n<body>\n\n<?php\n  if (isset($_SESSION['username'])) {\n    echo \"Welcome, \" . $_SESSION['username'] . \"!\";\n  } else {\n    header('Location: index.php');\n    exit();\n  }\n?>\n\n</body>\n</html>\n```"]}
