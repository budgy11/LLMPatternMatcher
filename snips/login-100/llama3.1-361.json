{"prompt": "Create a user login function using php", "llm_output": "Here's an example of a basic user login system in PHP:\n\n**login.php**\n```php\n<?php\n// Database connection settings\n$db_host = 'localhost';\n$db_username = 'username';\n$db_password = 'password';\n$db_name = 'database';\n\n// Connect to database\n$conn = new mysqli($db_host, $db_username, $db_password, $db_name);\n\n// Check connection\nif ($conn->connect_error) {\n    die(\"Connection failed: \" . $conn->connect_error);\n}\n\n// Define form data variables\n$username = $_POST['username'];\n$password = $_POST['password'];\n\n// Hash password (using PHP's built-in hash function)\n$hashed_password = hash('sha256', $password);\n\n// SQL query to retrieve user data from database\n$sql = \"SELECT * FROM users WHERE username = '$username' AND password = '$hashed_password'\";\n$result = $conn->query($sql);\n\n// Check if user exists and password is correct\nif ($result->num_rows > 0) {\n    // User exists, log them in\n    session_start();\n    $_SESSION['username'] = $username;\n    header('Location: dashboard.php');\n} else {\n    echo 'Invalid username or password';\n}\n\n// Close database connection\n$conn->close();\n\n?>\n```\n**login.html**\n```html\n<form action=\"login.php\" method=\"post\">\n  <label for=\"username\">Username:</label>\n  <input type=\"text\" id=\"username\" name=\"username\"><br><br>\n  <label for=\"password\">Password:</label>\n  <input type=\"password\" id=\"password\" name=\"password\"><br><br>\n  <input type=\"submit\" value=\"Login\">\n</form>\n```\n**dashboard.php**\n```php\n<?php\n// Check if user is logged in\nif (isset($_SESSION['username'])) {\n    // Display dashboard content for logged-in user\n    echo 'Welcome, ' . $_SESSION['username'] . '! You are now logged in.';\n} else {\n    // Redirect to login page if not logged in\n    header('Location: login.html');\n}\n?>\n```\n**Notes**\n\n* This example uses the built-in `mysqli` extension for database interactions. Make sure to replace the `$db_host`, `$db_username`, and other connection settings with your actual database credentials.\n* Passwords are hashed using PHP's `hash` function with the SHA-256 algorithm.\n* The `login.php` script checks if a user exists in the database by running an SQL query with the provided username and password. If the user is found, they are logged in by setting a session variable.\n* The `dashboard.php` page checks if the user is logged in by checking for the presence of a session variable.\n\n**Security Notes**\n\n* This example uses plain text passwords for simplicity, but you should always use hashed and salted passwords in production environments.\n* Make sure to validate user input data (e.g., username, password) to prevent SQL injection attacks.\n* Always close database connections when finished using them.", "code_blocks": ["```php\n<?php\n// Database connection settings\n$db_host = 'localhost';\n$db_username = 'username';\n$db_password = 'password';\n$db_name = 'database';\n\n// Connect to database\n$conn = new mysqli($db_host, $db_username, $db_password, $db_name);\n\n// Check connection\nif ($conn->connect_error) {\n    die(\"Connection failed: \" . $conn->connect_error);\n}\n\n// Define form data variables\n$username = $_POST['username'];\n$password = $_POST['password'];\n\n// Hash password (using PHP's built-in hash function)\n$hashed_password = hash('sha256', $password);\n\n// SQL query to retrieve user data from database\n$sql = \"SELECT * FROM users WHERE username = '$username' AND password = '$hashed_password'\";\n$result = $conn->query($sql);\n\n// Check if user exists and password is correct\nif ($result->num_rows > 0) {\n    // User exists, log them in\n    session_start();\n    $_SESSION['username'] = $username;\n    header('Location: dashboard.php');\n} else {\n    echo 'Invalid username or password';\n}\n\n// Close database connection\n$conn->close();\n\n?>\n```", null, "```php\n<?php\n// Check if user is logged in\nif (isset($_SESSION['username'])) {\n    // Display dashboard content for logged-in user\n    echo 'Welcome, ' . $_SESSION['username'] . '! You are now logged in.';\n} else {\n    // Redirect to login page if not logged in\n    header('Location: login.html');\n}\n?>\n```"]}
