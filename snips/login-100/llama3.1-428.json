{"prompt": "Create a user login function using php", "llm_output": "Here's an example of a simple user login system in PHP:\n\n**Note:** This is just a basic example and you should consider implementing additional security measures, such as password hashing and salting, to protect your users' passwords.\n\n```php\n<?php\n\n// Configuration file (store your database credentials here)\nrequire_once 'config.php';\n\nfunction userLogin($username, $password) {\n    // Connect to the database\n    $conn = new mysqli(DB_HOST, DB_USER, DB_PASSWORD, DB_NAME);\n\n    if ($conn->connect_error) {\n        die(\"Connection failed: \" . $conn->connect_error);\n    }\n\n    // SQL query to select user by username and password\n    $sql = \"SELECT * FROM users WHERE username = '$username' AND password = '$password'\";\n    $result = $conn->query($sql);\n\n    if ($result->num_rows > 0) {\n        // User found, log them in\n        $row = $result->fetch_assoc();\n        $_SESSION['logged_in'] = true;\n        $_SESSION['username'] = $username;\n        $_SESSION['user_id'] = $row['id'];\n        return true; // Return a success code\n    } else {\n        echo \"Invalid username or password\";\n        return false; // Return a failure code\n    }\n\n    // Close the database connection\n    $conn->close();\n}\n\n// Check if user is already logged in\nif (isset($_SESSION['logged_in']) && $_SESSION['logged_in'] === true) {\n    echo \"Welcome, \" . $_SESSION['username'];\n} else {\n    // User login form\n    ?>\n    <form action=\"\" method=\"post\">\n        Username: <input type=\"text\" name=\"username\"><br><br>\n        Password: <input type=\"password\" name=\"password\"><br><br>\n        <button type=\"submit\">Login</button>\n    </form>\n\n    <?php\n\n    // Process login form\n    if (isset($_POST['username']) && isset($_POST['password'])) {\n        $username = $_POST['username'];\n        $password = $_POST['password'];\n\n        userLogin($username, $password);\n    }\n}\n?>\n```\n\nThis script assumes you have the following:\n\n* A `config.php` file with your database credentials (e.g. `$DB_HOST`, `$DB_USER`, etc.)\n* A MySQL database table named `users` with columns for `id`, `username`, and `password`\n* PHP's built-in session support enabled\n\n**Security Note:** In a production environment, you should:\n\n1. Hash passwords using a library like `password_hash()`.\n2. Use prepared statements to prevent SQL injection attacks.\n3. Store sensitive data securely (e.g., use a secret key for encryption).\n\nThis example is simplified and intended as a starting point only.", "code_blocks": ["```php\n<?php\n\n// Configuration file (store your database credentials here)\nrequire_once 'config.php';\n\nfunction userLogin($username, $password) {\n    // Connect to the database\n    $conn = new mysqli(DB_HOST, DB_USER, DB_PASSWORD, DB_NAME);\n\n    if ($conn->connect_error) {\n        die(\"Connection failed: \" . $conn->connect_error);\n    }\n\n    // SQL query to select user by username and password\n    $sql = \"SELECT * FROM users WHERE username = '$username' AND password = '$password'\";\n    $result = $conn->query($sql);\n\n    if ($result->num_rows > 0) {\n        // User found, log them in\n        $row = $result->fetch_assoc();\n        $_SESSION['logged_in'] = true;\n        $_SESSION['username'] = $username;\n        $_SESSION['user_id'] = $row['id'];\n        return true; // Return a success code\n    } else {\n        echo \"Invalid username or password\";\n        return false; // Return a failure code\n    }\n\n    // Close the database connection\n    $conn->close();\n}\n\n// Check if user is already logged in\nif (isset($_SESSION['logged_in']) && $_SESSION['logged_in'] === true) {\n    echo \"Welcome, \" . $_SESSION['username'];\n} else {\n    // User login form\n    ?>\n    <form action=\"\" method=\"post\">\n        Username: <input type=\"text\" name=\"username\"><br><br>\n        Password: <input type=\"password\" name=\"password\"><br><br>\n        <button type=\"submit\">Login</button>\n    </form>\n\n    <?php\n\n    // Process login form\n    if (isset($_POST['username']) && isset($_POST['password'])) {\n        $username = $_POST['username'];\n        $password = $_POST['password'];\n\n        userLogin($username, $password);\n    }\n}\n?>\n```"]}
