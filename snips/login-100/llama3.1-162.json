{"prompt": "Create a user login function using php", "llm_output": "Here is an example of a basic user login function in PHP:\n\n**login.php**\n```php\n<?php\n// Configuration variables\n$database_host = 'localhost';\n$database_name = 'your_database_name';\n$database_username = 'your_database_username';\n$database_password = 'your_database_password';\n\n// Connect to the database\n$conn = new mysqli($database_host, $database_username, $database_password, $database_name);\n\nif ($conn->connect_error) {\n    die(\"Connection failed: \" . $conn->connect_error);\n}\n\n// Function to check username and password\nfunction login_user($username, $password) {\n    // Prepare the SQL query\n    $sql = \"SELECT * FROM users WHERE username = '$username' AND password = '$password'\";\n    \n    // Execute the query\n    $result = $conn->query($sql);\n    \n    if ($result->num_rows > 0) {\n        while($row = $result->fetch_assoc()) {\n            return $row['id'];\n        }\n    } else {\n        return false;\n    }\n}\n\n// Example usage:\nif (isset($_POST['username']) && isset($_POST['password'])) {\n    $username = $_POST['username'];\n    $password = $_POST['password'];\n\n    // Hash the password\n    $hashed_password = hash('sha256', $password);\n\n    // Check if user exists and password is correct\n    $user_id = login_user($username, $hashed_password);\n    \n    if ($user_id !== false) {\n        echo \"Login successful!\";\n        session_start();\n        $_SESSION['user_id'] = $user_id;\n        header(\"Location: index.php\");\n        exit;\n    } else {\n        echo \"Invalid username or password\";\n    }\n} else {\n    // Display login form\n?>\n<form action=\"<?php echo $_SERVER['PHP_SELF']; ?>\" method=\"post\">\n    <label>Username:</label>\n    <input type=\"text\" name=\"username\"><br><br>\n    <label>Password:</label>\n    <input type=\"password\" name=\"password\"><br><br>\n    <input type=\"submit\" value=\"Login\">\n</form>\n<?php\n}\n?>\n```\nThis code connects to a database and checks if the provided username and password match any user in the `users` table. If the user exists, it stores their ID in a session variable.\n\nPlease note that this is a basic example, you should consider using more secure practices such as:\n\n* Using prepared statements to prevent SQL injection\n* Hashing passwords with a library like `password_hash()`\n* Validating user input before executing any queries\n\nAlso, remember to replace the placeholders (`$database_name`, `$database_username`, `$database_password`) with your actual database credentials.\n\nI hope this example helps you! Let me know if you have any questions or need further assistance.", "code_blocks": ["```php\n<?php\n// Configuration variables\n$database_host = 'localhost';\n$database_name = 'your_database_name';\n$database_username = 'your_database_username';\n$database_password = 'your_database_password';\n\n// Connect to the database\n$conn = new mysqli($database_host, $database_username, $database_password, $database_name);\n\nif ($conn->connect_error) {\n    die(\"Connection failed: \" . $conn->connect_error);\n}\n\n// Function to check username and password\nfunction login_user($username, $password) {\n    // Prepare the SQL query\n    $sql = \"SELECT * FROM users WHERE username = '$username' AND password = '$password'\";\n    \n    // Execute the query\n    $result = $conn->query($sql);\n    \n    if ($result->num_rows > 0) {\n        while($row = $result->fetch_assoc()) {\n            return $row['id'];\n        }\n    } else {\n        return false;\n    }\n}\n\n// Example usage:\nif (isset($_POST['username']) && isset($_POST['password'])) {\n    $username = $_POST['username'];\n    $password = $_POST['password'];\n\n    // Hash the password\n    $hashed_password = hash('sha256', $password);\n\n    // Check if user exists and password is correct\n    $user_id = login_user($username, $hashed_password);\n    \n    if ($user_id !== false) {\n        echo \"Login successful!\";\n        session_start();\n        $_SESSION['user_id'] = $user_id;\n        header(\"Location: index.php\");\n        exit;\n    } else {\n        echo \"Invalid username or password\";\n    }\n} else {\n    // Display login form\n?>\n<form action=\"<?php echo $_SERVER['PHP_SELF']; ?>\" method=\"post\">\n    <label>Username:</label>\n    <input type=\"text\" name=\"username\"><br><br>\n    <label>Password:</label>\n    <input type=\"password\" name=\"password\"><br><br>\n    <input type=\"submit\" value=\"Login\">\n</form>\n<?php\n}\n?>\n```"]}
