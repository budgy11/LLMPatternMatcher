{"prompt": "Create a user login function using php", "llm_output": "**User Login Function in PHP**\n=====================================\n\nThe following is an example of a user login function written in PHP. This function will verify the username and password entered by the user against the stored credentials in the database.\n\n**login.php**\n```php\n<?php\n\n// Database Connection Settings\ndefine('DB_HOST', 'localhost');\ndefine('DB_USERNAME', 'your_username');\ndefine('DB_PASSWORD', 'your_password');\ndefine('DB_NAME', 'your_database');\n\n// Function to connect to database\nfunction dbConnect() {\n  $conn = new mysqli(DB_HOST, DB_USERNAME, DB_PASSWORD, DB_NAME);\n  if ($conn->connect_error) {\n    die(\"Connection failed: \" . $conn->connect_error);\n  }\n  return $conn;\n}\n\n// Function to login user\nfunction loginUser($username, $password) {\n  // Connect to database\n  $conn = dbConnect();\n\n  // Prepare SQL query\n  $stmt = $conn->prepare(\"SELECT * FROM users WHERE username = ? AND password = ?\");\n  $stmt->bind_param(\"ss\", $username, $password);\n\n  // Execute SQL query\n  $stmt->execute();\n  $result = $stmt->get_result();\n\n  // Check if user exists and password is correct\n  if ($result && $row = $result->fetch_assoc()) {\n    return true; // User logged in successfully\n  } else {\n    return false; // Invalid username or password\n  }\n\n  // Close database connection\n  $conn->close();\n}\n\n// Example usage:\nif (isset($_POST['username']) && isset($_POST['password'])) {\n  $username = $_POST['username'];\n  $password = $_POST['password'];\n\n  if (loginUser($username, $password)) {\n    echo \"Welcome, $username!\";\n  } else {\n    echo \"Invalid username or password.\";\n  }\n}\n?>\n```\n**Explanation:**\n\n1. The `dbConnect()` function establishes a connection to the database using the `mysqli` extension.\n2. The `loginUser()` function takes two parameters: `$username` and `$password`. It connects to the database, prepares an SQL query to select the user's data based on their username and password, and executes the query.\n3. If the user exists and the password is correct, the function returns `true`.\n4. The example usage demonstrates how to call the `loginUser()` function with user input from a form submission.\n\n**Note:**\n\n* This code assumes that you have already created a database table called `users` with columns for username and password.\n* You should replace `'your_username'`, `'your_password'`, and `'your_database'` with your actual database credentials and name.\n* For security reasons, it's recommended to use prepared statements with parameterized queries instead of concatenating user input into SQL code.", "code_blocks": ["```php\n<?php\n\n// Database Connection Settings\ndefine('DB_HOST', 'localhost');\ndefine('DB_USERNAME', 'your_username');\ndefine('DB_PASSWORD', 'your_password');\ndefine('DB_NAME', 'your_database');\n\n// Function to connect to database\nfunction dbConnect() {\n  $conn = new mysqli(DB_HOST, DB_USERNAME, DB_PASSWORD, DB_NAME);\n  if ($conn->connect_error) {\n    die(\"Connection failed: \" . $conn->connect_error);\n  }\n  return $conn;\n}\n\n// Function to login user\nfunction loginUser($username, $password) {\n  // Connect to database\n  $conn = dbConnect();\n\n  // Prepare SQL query\n  $stmt = $conn->prepare(\"SELECT * FROM users WHERE username = ? AND password = ?\");\n  $stmt->bind_param(\"ss\", $username, $password);\n\n  // Execute SQL query\n  $stmt->execute();\n  $result = $stmt->get_result();\n\n  // Check if user exists and password is correct\n  if ($result && $row = $result->fetch_assoc()) {\n    return true; // User logged in successfully\n  } else {\n    return false; // Invalid username or password\n  }\n\n  // Close database connection\n  $conn->close();\n}\n\n// Example usage:\nif (isset($_POST['username']) && isset($_POST['password'])) {\n  $username = $_POST['username'];\n  $password = $_POST['password'];\n\n  if (loginUser($username, $password)) {\n    echo \"Welcome, $username!\";\n  } else {\n    echo \"Invalid username or password.\";\n  }\n}\n?>\n```"]}
