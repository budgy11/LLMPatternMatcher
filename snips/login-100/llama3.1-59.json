{"prompt": "Create a user login function using php", "llm_output": "**User Login Function in PHP**\n=====================================\n\nHere is an example of a basic user login function in PHP:\n\n**login.php**\n```php\n<?php\n// Configuration\n$database = 'your_database_name';\n$username = 'your_username';\n$password = 'your_password';\n\n// Connect to database\ntry {\n    $pdo = new PDO('mysql:host=localhost;dbname=' . $database, $username, $password);\n} catch (PDOException $e) {\n    echo 'Connection failed: ' . $e->getMessage();\n    exit;\n}\n\nfunction login($email, $password) {\n    // Prepare SQL query\n    $stmt = $pdo->prepare('SELECT * FROM users WHERE email = :email AND password = :password');\n    \n    // Bind parameters\n    $stmt->bindParam(':email', $email);\n    $stmt->bindParam(':password', $password);\n    \n    // Execute query\n    $stmt->execute();\n    \n    // Fetch result\n    $result = $stmt->fetch(PDO::FETCH_ASSOC);\n    \n    if ($result) {\n        // Login successful, return user data\n        return $result;\n    } else {\n        // Login failed, return error message\n        return 'Invalid email or password';\n    }\n}\n\n// Handle form submission\nif (isset($_POST['login'])) {\n    $email = $_POST['email'];\n    $password = $_POST['password'];\n    \n    $user_data = login($email, $password);\n    \n    if ($user_data !== false) {\n        // Login successful, redirect to dashboard\n        header('Location: dashboard.php');\n        exit;\n    } else {\n        // Display error message\n        echo 'Invalid email or password';\n    }\n}\n?>\n```\n**index.php**\n```php\n<?php include 'login.php'; ?>\n<!DOCTYPE html>\n<html>\n<head>\n    <title>Login</title>\n</head>\n<body>\n    <form action=\"\" method=\"post\">\n        <input type=\"email\" name=\"email\" placeholder=\"Email\">\n        <input type=\"password\" name=\"password\" placeholder=\"Password\">\n        <button type=\"submit\" name=\"login\">Login</button>\n    </form>\n</body>\n</html>\n```\n**Explanation**\n\n1. The `login` function takes two parameters: `$email` and `$password`. It prepares a SQL query to select user data from the database where the email matches.\n2. The function binds the `$email` and `$password` parameters to the prepared statement using `bindParam`.\n3. The function executes the query using `execute`.\n4. If the query returns a result, it is fetched into an associative array using `fetch(PDO::FETCH_ASSOC)`. If no result is returned, an error message is displayed.\n5. In the `index.php` file, we include the `login.php` script and display a login form.\n6. When the form is submitted, the user data is passed to the `login` function, which checks if the credentials are valid.\n\n**Note**\n\n* This example assumes you have a database table named `users` with columns for email and password.\n* You should replace `your_database_name`, `your_username`, and `your_password` with your actual database credentials.\n* This is a basic example and does not include any error handling or security measures beyond what is required for a simple login function. In a production environment, you would want to add additional security features such as password hashing and salted passwords.", "code_blocks": ["```php\n<?php\n// Configuration\n$database = 'your_database_name';\n$username = 'your_username';\n$password = 'your_password';\n\n// Connect to database\ntry {\n    $pdo = new PDO('mysql:host=localhost;dbname=' . $database, $username, $password);\n} catch (PDOException $e) {\n    echo 'Connection failed: ' . $e->getMessage();\n    exit;\n}\n\nfunction login($email, $password) {\n    // Prepare SQL query\n    $stmt = $pdo->prepare('SELECT * FROM users WHERE email = :email AND password = :password');\n    \n    // Bind parameters\n    $stmt->bindParam(':email', $email);\n    $stmt->bindParam(':password', $password);\n    \n    // Execute query\n    $stmt->execute();\n    \n    // Fetch result\n    $result = $stmt->fetch(PDO::FETCH_ASSOC);\n    \n    if ($result) {\n        // Login successful, return user data\n        return $result;\n    } else {\n        // Login failed, return error message\n        return 'Invalid email or password';\n    }\n}\n\n// Handle form submission\nif (isset($_POST['login'])) {\n    $email = $_POST['email'];\n    $password = $_POST['password'];\n    \n    $user_data = login($email, $password);\n    \n    if ($user_data !== false) {\n        // Login successful, redirect to dashboard\n        header('Location: dashboard.php');\n        exit;\n    } else {\n        // Display error message\n        echo 'Invalid email or password';\n    }\n}\n?>\n```", "```php\n<?php include 'login.php'; ?>\n<!DOCTYPE html>\n<html>\n<head>\n    <title>Login</title>\n</head>\n<body>\n    <form action=\"\" method=\"post\">\n        <input type=\"email\" name=\"email\" placeholder=\"Email\">\n        <input type=\"password\" name=\"password\" placeholder=\"Password\">\n        <button type=\"submit\" name=\"login\">Login</button>\n    </form>\n</body>\n</html>\n```"]}
