{"prompt": "Create a user registration function using php", "llm_output": "Here's an example of a simple user registration function using PHP. This code creates a form with fields for name, email, password, and confirm password. It then checks if the user data is valid (not empty), verifies that the password and confirm password match, and finally inserts the new user into the database.\n\n```php\n<?php\n\n// Database configuration\n$dbhost = 'localhost';\n$dbname = 'registration_db';\n$dbuser = 'your_username';\n$dbpass = 'your_password';\n\n// Connect to the database\n$conn = mysqli_connect($dbhost, $dbuser, $dbpass, $dbname);\n\nif (!$conn) {\n    die(\"Connection failed: \" . mysqli_connect_error());\n}\n\nfunction createUser($name, $email, $password) {\n    global $conn;\n\n    // SQL query for creating a new user\n    $sql = \"INSERT INTO users (name, email, password)\n            VALUES ('$name', '$email', '$password')\";\n\n    if (mysqli_query($conn, $sql)) {\n        return true;\n    } else {\n        return false;\n    }\n}\n\nfunction validateForm() {\n    global $_POST;\n\n    // Validate user data\n    if (empty($_POST['name']) || empty($_POST['email']) || empty($_POST['password']) || empty($_POST['confirm_password'])) {\n        echo \"Please fill in all the fields.\";\n        return false;\n    }\n\n    if ($_POST['password'] != $_POST['confirm_password']) {\n        echo \"Password and confirm password do not match.\";\n        return false;\n    }\n\n    return true;\n}\n\nfunction registerUser() {\n    global $_POST;\n\n    // Get user data from form\n    $name = trim($_POST['name']);\n    $email = trim($_POST['email']);\n    $password = trim($_POST['password']);\n\n    // Validate the form data\n    if (validateForm()) {\n        // Create a new user\n        createUser($name, $email, md5($password));\n        echo \"User created successfully!\";\n    } else {\n        return false;\n    }\n}\n\n// Check if the form has been submitted\nif (!empty($_POST)) {\n    registerUser();\n} else {\n    ?>\n    <form action=\"\" method=\"post\">\n        Name: <input type=\"text\" name=\"name\"><br><br>\n        Email: <input type=\"email\" name=\"email\"><br><br>\n        Password: <input type=\"password\" name=\"password\"><br><br>\n        Confirm Password: <input type=\"password\" name=\"confirm_password\"><br><br>\n        <input type=\"submit\" value=\"Register\">\n    </form>\n    <?php\n}\n?>\n```\n\nThis example assumes that you have a database with the following structure:\n\n```sql\nCREATE TABLE users (\n  id INT PRIMARY KEY AUTO_INCREMENT,\n  name VARCHAR(255),\n  email VARCHAR(255) UNIQUE,\n  password VARCHAR(255)\n);\n```\n\nPlease note that this is a basic example. In a real-world application, you would want to handle errors and exceptions more robustly, use prepared statements for database queries, and follow best practices for security.\n\nTo create the table in your own database, replace `localhost`, `your_username` and `your_password` with your actual database credentials, then execute the SQL query above. You can do this using a tool like phpMyAdmin or through the command line with MySQL.\n\nPlease note that you should store passwords securely, such as hashing them with SHA256. This example uses MD5 for simplicity, but it's recommended to use more secure methods like bcrypt or Argon2 in production environments.\n\nAlways ensure you have the correct configuration and dependencies set up on your server before running this code.", "code_blocks": ["```php\n<?php\n\n// Database configuration\n$dbhost = 'localhost';\n$dbname = 'registration_db';\n$dbuser = 'your_username';\n$dbpass = 'your_password';\n\n// Connect to the database\n$conn = mysqli_connect($dbhost, $dbuser, $dbpass, $dbname);\n\nif (!$conn) {\n    die(\"Connection failed: \" . mysqli_connect_error());\n}\n\nfunction createUser($name, $email, $password) {\n    global $conn;\n\n    // SQL query for creating a new user\n    $sql = \"INSERT INTO users (name, email, password)\n            VALUES ('$name', '$email', '$password')\";\n\n    if (mysqli_query($conn, $sql)) {\n        return true;\n    } else {\n        return false;\n    }\n}\n\nfunction validateForm() {\n    global $_POST;\n\n    // Validate user data\n    if (empty($_POST['name']) || empty($_POST['email']) || empty($_POST['password']) || empty($_POST['confirm_password'])) {\n        echo \"Please fill in all the fields.\";\n        return false;\n    }\n\n    if ($_POST['password'] != $_POST['confirm_password']) {\n        echo \"Password and confirm password do not match.\";\n        return false;\n    }\n\n    return true;\n}\n\nfunction registerUser() {\n    global $_POST;\n\n    // Get user data from form\n    $name = trim($_POST['name']);\n    $email = trim($_POST['email']);\n    $password = trim($_POST['password']);\n\n    // Validate the form data\n    if (validateForm()) {\n        // Create a new user\n        createUser($name, $email, md5($password));\n        echo \"User created successfully!\";\n    } else {\n        return false;\n    }\n}\n\n// Check if the form has been submitted\nif (!empty($_POST)) {\n    registerUser();\n} else {\n    ?>\n    <form action=\"\" method=\"post\">\n        Name: <input type=\"text\" name=\"name\"><br><br>\n        Email: <input type=\"email\" name=\"email\"><br><br>\n        Password: <input type=\"password\" name=\"password\"><br><br>\n        Confirm Password: <input type=\"password\" name=\"confirm_password\"><br><br>\n        <input type=\"submit\" value=\"Register\">\n    </form>\n    <?php\n}\n?>\n```", null]}
