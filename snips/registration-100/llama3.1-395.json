{"prompt": "Create a user registration function using php", "llm_output": "Here's an example of a simple user registration function in PHP:\n\n```php\n// Function to register a new user\nfunction registerUser($username, $email, $password) {\n    // Connect to the database\n    require_once 'db_config.php';\n    $conn = new PDO(\"mysql:host=$host;dbname=$database\", $username_db, $password_db);\n\n    // Check if email already exists in the database\n    $stmt = $conn->prepare(\"SELECT * FROM users WHERE email=:email\");\n    $stmt->bindParam(':email', $email);\n    $stmt->execute();\n    $count = $stmt->rowCount();\n\n    if ($count > 0) {\n        return \"Email address already exists.\";\n    } else {\n        // If the user has been verified, insert new user into the database\n        $query = \"INSERT INTO users (username, email, password)\n                  VALUES (:username, :email, :password)\";\n        \n        try {\n            $stmt = $conn->prepare($query);\n            $stmt->bindParam(':username', $username);\n            $stmt->bindParam(':email', $email);\n            $stmt->bindParam(':password', hash('sha256', $password));\n            $stmt->execute();\n            \n            return \"Registration successful.\";\n        } catch (PDOException $e) {\n            return \"Error: \" . $e->getMessage();\n        }\n    }\n\n    // Close the database connection\n    $conn = null;\n}\n\n// Example usage:\n$username = 'johnDoe';\n$email = 'johndoe@example.com';\n$password = 'password123';\n\necho registerUser($username, $email, $password);\n```\n\nPlease note that you will need to replace `'db_config.php'`, `$host`, `$database`, `$username_db` and `$password_db` with your actual database credentials.\n\nAlso, this example uses the SHA256 algorithm for password hashing. In a real-world application, consider using more secure methods like `bcrypt` or `argon2`.\n\nThis function returns one of two strings:\n\n- \"Registration successful.\" if the user was successfully inserted into the database\n- The error message if there's an issue with the query", "code_blocks": ["```php\n// Function to register a new user\nfunction registerUser($username, $email, $password) {\n    // Connect to the database\n    require_once 'db_config.php';\n    $conn = new PDO(\"mysql:host=$host;dbname=$database\", $username_db, $password_db);\n\n    // Check if email already exists in the database\n    $stmt = $conn->prepare(\"SELECT * FROM users WHERE email=:email\");\n    $stmt->bindParam(':email', $email);\n    $stmt->execute();\n    $count = $stmt->rowCount();\n\n    if ($count > 0) {\n        return \"Email address already exists.\";\n    } else {\n        // If the user has been verified, insert new user into the database\n        $query = \"INSERT INTO users (username, email, password)\n                  VALUES (:username, :email, :password)\";\n        \n        try {\n            $stmt = $conn->prepare($query);\n            $stmt->bindParam(':username', $username);\n            $stmt->bindParam(':email', $email);\n            $stmt->bindParam(':password', hash('sha256', $password));\n            $stmt->execute();\n            \n            return \"Registration successful.\";\n        } catch (PDOException $e) {\n            return \"Error: \" . $e->getMessage();\n        }\n    }\n\n    // Close the database connection\n    $conn = null;\n}\n\n// Example usage:\n$username = 'johnDoe';\n$email = 'johndoe@example.com';\n$password = 'password123';\n\necho registerUser($username, $email, $password);\n```"]}
