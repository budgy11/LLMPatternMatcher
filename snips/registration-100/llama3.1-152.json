{"prompt": "Create a user registration function using php", "llm_output": "Here's an example of a simple user registration function using PHP:\n\n**`register.php`**\n```php\n<?php\n\n// Configuration settings\n$db_host = 'localhost';\n$db_username = 'username';\n$db_password = 'password';\n$db_name = 'database';\n\n// Connect to database\n$conn = new mysqli($db_host, $db_username, $db_password, $db_name);\n\nif ($conn->connect_error) {\n    die(\"Connection failed: \" . $conn->connect_error);\n}\n\nfunction register_user() {\n    global $conn;\n\n    // Get user input\n    $username = $_POST['username'];\n    $email = $_POST['email'];\n    $password = $_POST['password'];\n\n    // Hash password for security\n    $hashed_password = password_hash($password, PASSWORD_DEFAULT);\n\n    // Check if username or email already exists in database\n    $query = \"SELECT * FROM users WHERE username='$username' OR email='$email'\";\n    $result = $conn->query($query);\n\n    if ($result->num_rows > 0) {\n        echo \"Error: Username or Email already taken.\";\n        return;\n    }\n\n    // Insert new user into database\n    $query = \"INSERT INTO users (username, email, password) VALUES ('$username', '$email', '$hashed_password')\";\n    $conn->query($query);\n\n    echo \"User registered successfully!\";\n}\n\n// Check if POST request is made to register.php\nif ($_SERVER['REQUEST_METHOD'] == 'POST') {\n    register_user();\n} else {\n    // Display registration form\n    ?>\n    <h1>Register</h1>\n    <form action=\"<?php $_SERVER['PHP_SELF']; ?>\" method=\"post\">\n        <label for=\"username\">Username:</label>\n        <input type=\"text\" name=\"username\"><br><br>\n        <label for=\"email\">Email:</label>\n        <input type=\"email\" name=\"email\"><br><br>\n        <label for=\"password\">Password:</label>\n        <input type=\"password\" name=\"password\"><br><br>\n        <input type=\"submit\" value=\"Register\">\n    </form>\n    <?php\n}\n\n?>\n```\n**How it works:**\n\n1. The script connects to a MySQL database using the `mysqli` extension.\n2. If a POST request is made to the page (e.g., when submitting the registration form), the `register_user()` function is called.\n3. The `register_user()` function gets the user input from the form (`$_POST['username']`, etc.) and checks if the username or email already exists in the database using a SQL query.\n4. If the username or email does not exist, the function inserts a new row into the `users` table with the hashed password using another SQL query.\n5. Finally, the script displays the registration form if no POST request is made.\n\n**Note:**\n\n* This example uses a simple password hashing algorithm (PHP's built-in `password_hash()` function) for security purposes. In a real-world application, you may want to use a more secure method like bcrypt or Argon2.\n* Always validate and sanitize user input data before inserting it into your database to prevent SQL injection attacks.\n* Make sure to configure the database settings (e.g., host, username, password, name) according to your specific setup.\n\nExample Use Case:\n\n1. Open `register.php` in a web browser.\n2. Fill out the registration form with a unique username and email address.\n3. Submit the form.\n4. If everything goes smoothly, you should see \"User registered successfully!\" displayed on the page.", "code_blocks": ["```php\n<?php\n\n// Configuration settings\n$db_host = 'localhost';\n$db_username = 'username';\n$db_password = 'password';\n$db_name = 'database';\n\n// Connect to database\n$conn = new mysqli($db_host, $db_username, $db_password, $db_name);\n\nif ($conn->connect_error) {\n    die(\"Connection failed: \" . $conn->connect_error);\n}\n\nfunction register_user() {\n    global $conn;\n\n    // Get user input\n    $username = $_POST['username'];\n    $email = $_POST['email'];\n    $password = $_POST['password'];\n\n    // Hash password for security\n    $hashed_password = password_hash($password, PASSWORD_DEFAULT);\n\n    // Check if username or email already exists in database\n    $query = \"SELECT * FROM users WHERE username='$username' OR email='$email'\";\n    $result = $conn->query($query);\n\n    if ($result->num_rows > 0) {\n        echo \"Error: Username or Email already taken.\";\n        return;\n    }\n\n    // Insert new user into database\n    $query = \"INSERT INTO users (username, email, password) VALUES ('$username', '$email', '$hashed_password')\";\n    $conn->query($query);\n\n    echo \"User registered successfully!\";\n}\n\n// Check if POST request is made to register.php\nif ($_SERVER['REQUEST_METHOD'] == 'POST') {\n    register_user();\n} else {\n    // Display registration form\n    ?>\n    <h1>Register</h1>\n    <form action=\"<?php $_SERVER['PHP_SELF']; ?>\" method=\"post\">\n        <label for=\"username\">Username:</label>\n        <input type=\"text\" name=\"username\"><br><br>\n        <label for=\"email\">Email:</label>\n        <input type=\"email\" name=\"email\"><br><br>\n        <label for=\"password\">Password:</label>\n        <input type=\"password\" name=\"password\"><br><br>\n        <input type=\"submit\" value=\"Register\">\n    </form>\n    <?php\n}\n\n?>\n```"]}
