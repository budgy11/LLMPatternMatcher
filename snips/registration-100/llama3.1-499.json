{"prompt": "Create a user registration function using php", "llm_output": "Here is an example of a user registration function in PHP:\n\n```php\n<?php\n\nfunction registerUser($username, $email, $password) {\n    // Check if the username or email already exists in the database\n    require_once 'db.php'; // include your database connection file\n    $query = \"SELECT * FROM users WHERE username = '$username' OR email = '$email'\";\n    $result = mysqli_query($link, $query);\n    \n    if (mysqli_num_rows($result) > 0) {\n        return array(\"error\" => \"Username or email already exists\");\n    }\n\n    // Hash the password\n    $passwordHash = hash('sha256', $password);\n\n    // Insert new user into database\n    $query = \"INSERT INTO users (username, email, password) VALUES ('$username', '$email', '$passwordHash')\";\n    if (!mysqli_query($link, $query)) {\n        return array(\"error\" => \"Error registering user\");\n    }\n\n    // Return success message\n    return array(\"message\" => \"User registered successfully!\");\n}\n\n// Example usage:\n$username = $_POST['username'];\n$email = $_POST['email'];\n$password = $_POST['password'];\n\n$result = registerUser($username, $email, $password);\n\nif ($result[\"error\"]) {\n    echo json_encode(array(\"error\" => $result[\"error\"]));\n} else {\n    echo json_encode($result);\n}\n\n?>\n```\n\nThis function takes three parameters: `$username`, `$email` and `$password`. It first checks if the username or email already exists in the database, and returns an error message if it does. If not, it hashes the password using SHA-256 and inserts a new user into the database. If there's an error during registration, it returns an error message.\n\nPlease note that this is a basic example and you should never store passwords in plain text. Always hash or encrypt them before storing.\n\nAlso, remember to include your database connection file (`db.php`) which contains the code for connecting to your database.\n\nYou can use this function like this:\n\n```php\n$username = $_POST['username'];\n$email = $_POST['email'];\n$password = $_POST['password'];\n\n$result = registerUser($username, $email, $password);\n\nif ($result[\"error\"]) {\n    echo json_encode(array(\"error\" => $result[\"error\"]));\n} else {\n    echo json_encode($result);\n}\n```\n\nMake sure to handle errors and security issues as per your requirements.", "code_blocks": ["```php\n<?php\n\nfunction registerUser($username, $email, $password) {\n    // Check if the username or email already exists in the database\n    require_once 'db.php'; // include your database connection file\n    $query = \"SELECT * FROM users WHERE username = '$username' OR email = '$email'\";\n    $result = mysqli_query($link, $query);\n    \n    if (mysqli_num_rows($result) > 0) {\n        return array(\"error\" => \"Username or email already exists\");\n    }\n\n    // Hash the password\n    $passwordHash = hash('sha256', $password);\n\n    // Insert new user into database\n    $query = \"INSERT INTO users (username, email, password) VALUES ('$username', '$email', '$passwordHash')\";\n    if (!mysqli_query($link, $query)) {\n        return array(\"error\" => \"Error registering user\");\n    }\n\n    // Return success message\n    return array(\"message\" => \"User registered successfully!\");\n}\n\n// Example usage:\n$username = $_POST['username'];\n$email = $_POST['email'];\n$password = $_POST['password'];\n\n$result = registerUser($username, $email, $password);\n\nif ($result[\"error\"]) {\n    echo json_encode(array(\"error\" => $result[\"error\"]));\n} else {\n    echo json_encode($result);\n}\n\n?>\n```", "```php\n$username = $_POST['username'];\n$email = $_POST['email'];\n$password = $_POST['password'];\n\n$result = registerUser($username, $email, $password);\n\nif ($result[\"error\"]) {\n    echo json_encode(array(\"error\" => $result[\"error\"]));\n} else {\n    echo json_encode($result);\n}\n```"]}
