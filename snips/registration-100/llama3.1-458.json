{"prompt": "Create a user registration function using php", "llm_output": "**User Registration Function in PHP**\n=====================================\n\nBelow is an example of a user registration function in PHP. This function will create a new user in the database, validate input data, and handle potential errors.\n\n**Function Code**\n```php\n<?php\n\n// Configuration settings\ndefine('DB_HOST', 'localhost');\ndefine('DB_USER', 'username');\ndefine('DB_PASSWORD', 'password');\ndefine('DB_NAME', 'database');\n\nfunction registerUser($name, $email, $password) {\n  // Connect to the database\n  $conn = new mysqli(DB_HOST, DB_USER, DB_PASSWORD, DB_NAME);\n\n  if ($conn->connect_error) {\n    // Handle connection error\n    die(\"Connection failed: \" . $conn->connect_error);\n  }\n\n  // Prepare query\n  $sql = \"INSERT INTO users (name, email, password) VALUES (?, ?, ?)\";\n\n  try {\n    // Bind parameters and execute query\n    $stmt = $conn->prepare($sql);\n    $stmt->bind_param(\"sss\", $name, $email, password_hash($password, PASSWORD_DEFAULT));\n    $stmt->execute();\n\n    if ($stmt->affected_rows > 0) {\n      return true; // User created successfully\n    } else {\n      throw new Exception('Failed to create user');\n    }\n  } catch (Exception $e) {\n    echo \"Error creating user: \" . $e->getMessage();\n    return false;\n  }\n\n  finally {\n    // Close database connection\n    $conn->close();\n  }\n}\n```\n\n**Example Usage**\n```php\n// Register a new user\n$result = registerUser('John Doe', 'john.doe@example.com', 'password123');\n\nif ($result) {\n  echo \"User created successfully!\";\n} else {\n  echo \"Failed to create user.\";\n}\n```\n\n**Notes**\n\n*   This function uses prepared statements to prevent SQL injection attacks.\n*   Passwords are hashed using the `password_hash` function for secure storage.\n*   You should replace the database configuration settings with your own credentials and database name.\n*   Always handle potential errors and edge cases when working with user input.", "code_blocks": ["```php\n<?php\n\n// Configuration settings\ndefine('DB_HOST', 'localhost');\ndefine('DB_USER', 'username');\ndefine('DB_PASSWORD', 'password');\ndefine('DB_NAME', 'database');\n\nfunction registerUser($name, $email, $password) {\n  // Connect to the database\n  $conn = new mysqli(DB_HOST, DB_USER, DB_PASSWORD, DB_NAME);\n\n  if ($conn->connect_error) {\n    // Handle connection error\n    die(\"Connection failed: \" . $conn->connect_error);\n  }\n\n  // Prepare query\n  $sql = \"INSERT INTO users (name, email, password) VALUES (?, ?, ?)\";\n\n  try {\n    // Bind parameters and execute query\n    $stmt = $conn->prepare($sql);\n    $stmt->bind_param(\"sss\", $name, $email, password_hash($password, PASSWORD_DEFAULT));\n    $stmt->execute();\n\n    if ($stmt->affected_rows > 0) {\n      return true; // User created successfully\n    } else {\n      throw new Exception('Failed to create user');\n    }\n  } catch (Exception $e) {\n    echo \"Error creating user: \" . $e->getMessage();\n    return false;\n  }\n\n  finally {\n    // Close database connection\n    $conn->close();\n  }\n}\n```", "```php\n// Register a new user\n$result = registerUser('John Doe', 'john.doe@example.com', 'password123');\n\nif ($result) {\n  echo \"User created successfully!\";\n} else {\n  echo \"Failed to create user.\";\n}\n```"]}
