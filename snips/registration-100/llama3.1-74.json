{"prompt": "Create a user registration function using php", "llm_output": "Here's an example of a basic user registration function in PHP:\n\n**`register.php`**\n```php\n<?php\n\n// Database connection settings\n$dbHost = 'localhost';\n$dbUsername = 'your_username';\n$dbPassword = 'your_password';\n$dbName = 'your_database_name';\n\n// Create database connection\n$conn = new mysqli($dbHost, $dbUsername, $dbPassword, $dbName);\n\nif ($conn->connect_error) {\n    die(\"Connection failed: \" . $conn->connect_error);\n}\n\n// Check if user exists\nfunction checkUserExists($username) {\n    global $conn;\n    $query = \"SELECT * FROM users WHERE username = '$username'\";\n    $result = $conn->query($query);\n\n    if ($result->num_rows > 0) {\n        return true;\n    } else {\n        return false;\n    }\n}\n\n// Register new user\nfunction registerUser($username, $email, $password) {\n    global $conn;\n\n    // Check if username already exists\n    if (checkUserExists($username)) {\n        echo \"Username already exists!\";\n        exit();\n    }\n\n    // Hash password\n    $hashedPassword = password_hash($password, PASSWORD_DEFAULT);\n\n    // Insert new user into database\n    $query = \"INSERT INTO users (username, email, password) VALUES ('$username', '$email', '$hashedPassword')\";\n    if ($conn->query($query)) {\n        echo \"User registered successfully!\";\n    } else {\n        echo \"Error registering user: \" . $conn->error;\n    }\n}\n\n// Handle form submission\nif (isset($_POST['register'])) {\n    $username = $_POST['username'];\n    $email = $_POST['email'];\n    $password = $_POST['password'];\n\n    registerUser($username, $email, $password);\n} else {\n    // Display registration form\n    echo '<form action=\"\" method=\"post\">';\n    echo 'Username: <input type=\"text\" name=\"username\"><br><br>';\n    echo 'Email: <input type=\"email\" name=\"email\"><br><br>';\n    echo 'Password: <input type=\"password\" name=\"password\"><br><br>';\n    echo '<button type=\"submit\" name=\"register\">Register</button>';\n    echo '</form>';\n}\n?>\n```\n**Example Use Case**\n\n1. Create a new file called `register.php` and copy the above code into it.\n2. Fill in your database connection settings at the top of the file.\n3. Open the file in a web browser to display the registration form.\n4. Enter a username, email address, and password into the form fields.\n5. Click the \"Register\" button to submit the form.\n6. If the user is successfully registered, you should see a success message displayed on the page.\n\nNote: This example uses `mysqli` for database connections, but you can modify it to use PDO or another library if needed. Additionally, this code assumes that you have created a `users` table in your database with columns for `username`, `email`, and `password`.", "code_blocks": ["```php\n<?php\n\n// Database connection settings\n$dbHost = 'localhost';\n$dbUsername = 'your_username';\n$dbPassword = 'your_password';\n$dbName = 'your_database_name';\n\n// Create database connection\n$conn = new mysqli($dbHost, $dbUsername, $dbPassword, $dbName);\n\nif ($conn->connect_error) {\n    die(\"Connection failed: \" . $conn->connect_error);\n}\n\n// Check if user exists\nfunction checkUserExists($username) {\n    global $conn;\n    $query = \"SELECT * FROM users WHERE username = '$username'\";\n    $result = $conn->query($query);\n\n    if ($result->num_rows > 0) {\n        return true;\n    } else {\n        return false;\n    }\n}\n\n// Register new user\nfunction registerUser($username, $email, $password) {\n    global $conn;\n\n    // Check if username already exists\n    if (checkUserExists($username)) {\n        echo \"Username already exists!\";\n        exit();\n    }\n\n    // Hash password\n    $hashedPassword = password_hash($password, PASSWORD_DEFAULT);\n\n    // Insert new user into database\n    $query = \"INSERT INTO users (username, email, password) VALUES ('$username', '$email', '$hashedPassword')\";\n    if ($conn->query($query)) {\n        echo \"User registered successfully!\";\n    } else {\n        echo \"Error registering user: \" . $conn->error;\n    }\n}\n\n// Handle form submission\nif (isset($_POST['register'])) {\n    $username = $_POST['username'];\n    $email = $_POST['email'];\n    $password = $_POST['password'];\n\n    registerUser($username, $email, $password);\n} else {\n    // Display registration form\n    echo '<form action=\"\" method=\"post\">';\n    echo 'Username: <input type=\"text\" name=\"username\"><br><br>';\n    echo 'Email: <input type=\"email\" name=\"email\"><br><br>';\n    echo 'Password: <input type=\"password\" name=\"password\"><br><br>';\n    echo '<button type=\"submit\" name=\"register\">Register</button>';\n    echo '</form>';\n}\n?>\n```"]}
