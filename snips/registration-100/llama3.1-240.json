{"prompt": "Create a user registration function using php", "llm_output": "Here is an example of a simple user registration function in PHP:\n\n**Note:** This is just a basic example and should not be used for production purposes without additional security measures, such as password hashing, email verification, etc.\n\n```php\n<?php\n\nfunction registerUser($username, $email, $password) {\n    // Check if username or email already exists\n    if (checkExistingUsername($username)) {\n        return array('error' => 'Username already exists');\n    }\n    \n    if (checkExistingEmail($email)) {\n        return array('error' => 'Email already exists');\n    }\n\n    // Hash password\n    $hashedPassword = hash('sha256', $password);\n\n    // Insert user into database\n    insertUserIntoDatabase($username, $email, $hashedPassword);\n    \n    // Return success message\n    return array('success' => 'Registration successful');\n}\n\nfunction checkExistingUsername($username) {\n    // Connect to database (example using MySQL)\n    $conn = mysqli_connect(\"localhost\", \"username\", \"password\", \"database\");\n\n    if (!$conn) {\n        return true; // username already exists\n    }\n\n    $query = \"SELECT * FROM users WHERE username = '$username'\";\n    $result = mysqli_query($conn, $query);\n\n    if (mysqli_num_rows($result) > 0) {\n        return true; // username already exists\n    } else {\n        return false;\n    }\n}\n\nfunction checkExistingEmail($email) {\n    // Connect to database (example using MySQL)\n    $conn = mysqli_connect(\"localhost\", \"username\", \"password\", \"database\");\n\n    if (!$conn) {\n        return true; // email already exists\n    }\n\n    $query = \"SELECT * FROM users WHERE email = '$email'\";\n    $result = mysqli_query($conn, $query);\n\n    if (mysqli_num_rows($result) > 0) {\n        return true; // email already exists\n    } else {\n        return false;\n    }\n}\n\nfunction insertUserIntoDatabase($username, $email, $hashedPassword) {\n    // Connect to database (example using MySQL)\n    $conn = mysqli_connect(\"localhost\", \"username\", \"password\", \"database\");\n\n    if (!$conn) {\n        die('Connection failed: ' . mysqli_error($conn));\n    }\n\n    $query = \"INSERT INTO users (username, email, password) VALUES ('$username', '$email', '$hashedPassword')\";\n    mysqli_query($conn, $query);\n\n    // Close connection\n    mysqli_close($conn);\n}\n\n// Example usage:\n$username = \"johnDoe\";\n$email = \"johndoe@example.com\";\n$password = \"password123\";\n\n$result = registerUser($username, $email, $password);\n\nif (isset($result['error'])) {\n    echo 'Error: ' . $result['error'];\n} else {\n    echo 'Registration successful';\n}\n```\n\nThis example assumes you have a MySQL database set up with the following table structure:\n\n```sql\nCREATE TABLE users (\n  id INT AUTO_INCREMENT,\n  username VARCHAR(255),\n  email VARCHAR(255),\n  password VARCHAR(255),\n  PRIMARY KEY (id)\n);\n```\n\nRemember to replace `\"localhost\"`, `\"username\"`, `\"password\"`, and `\"database\"` with your actual database credentials. This is a simplified example, you should consider using prepared statements and a more secure way of storing passwords.", "code_blocks": ["```php\n<?php\n\nfunction registerUser($username, $email, $password) {\n    // Check if username or email already exists\n    if (checkExistingUsername($username)) {\n        return array('error' => 'Username already exists');\n    }\n    \n    if (checkExistingEmail($email)) {\n        return array('error' => 'Email already exists');\n    }\n\n    // Hash password\n    $hashedPassword = hash('sha256', $password);\n\n    // Insert user into database\n    insertUserIntoDatabase($username, $email, $hashedPassword);\n    \n    // Return success message\n    return array('success' => 'Registration successful');\n}\n\nfunction checkExistingUsername($username) {\n    // Connect to database (example using MySQL)\n    $conn = mysqli_connect(\"localhost\", \"username\", \"password\", \"database\");\n\n    if (!$conn) {\n        return true; // username already exists\n    }\n\n    $query = \"SELECT * FROM users WHERE username = '$username'\";\n    $result = mysqli_query($conn, $query);\n\n    if (mysqli_num_rows($result) > 0) {\n        return true; // username already exists\n    } else {\n        return false;\n    }\n}\n\nfunction checkExistingEmail($email) {\n    // Connect to database (example using MySQL)\n    $conn = mysqli_connect(\"localhost\", \"username\", \"password\", \"database\");\n\n    if (!$conn) {\n        return true; // email already exists\n    }\n\n    $query = \"SELECT * FROM users WHERE email = '$email'\";\n    $result = mysqli_query($conn, $query);\n\n    if (mysqli_num_rows($result) > 0) {\n        return true; // email already exists\n    } else {\n        return false;\n    }\n}\n\nfunction insertUserIntoDatabase($username, $email, $hashedPassword) {\n    // Connect to database (example using MySQL)\n    $conn = mysqli_connect(\"localhost\", \"username\", \"password\", \"database\");\n\n    if (!$conn) {\n        die('Connection failed: ' . mysqli_error($conn));\n    }\n\n    $query = \"INSERT INTO users (username, email, password) VALUES ('$username', '$email', '$hashedPassword')\";\n    mysqli_query($conn, $query);\n\n    // Close connection\n    mysqli_close($conn);\n}\n\n// Example usage:\n$username = \"johnDoe\";\n$email = \"johndoe@example.com\";\n$password = \"password123\";\n\n$result = registerUser($username, $email, $password);\n\nif (isset($result['error'])) {\n    echo 'Error: ' . $result['error'];\n} else {\n    echo 'Registration successful';\n}\n```", null]}
