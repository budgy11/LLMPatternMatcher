{"prompt": "Create a user registration function using php", "llm_output": "Here's an example of a user registration function in PHP:\n\n**registration.php**\n```php\n<?php\n\n// Configuration settings\ndefine('DB_HOST', 'localhost');\ndefine('DB_USER', 'your_username');\ndefine('DB_PASSWORD', 'your_password');\ndefine('DB_NAME', 'your_database');\n\n// Connect to database\n$conn = new mysqli(DB_HOST, DB_USER, DB_PASSWORD, DB_NAME);\n\nif ($conn->connect_error) {\n    die(\"Connection failed: \" . $conn->connect_error);\n}\n\nfunction registerUser($username, $email, $password) {\n    // Validate input\n    if (empty($username) || empty($email) || empty($password)) {\n        return array('error' => 'Please fill in all fields');\n    }\n\n    // Check username and email uniqueness\n    $sql = \"SELECT * FROM users WHERE username = '$username' OR email = '$email'\";\n    $result = $conn->query($sql);\n\n    if ($result->num_rows > 0) {\n        return array('error' => 'Username or email already exists');\n    }\n\n    // Hash password\n    $hashedPassword = password_hash($password, PASSWORD_DEFAULT);\n\n    // Insert new user into database\n    $sql = \"INSERT INTO users (username, email, password) VALUES ('$username', '$email', '$hashedPassword')\";\n    if ($conn->query($sql)) {\n        return array('success' => 'User registered successfully');\n    } else {\n        return array('error' => 'Failed to register user');\n    }\n}\n\n// Example usage:\n$username = $_POST['username'];\n$email = $_POST['email'];\n$password = $_POST['password'];\n\n$result = registerUser($username, $email, $password);\n\nif ($result['success']) {\n    echo \"User registered successfully\";\n} elseif ($result['error']) {\n    echo $result['error'];\n}\n\n// Close connection\n$conn->close();\n\n?>\n```\n**Note:**\n\n1. This code assumes you have a `users` table with columns `username`, `email`, and `password`. You'll need to create this table in your database.\n2. The `registerUser()` function takes three arguments: `$username`, `$email`, and `$password`.\n3. The function first checks if any of the input fields are empty, and returns an error message if so.\n4. It then checks if a user with the same username or email already exists in the database, and returns an error message if so.\n5. If all checks pass, it hashes the password using `password_hash()` (PHP 5.5+).\n6. Finally, it inserts a new user into the database using an SQL query.\n\n**Usage:**\n\n1. Save this code as **registration.php** in your project directory.\n2. Create a form with input fields for username, email, and password.\n3. Use the `registerUser()` function to process the form data when submitted.\n4. Handle the result of the registration attempt, e.g., display an error message if registration fails.\n\nRemember to replace the placeholders (`your_username`, `your_password`, etc.) with your actual database credentials.", "code_blocks": ["```php\n<?php\n\n// Configuration settings\ndefine('DB_HOST', 'localhost');\ndefine('DB_USER', 'your_username');\ndefine('DB_PASSWORD', 'your_password');\ndefine('DB_NAME', 'your_database');\n\n// Connect to database\n$conn = new mysqli(DB_HOST, DB_USER, DB_PASSWORD, DB_NAME);\n\nif ($conn->connect_error) {\n    die(\"Connection failed: \" . $conn->connect_error);\n}\n\nfunction registerUser($username, $email, $password) {\n    // Validate input\n    if (empty($username) || empty($email) || empty($password)) {\n        return array('error' => 'Please fill in all fields');\n    }\n\n    // Check username and email uniqueness\n    $sql = \"SELECT * FROM users WHERE username = '$username' OR email = '$email'\";\n    $result = $conn->query($sql);\n\n    if ($result->num_rows > 0) {\n        return array('error' => 'Username or email already exists');\n    }\n\n    // Hash password\n    $hashedPassword = password_hash($password, PASSWORD_DEFAULT);\n\n    // Insert new user into database\n    $sql = \"INSERT INTO users (username, email, password) VALUES ('$username', '$email', '$hashedPassword')\";\n    if ($conn->query($sql)) {\n        return array('success' => 'User registered successfully');\n    } else {\n        return array('error' => 'Failed to register user');\n    }\n}\n\n// Example usage:\n$username = $_POST['username'];\n$email = $_POST['email'];\n$password = $_POST['password'];\n\n$result = registerUser($username, $email, $password);\n\nif ($result['success']) {\n    echo \"User registered successfully\";\n} elseif ($result['error']) {\n    echo $result['error'];\n}\n\n// Close connection\n$conn->close();\n\n?>\n```"]}
