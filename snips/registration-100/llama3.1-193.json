{"prompt": "Create a user registration function using php", "llm_output": "**User Registration Function in PHP**\n=====================================\n\nThis is an example of a simple user registration function using PHP, with input validation and data storage in a MySQL database.\n\n**Function Code**\n-----------------\n\n```php\n<?php\n\n// Configuration variables\ndefine('DB_HOST', 'localhost');\ndefine('DB_USERNAME', 'your_username');\ndefine('DB_PASSWORD', 'your_password');\ndefine('DB_NAME', 'your_database');\n\nfunction registerUser($username, $email, $password) {\n    // Connect to database\n    $conn = new mysqli(DB_HOST, DB_USERNAME, DB_PASSWORD, DB_NAME);\n\n    if ($conn->connect_error) {\n        die(\"Connection failed: \" . $conn->connect_error);\n    }\n\n    // Hash password for security\n    $hashedPassword = password_hash($password, PASSWORD_DEFAULT);\n\n    // Prepare SQL query to insert user data into database\n    $sql = \"INSERT INTO users (username, email, password) VALUES (?, ?, ?)\";\n\n    // Bind parameters and execute query\n    $stmt = $conn->prepare($sql);\n    $stmt->bind_param(\"sss\", $username, $email, $hashedPassword);\n    $result = $stmt->execute();\n\n    if (!$result) {\n        echo \"Error inserting user data: \" . $conn->error;\n        return false;\n    }\n\n    // Close database connection\n    $conn->close();\n\n    return true;\n}\n\n?>\n```\n\n**Example Usage**\n-----------------\n\n```php\n// Assume this is in a separate file, e.g. register.php\n\nrequire_once 'register.php';\n\nif (isset($_POST['username']) && isset($_POST['email']) && isset($_POST['password'])) {\n    $username = $_POST['username'];\n    $email = $_POST['email'];\n    $password = $_POST['password'];\n\n    if (!empty($username) && !empty($email) && !empty($password)) {\n        if (registerUser($username, $email, $password)) {\n            echo \"Registration successful!\";\n        } else {\n            echo \"Error registering user.\";\n        }\n    } else {\n        echo \"Please fill in all fields.\";\n    }\n} else {\n    // Display registration form\n    ?>\n    <form action=\"<?php echo $_SERVER['PHP_SELF']; ?>\" method=\"post\">\n        <label>Username:</label>\n        <input type=\"text\" name=\"username\"><br><br>\n        <label>Email:</label>\n        <input type=\"email\" name=\"email\"><br><br>\n        <label>Password:</label>\n        <input type=\"password\" name=\"password\"><br><br>\n        <input type=\"submit\" value=\"Register\">\n    </form>\n    <?php\n}\n```\n\n**Note:**\n\n* Make sure to replace `your_username`, `your_password`, and `your_database` with your actual database credentials.\n* This example assumes you have a MySQL database set up with a table named `users` containing columns for `username`, `email`, and `password`.\n* Passwords are hashed using the built-in PHP `password_hash()` function, which is recommended for storing passwords securely.", "code_blocks": ["```php\n<?php\n\n// Configuration variables\ndefine('DB_HOST', 'localhost');\ndefine('DB_USERNAME', 'your_username');\ndefine('DB_PASSWORD', 'your_password');\ndefine('DB_NAME', 'your_database');\n\nfunction registerUser($username, $email, $password) {\n    // Connect to database\n    $conn = new mysqli(DB_HOST, DB_USERNAME, DB_PASSWORD, DB_NAME);\n\n    if ($conn->connect_error) {\n        die(\"Connection failed: \" . $conn->connect_error);\n    }\n\n    // Hash password for security\n    $hashedPassword = password_hash($password, PASSWORD_DEFAULT);\n\n    // Prepare SQL query to insert user data into database\n    $sql = \"INSERT INTO users (username, email, password) VALUES (?, ?, ?)\";\n\n    // Bind parameters and execute query\n    $stmt = $conn->prepare($sql);\n    $stmt->bind_param(\"sss\", $username, $email, $hashedPassword);\n    $result = $stmt->execute();\n\n    if (!$result) {\n        echo \"Error inserting user data: \" . $conn->error;\n        return false;\n    }\n\n    // Close database connection\n    $conn->close();\n\n    return true;\n}\n\n?>\n```", "```php\n// Assume this is in a separate file, e.g. register.php\n\nrequire_once 'register.php';\n\nif (isset($_POST['username']) && isset($_POST['email']) && isset($_POST['password'])) {\n    $username = $_POST['username'];\n    $email = $_POST['email'];\n    $password = $_POST['password'];\n\n    if (!empty($username) && !empty($email) && !empty($password)) {\n        if (registerUser($username, $email, $password)) {\n            echo \"Registration successful!\";\n        } else {\n            echo \"Error registering user.\";\n        }\n    } else {\n        echo \"Please fill in all fields.\";\n    }\n} else {\n    // Display registration form\n    ?>\n    <form action=\"<?php echo $_SERVER['PHP_SELF']; ?>\" method=\"post\">\n        <label>Username:</label>\n        <input type=\"text\" name=\"username\"><br><br>\n        <label>Email:</label>\n        <input type=\"email\" name=\"email\"><br><br>\n        <label>Password:</label>\n        <input type=\"password\" name=\"password\"><br><br>\n        <input type=\"submit\" value=\"Register\">\n    </form>\n    <?php\n}\n```"]}
