{"prompt": "Create a user registration function using php", "llm_output": "**User Registration Function in PHP**\n=====================================\n\nBelow is an example of a simple user registration function written in PHP. This example uses prepared statements to prevent SQL injection and stores the hashed password securely.\n\n### Requirements\n\n* PHP 7.x or higher\n* MySQLi extension (for database interaction)\n* A configured MySQL database with `users` table\n\n### Code\n\n```php\n// config.php (store your database credentials here)\ndefine('DB_HOST', 'your_host');\ndefine('DB_USERNAME', 'your_username');\ndefine('DB_PASSWORD', 'your_password');\ndefine('DB_NAME', 'your_database');\n\nfunction registerUser($username, $email, $password) {\n    // Check if the user already exists\n    $query = \"SELECT * FROM users WHERE username = ? OR email = ?\";\n    $stmt = mysqli_prepare($GLOBALS['db'], $query);\n    mysqli_stmt_bind_param($stmt, 'ss', $username, $email);\n    mysqli_stmt_execute($stmt);\n    $result = mysqli_stmt_get_result($stmt);\n    if (mysqli_num_rows($result) > 0) {\n        // User already exists\n        return array('error' => 'User with this username or email already exists.');\n    }\n\n    // Hash the password\n    $hashedPassword = password_hash($password, PASSWORD_DEFAULT);\n\n    // Insert new user into database\n    $query = \"INSERT INTO users (username, email, password) VALUES (?, ?, ?)\";\n    $stmt = mysqli_prepare($GLOBALS['db'], $query);\n    mysqli_stmt_bind_param($stmt, 'sss', $username, $email, $hashedPassword);\n    if (!mysqli_stmt_execute($stmt)) {\n        // Error inserting user\n        return array('error' => 'Failed to register user.');\n    }\n\n    // Return success message\n    return array('success' => 'User successfully registered.');\n}\n\n// Initialize database connection (in main script)\n$db = new mysqli(DB_HOST, DB_USERNAME, DB_PASSWORD, DB_NAME);\n\nif ($db->connect_error) {\n    die(\"Connection failed: \" . $db->connect_error);\n}\n```\n\n### Example Usage\n\n```php\nregisterUser('johnDoe', 'johndoe@example.com', 'password123');\n```\n\nThis will register a new user with the specified username, email, and password. The function checks if a user already exists before inserting a new one into the database.\n\nRemember to replace `your_host`, `your_username`, `your_password`, and `your_database` in `config.php` with your actual MySQL credentials and database name.", "code_blocks": ["```php\n// config.php (store your database credentials here)\ndefine('DB_HOST', 'your_host');\ndefine('DB_USERNAME', 'your_username');\ndefine('DB_PASSWORD', 'your_password');\ndefine('DB_NAME', 'your_database');\n\nfunction registerUser($username, $email, $password) {\n    // Check if the user already exists\n    $query = \"SELECT * FROM users WHERE username = ? OR email = ?\";\n    $stmt = mysqli_prepare($GLOBALS['db'], $query);\n    mysqli_stmt_bind_param($stmt, 'ss', $username, $email);\n    mysqli_stmt_execute($stmt);\n    $result = mysqli_stmt_get_result($stmt);\n    if (mysqli_num_rows($result) > 0) {\n        // User already exists\n        return array('error' => 'User with this username or email already exists.');\n    }\n\n    // Hash the password\n    $hashedPassword = password_hash($password, PASSWORD_DEFAULT);\n\n    // Insert new user into database\n    $query = \"INSERT INTO users (username, email, password) VALUES (?, ?, ?)\";\n    $stmt = mysqli_prepare($GLOBALS['db'], $query);\n    mysqli_stmt_bind_param($stmt, 'sss', $username, $email, $hashedPassword);\n    if (!mysqli_stmt_execute($stmt)) {\n        // Error inserting user\n        return array('error' => 'Failed to register user.');\n    }\n\n    // Return success message\n    return array('success' => 'User successfully registered.');\n}\n\n// Initialize database connection (in main script)\n$db = new mysqli(DB_HOST, DB_USERNAME, DB_PASSWORD, DB_NAME);\n\nif ($db->connect_error) {\n    die(\"Connection failed: \" . $db->connect_error);\n}\n```", "```php\nregisterUser('johnDoe', 'johndoe@example.com', 'password123');\n```"]}
