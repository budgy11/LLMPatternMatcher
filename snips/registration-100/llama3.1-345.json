{"prompt": "Create a user registration function using php", "llm_output": "Here's an example of a simple user registration function in PHP:\n\n**`register.php`**\n```php\n<?php\n\n// Configuration variables\n$server = 'localhost';\n$username = 'your_username';\n$password = 'your_password';\n$db_name = 'your_database';\n\n// Connect to database\n$conn = new mysqli($server, $username, $password, $db_name);\n\nif ($conn->connect_error) {\n    die(\"Connection failed: \" . $conn->connect_error);\n}\n\n// Function to register a user\nfunction registerUser($name, $email, $password)\n{\n    // Hash the password\n    $hashed_password = password_hash($password, PASSWORD_DEFAULT);\n\n    // SQL query to insert new user into database\n    $sql = \"INSERT INTO users (name, email, password) VALUES (?, ?, ?)\";\n    $stmt = $conn->prepare($sql);\n    $stmt->bind_param(\"sss\", $name, $email, $hashed_password);\n\n    if ($stmt->execute()) {\n        return true;\n    } else {\n        return false;\n    }\n}\n\n// Example usage\nif (isset($_POST['submit'])) {\n    $name = $_POST['name'];\n    $email = $_POST['email'];\n    $password = $_POST['password'];\n\n    // Call the registerUser function\n    if (registerUser($name, $email, $password)) {\n        echo \"Registration successful!\";\n    } else {\n        echo \"Registration failed.\";\n    }\n}\n\n// Close database connection\n$conn->close();\n\n?>\n```\n**How it works**\n\n1. The script connects to a MySQL database using the `mysqli` extension.\n2. The `registerUser` function takes three arguments: `$name`, `$email`, and `$password`.\n3. It hashes the password using the `password_hash` function (which is recommended for storing passwords securely).\n4. It prepares an SQL query to insert a new user into the database, binding the input values as parameters.\n5. If the query executes successfully, it returns `true`; otherwise, it returns `false`.\n6. In the example usage section, we check if the form has been submitted (using `isset($_POST['submit'])`).\n7. If so, we call the `registerUser` function with the input values and display a success or failure message.\n\n**Security notes**\n\n* We use prepared statements to prevent SQL injection attacks.\n* We hash the password using `password_hash`, which is recommended for storing passwords securely.\n* We don't store plain text passwords in the database, as this would be insecure.\n\n**Example usage**\n\nTo test this script, create an HTML form with input fields for name, email, and password:\n```html\n<form action=\"register.php\" method=\"post\">\n    <label>Name:</label>\n    <input type=\"text\" name=\"name\"><br><br>\n    <label>Email:</label>\n    <input type=\"email\" name=\"email\"><br><br>\n    <label>Password:</label>\n    <input type=\"password\" name=\"password\"><br><br>\n    <input type=\"submit\" name=\"submit\" value=\"Register\">\n</form>\n```\nWhen you submit the form, the `registerUser` function will be called with the input values. If registration is successful, it will display a success message; otherwise, it will display an error message.", "code_blocks": ["```php\n<?php\n\n// Configuration variables\n$server = 'localhost';\n$username = 'your_username';\n$password = 'your_password';\n$db_name = 'your_database';\n\n// Connect to database\n$conn = new mysqli($server, $username, $password, $db_name);\n\nif ($conn->connect_error) {\n    die(\"Connection failed: \" . $conn->connect_error);\n}\n\n// Function to register a user\nfunction registerUser($name, $email, $password)\n{\n    // Hash the password\n    $hashed_password = password_hash($password, PASSWORD_DEFAULT);\n\n    // SQL query to insert new user into database\n    $sql = \"INSERT INTO users (name, email, password) VALUES (?, ?, ?)\";\n    $stmt = $conn->prepare($sql);\n    $stmt->bind_param(\"sss\", $name, $email, $hashed_password);\n\n    if ($stmt->execute()) {\n        return true;\n    } else {\n        return false;\n    }\n}\n\n// Example usage\nif (isset($_POST['submit'])) {\n    $name = $_POST['name'];\n    $email = $_POST['email'];\n    $password = $_POST['password'];\n\n    // Call the registerUser function\n    if (registerUser($name, $email, $password)) {\n        echo \"Registration successful!\";\n    } else {\n        echo \"Registration failed.\";\n    }\n}\n\n// Close database connection\n$conn->close();\n\n?>\n```", null]}
