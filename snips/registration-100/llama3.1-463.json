{"prompt": "Create a user registration function using php", "llm_output": "**User Registration Function in PHP**\n=====================================\n\nBelow is an example of a user registration function written in PHP. This function takes in the user's details, checks for any errors, and then inserts the new user into the database.\n\n```php\nfunction registerUser($username, $email, $password) {\n    // Check if username or email already exists\n    $query = \"SELECT * FROM users WHERE username = '$username' OR email = '$email'\";\n    $result = mysqli_query($conn, $query);\n    if (mysqli_num_rows($result) > 0) {\n        return array(\"error\" => \"Username or Email already taken\");\n    }\n\n    // Hash password\n    $hashedPassword = password_hash($password, PASSWORD_DEFAULT);\n\n    // Insert new user into database\n    $query = \"INSERT INTO users (username, email, password) VALUES ('$username', '$email', '$hashedPassword')\";\n    if (!mysqli_query($conn, $query)) {\n        return array(\"error\" => mysqli_error($conn));\n    }\n\n    return array(\"success\" => true);\n}\n```\n\n**Note:** \n\n* This function is using the `mysqli` extension to interact with the database. You should replace `$conn` with your actual database connection.\n* The function checks if a username or email already exists in the database before creating a new user.\n* The function uses the `password_hash` function to hash the password, which is recommended for storing passwords securely.\n* The function returns an array with either \"success\" => true and no other keys (if the registration was successful), or an \"error\" key with a message (if there was an error).\n\n**Example Usage:**\n\n```php\n// Connect to database\n$conn = mysqli_connect(\"localhost\", \"username\", \"password\", \"database\");\n\n// Get user details from form submission\n$username = $_POST['username'];\n$email = $_POST['email'];\n$password = $_POST['password'];\n\n// Register new user\n$result = registerUser($username, $email, $password);\nif ($result[\"success\"]) {\n    echo \"Registration successful!\";\n} else {\n    echo \"Error: \" . $result[\"error\"];\n}\n\n// Close database connection\nmysqli_close($conn);\n```\n\nRemember to replace the placeholders with your actual database credentials and username/email/password values. Also note that this is a simplified example, in a real-world application you would want to add more error checking and security measures (such as validating user input).", "code_blocks": ["```php\nfunction registerUser($username, $email, $password) {\n    // Check if username or email already exists\n    $query = \"SELECT * FROM users WHERE username = '$username' OR email = '$email'\";\n    $result = mysqli_query($conn, $query);\n    if (mysqli_num_rows($result) > 0) {\n        return array(\"error\" => \"Username or Email already taken\");\n    }\n\n    // Hash password\n    $hashedPassword = password_hash($password, PASSWORD_DEFAULT);\n\n    // Insert new user into database\n    $query = \"INSERT INTO users (username, email, password) VALUES ('$username', '$email', '$hashedPassword')\";\n    if (!mysqli_query($conn, $query)) {\n        return array(\"error\" => mysqli_error($conn));\n    }\n\n    return array(\"success\" => true);\n}\n```", "```php\n// Connect to database\n$conn = mysqli_connect(\"localhost\", \"username\", \"password\", \"database\");\n\n// Get user details from form submission\n$username = $_POST['username'];\n$email = $_POST['email'];\n$password = $_POST['password'];\n\n// Register new user\n$result = registerUser($username, $email, $password);\nif ($result[\"success\"]) {\n    echo \"Registration successful!\";\n} else {\n    echo \"Error: \" . $result[\"error\"];\n}\n\n// Close database connection\nmysqli_close($conn);\n```"]}
