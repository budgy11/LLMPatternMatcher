{"prompt": "Create a user registration function using php", "llm_output": "Here's an example of a user registration function in PHP:\n\n```php\n<?php\n\n// Configuration\n$db_host = 'localhost';\n$db_username = 'username';\n$db_password = 'password';\n$db_name = 'database';\n\nfunction registerUser($firstname, $lastname, $email, $username, $password) {\n    // Connect to the database\n    try {\n        $conn = new PDO(\"mysql:host=$db_host;dbname=$db_name\", $db_username, $db_password);\n        $conn->setAttribute(PDO::ATTR_ERRMODE, PDO::ERRMODE_EXCEPTION);\n\n        // Check if user already exists\n        $query = \"SELECT * FROM users WHERE username = :username\";\n        $stmt = $conn->prepare($query);\n        $stmt->bindParam(':username', $username);\n        $stmt->execute();\n        $count = $stmt->rowCount();\n\n        if ($count > 0) {\n            echo \"Username already exists.\";\n            return false;\n        }\n\n        // Hash password\n        $password_hash = password_hash($password, PASSWORD_DEFAULT);\n\n        // Insert user into database\n        $query = \"INSERT INTO users (firstname, lastname, email, username, password)\n                  VALUES (:firstname, :lastname, :email, :username, :password)\";\n        $stmt = $conn->prepare($query);\n        $stmt->bindParam(':firstname', $firstname);\n        $stmt->bindParam(':lastname', $lastname);\n        $stmt->bindParam(':email', $email);\n        $stmt->bindParam(':username', $username);\n        $stmt->bindParam(':password', $password_hash);\n        $stmt->execute();\n\n        // Close connection\n        $conn = null;\n\n        echo \"Registration successful.\";\n        return true;\n    } catch (PDOException $e) {\n        echo \"Error: \" . $e->getMessage();\n        return false;\n    }\n}\n\n?>\n```\n\nHere's how you can use the `registerUser` function:\n\n```php\n<?php\n\n// Call the registerUser function with user input\n$firstname = $_POST['firstname'];\n$lastname = $_POST['lastname'];\n$email = $_POST['email'];\n$username = $_POST['username'];\n$password = $_POST['password'];\n\nif (isset($_POST['submit'])) {\n    $success = registerUser($firstname, $lastname, $email, $username, $password);\n}\n\n?>\n```\n\nAnd here's a basic form to handle user input:\n\n```php\n<form action=\"\" method=\"post\">\n  <input type=\"text\" name=\"firstname\" placeholder=\"First Name\"><br>\n  <input type=\"text\" name=\"lastname\" placeholder=\"Last Name\"><br>\n  <input type=\"email\" name=\"email\" placeholder=\"Email Address\"><br>\n  <input type=\"text\" name=\"username\" placeholder=\"Username\"><br>\n  <input type=\"password\" name=\"password\" placeholder=\"Password\"><br>\n  <button type=\"submit\" name=\"submit\">Register</button>\n</form>\n```\n\nRemember to replace `'localhost'`, `'username'`, `'password'`, and `'database'` with your actual database credentials.", "code_blocks": ["```php\n<?php\n\n// Configuration\n$db_host = 'localhost';\n$db_username = 'username';\n$db_password = 'password';\n$db_name = 'database';\n\nfunction registerUser($firstname, $lastname, $email, $username, $password) {\n    // Connect to the database\n    try {\n        $conn = new PDO(\"mysql:host=$db_host;dbname=$db_name\", $db_username, $db_password);\n        $conn->setAttribute(PDO::ATTR_ERRMODE, PDO::ERRMODE_EXCEPTION);\n\n        // Check if user already exists\n        $query = \"SELECT * FROM users WHERE username = :username\";\n        $stmt = $conn->prepare($query);\n        $stmt->bindParam(':username', $username);\n        $stmt->execute();\n        $count = $stmt->rowCount();\n\n        if ($count > 0) {\n            echo \"Username already exists.\";\n            return false;\n        }\n\n        // Hash password\n        $password_hash = password_hash($password, PASSWORD_DEFAULT);\n\n        // Insert user into database\n        $query = \"INSERT INTO users (firstname, lastname, email, username, password)\n                  VALUES (:firstname, :lastname, :email, :username, :password)\";\n        $stmt = $conn->prepare($query);\n        $stmt->bindParam(':firstname', $firstname);\n        $stmt->bindParam(':lastname', $lastname);\n        $stmt->bindParam(':email', $email);\n        $stmt->bindParam(':username', $username);\n        $stmt->bindParam(':password', $password_hash);\n        $stmt->execute();\n\n        // Close connection\n        $conn = null;\n\n        echo \"Registration successful.\";\n        return true;\n    } catch (PDOException $e) {\n        echo \"Error: \" . $e->getMessage();\n        return false;\n    }\n}\n\n?>\n```", "```php\n<?php\n\n// Call the registerUser function with user input\n$firstname = $_POST['firstname'];\n$lastname = $_POST['lastname'];\n$email = $_POST['email'];\n$username = $_POST['username'];\n$password = $_POST['password'];\n\nif (isset($_POST['submit'])) {\n    $success = registerUser($firstname, $lastname, $email, $username, $password);\n}\n\n?>\n```", "```php\n<form action=\"\" method=\"post\">\n  <input type=\"text\" name=\"firstname\" placeholder=\"First Name\"><br>\n  <input type=\"text\" name=\"lastname\" placeholder=\"Last Name\"><br>\n  <input type=\"email\" name=\"email\" placeholder=\"Email Address\"><br>\n  <input type=\"text\" name=\"username\" placeholder=\"Username\"><br>\n  <input type=\"password\" name=\"password\" placeholder=\"Password\"><br>\n  <button type=\"submit\" name=\"submit\">Register</button>\n</form>\n```"]}
