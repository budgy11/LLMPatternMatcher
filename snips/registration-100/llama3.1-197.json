{"prompt": "Create a user registration function using php", "llm_output": "Here is an example of a user registration function in PHP:\n\n**User Registration Function**\n```php\nfunction register_user($username, $email, $password) {\n  // Check if the username and email are already taken\n  $query = \"SELECT * FROM users WHERE username = '$username' OR email = '$email'\";\n  $result = mysqli_query($link, $query);\n  if (mysqli_num_rows($result) > 0) {\n    return array(\"error\" => \"Username or email is already taken.\");\n  }\n\n  // Hash the password\n  $hashed_password = password_hash($password, PASSWORD_DEFAULT);\n\n  // Insert the new user into the database\n  $query = \"INSERT INTO users (username, email, password) VALUES ('$username', '$email', '$hashed_password')\";\n  mysqli_query($link, $query);\n\n  return array(\"message\" => \"User created successfully.\");\n}\n```\n**Explanation**\n\nThis function takes in three parameters: `$username`, `$email`, and `$password`. It checks if the username or email is already taken by querying the database. If it is, it returns an error message.\n\nIf the username and email are available, it hashes the password using the `password_hash` function (which is a secure way to store passwords).\n\nFinally, it inserts the new user into the database with their hashed password.\n\n**Example Usage**\n```php\n$username = \"johnDoe\";\n$email = \"johndoe@example.com\";\n$password = \"mysecretpassword\";\n\n$result = register_user($username, $email, $password);\nif ($result[\"error\"]) {\n  echo \"Error: \" . $result[\"error\"];\n} else {\n  echo \"User created successfully.\";\n}\n```\n**Note**\n\n* This code assumes that you have a MySQL database set up and connected to using the `mysqli` extension.\n* You should never store passwords in plain text. Always use a secure way of storing passwords, such as hashing.\n* This is just an example, you should adjust it according to your needs.\n\nPlease let me know if you need further assistance!", "code_blocks": ["```php\nfunction register_user($username, $email, $password) {\n  // Check if the username and email are already taken\n  $query = \"SELECT * FROM users WHERE username = '$username' OR email = '$email'\";\n  $result = mysqli_query($link, $query);\n  if (mysqli_num_rows($result) > 0) {\n    return array(\"error\" => \"Username or email is already taken.\");\n  }\n\n  // Hash the password\n  $hashed_password = password_hash($password, PASSWORD_DEFAULT);\n\n  // Insert the new user into the database\n  $query = \"INSERT INTO users (username, email, password) VALUES ('$username', '$email', '$hashed_password')\";\n  mysqli_query($link, $query);\n\n  return array(\"message\" => \"User created successfully.\");\n}\n```", "```php\n$username = \"johnDoe\";\n$email = \"johndoe@example.com\";\n$password = \"mysecretpassword\";\n\n$result = register_user($username, $email, $password);\nif ($result[\"error\"]) {\n  echo \"Error: \" . $result[\"error\"];\n} else {\n  echo \"User created successfully.\";\n}\n```"]}
