{"prompt": "Create a user registration function using php", "llm_output": "Here is an example of a simple user registration function in PHP:\n\n```php\nfunction registerUser($username, $email, $password) {\n    // Check if the username and email are not empty\n    if (empty($username) || empty($email)) {\n        return array('error' => 'Username and Email cannot be empty');\n    }\n\n    // Hash the password\n    $hashedPassword = hash('sha256', $password);\n\n    // Connect to the database\n    $conn = new mysqli(\"localhost\", \"root\", \"\", \"your_database\");\n\n    // Check if there's a connection error\n    if ($conn->connect_error) {\n        return array('error' => 'Connection failed');\n    }\n\n    // Create a query to insert the user data into the database\n    $query = \"INSERT INTO users (username, email, password) VALUES ('$username', '$email', '$hashedPassword')\";\n\n    // Execute the query\n    if ($conn->query($query)) {\n        return array('success' => 'User registered successfully');\n    } else {\n        return array('error' => 'Failed to register user');\n    }\n\n    // Close the connection\n    $conn->close();\n}\n\n// Example usage:\n$result = registerUser(\"example\", \"example@example.com\", \"password123\");\nprint_r($result);\n```\n\nPlease note that this is a very basic example. You should consider using prepared statements for SQL queries, as well as other security measures to prevent SQL injection attacks.\n\nHere's an improved version with prepared statements:\n\n```php\nfunction registerUser($username, $email, $password) {\n    // Check if the username and email are not empty\n    if (empty($username) || empty($email)) {\n        return array('error' => 'Username and Email cannot be empty');\n    }\n\n    // Hash the password\n    $hashedPassword = hash('sha256', $password);\n\n    // Connect to the database\n    $conn = new mysqli(\"localhost\", \"root\", \"\", \"your_database\");\n\n    // Check if there's a connection error\n    if ($conn->connect_error) {\n        return array('error' => 'Connection failed');\n    }\n\n    // Create a prepared statement\n    $stmt = $conn->prepare(\"INSERT INTO users (username, email, password) VALUES (?, ?, ?)\");\n\n    // Bind the parameters\n    $stmt->bind_param(\"sss\", $username, $email, $hashedPassword);\n\n    // Execute the query\n    if ($stmt->execute()) {\n        return array('success' => 'User registered successfully');\n    } else {\n        return array('error' => 'Failed to register user');\n    }\n\n    // Close the statement and connection\n    $stmt->close();\n    $conn->close();\n}\n\n// Example usage:\n$result = registerUser(\"example\", \"example@example.com\", \"password123\");\nprint_r($result);\n```\n\nRemember to replace `\"your_database\"` with your actual database name. This example assumes a MySQL database, but you can use other databases like PostgreSQL or SQLite by adjusting the code accordingly.", "code_blocks": ["```php\nfunction registerUser($username, $email, $password) {\n    // Check if the username and email are not empty\n    if (empty($username) || empty($email)) {\n        return array('error' => 'Username and Email cannot be empty');\n    }\n\n    // Hash the password\n    $hashedPassword = hash('sha256', $password);\n\n    // Connect to the database\n    $conn = new mysqli(\"localhost\", \"root\", \"\", \"your_database\");\n\n    // Check if there's a connection error\n    if ($conn->connect_error) {\n        return array('error' => 'Connection failed');\n    }\n\n    // Create a query to insert the user data into the database\n    $query = \"INSERT INTO users (username, email, password) VALUES ('$username', '$email', '$hashedPassword')\";\n\n    // Execute the query\n    if ($conn->query($query)) {\n        return array('success' => 'User registered successfully');\n    } else {\n        return array('error' => 'Failed to register user');\n    }\n\n    // Close the connection\n    $conn->close();\n}\n\n// Example usage:\n$result = registerUser(\"example\", \"example@example.com\", \"password123\");\nprint_r($result);\n```", "```php\nfunction registerUser($username, $email, $password) {\n    // Check if the username and email are not empty\n    if (empty($username) || empty($email)) {\n        return array('error' => 'Username and Email cannot be empty');\n    }\n\n    // Hash the password\n    $hashedPassword = hash('sha256', $password);\n\n    // Connect to the database\n    $conn = new mysqli(\"localhost\", \"root\", \"\", \"your_database\");\n\n    // Check if there's a connection error\n    if ($conn->connect_error) {\n        return array('error' => 'Connection failed');\n    }\n\n    // Create a prepared statement\n    $stmt = $conn->prepare(\"INSERT INTO users (username, email, password) VALUES (?, ?, ?)\");\n\n    // Bind the parameters\n    $stmt->bind_param(\"sss\", $username, $email, $hashedPassword);\n\n    // Execute the query\n    if ($stmt->execute()) {\n        return array('success' => 'User registered successfully');\n    } else {\n        return array('error' => 'Failed to register user');\n    }\n\n    // Close the statement and connection\n    $stmt->close();\n    $conn->close();\n}\n\n// Example usage:\n$result = registerUser(\"example\", \"example@example.com\", \"password123\");\nprint_r($result);\n```"]}
