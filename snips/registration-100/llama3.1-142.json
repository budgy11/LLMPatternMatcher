{"prompt": "Create a user registration function using php", "llm_output": "Here is an example of a basic user registration function in PHP:\n\n**register.php**\n```php\n<?php\n// Configuration\n$dbHost = 'localhost';\n$dbUsername = 'your_username';\n$dbPassword = 'your_password';\n$dbName = 'your_database';\n\n// Connect to database\n$conn = new mysqli($dbHost, $dbUsername, $dbPassword, $dbName);\n\nif ($conn->connect_error) {\n    die(\"Connection failed: \" . $conn->connect_error);\n}\n\n// Function to register user\nfunction registerUser($username, $email, $password) {\n    // Hash password for security\n    $hashedPassword = password_hash($password, PASSWORD_DEFAULT);\n\n    // Prepare SQL query\n    $sql = \"INSERT INTO users (username, email, password) VALUES (?, ?, ?)\";\n\n    // Bind parameters\n    $stmt = $conn->prepare($sql);\n    $stmt->bind_param(\"sss\", $username, $email, $hashedPassword);\n\n    // Execute query\n    if ($stmt->execute()) {\n        return true;\n    } else {\n        return false;\n    }\n}\n\n// Handle form submission\nif ($_SERVER['REQUEST_METHOD'] == 'POST') {\n    $username = $_POST['username'];\n    $email = $_POST['email'];\n    $password = $_POST['password'];\n\n    // Validate input data\n    if (empty($username) || empty($email) || empty($password)) {\n        echo \"Please fill in all fields.\";\n        exit;\n    }\n\n    // Register user\n    if (registerUser($username, $email, $password)) {\n        echo \"Registration successful!\";\n    } else {\n        echo \"Error registering user. Please try again.\";\n    }\n}\n\n// Close database connection\n$conn->close();\n?>\n```\n\n**Explanation:**\n\nThis script uses a MySQL database to store user data. It defines a `registerUser` function that takes the username, email, and password as arguments, hashes the password for security using the `password_hash` function, and then inserts the data into the `users` table.\n\nThe script also includes form validation to ensure that all fields are filled in before attempting to register the user. If registration is successful, a success message is displayed; otherwise, an error message is shown.\n\n**Note:**\n\n* This example assumes you have a `users` table with columns for `username`, `email`, and `password`.\n* You should replace `'your_username'`, `'your_password'`, and `'your_database'` with your actual MySQL credentials and database name.\n* Always use prepared statements to prevent SQL injection attacks.\n\n**Usage:**\n\nTo use this script, create a form that submits the username, email, and password fields to `register.php`. For example:\n```html\n<form action=\"register.php\" method=\"post\">\n    <label>Username:</label>\n    <input type=\"text\" name=\"username\"><br><br>\n    <label>Email:</label>\n    <input type=\"email\" name=\"email\"><br><br>\n    <label>Password:</label>\n    <input type=\"password\" name=\"password\"><br><br>\n    <input type=\"submit\" value=\"Register\">\n</form>\n```", "code_blocks": ["```php\n<?php\n// Configuration\n$dbHost = 'localhost';\n$dbUsername = 'your_username';\n$dbPassword = 'your_password';\n$dbName = 'your_database';\n\n// Connect to database\n$conn = new mysqli($dbHost, $dbUsername, $dbPassword, $dbName);\n\nif ($conn->connect_error) {\n    die(\"Connection failed: \" . $conn->connect_error);\n}\n\n// Function to register user\nfunction registerUser($username, $email, $password) {\n    // Hash password for security\n    $hashedPassword = password_hash($password, PASSWORD_DEFAULT);\n\n    // Prepare SQL query\n    $sql = \"INSERT INTO users (username, email, password) VALUES (?, ?, ?)\";\n\n    // Bind parameters\n    $stmt = $conn->prepare($sql);\n    $stmt->bind_param(\"sss\", $username, $email, $hashedPassword);\n\n    // Execute query\n    if ($stmt->execute()) {\n        return true;\n    } else {\n        return false;\n    }\n}\n\n// Handle form submission\nif ($_SERVER['REQUEST_METHOD'] == 'POST') {\n    $username = $_POST['username'];\n    $email = $_POST['email'];\n    $password = $_POST['password'];\n\n    // Validate input data\n    if (empty($username) || empty($email) || empty($password)) {\n        echo \"Please fill in all fields.\";\n        exit;\n    }\n\n    // Register user\n    if (registerUser($username, $email, $password)) {\n        echo \"Registration successful!\";\n    } else {\n        echo \"Error registering user. Please try again.\";\n    }\n}\n\n// Close database connection\n$conn->close();\n?>\n```", null]}
