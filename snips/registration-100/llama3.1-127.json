{"prompt": "Create a user registration function using php", "llm_output": "**User Registration Function in PHP**\n=====================================\n\nThis code snippet provides a basic example of a user registration function in PHP. The function takes in the user's details and checks for valid input before registering the new user.\n\n**Code:**\n```php\n<?php\n\n// Configuration settings\n$database_host = 'localhost';\n$database_username = 'your_username';\n$database_password = 'your_password';\n$database_name = 'your_database';\n\n// Function to register a new user\nfunction register_user($username, $email, $password) {\n  // Check for valid input\n  if (empty($username) || empty($email) || empty($password)) {\n    throw new Exception('All fields are required.');\n  }\n\n  // Connect to the database\n  $conn = mysqli_connect($database_host, $database_username, $database_password);\n  if (!$conn) {\n    throw new Exception('Database connection failed.');\n  }\n\n  // Query to register a new user\n  $query = \"INSERT INTO users (username, email, password)\n            VALUES ('$username', '$email', '\".hash('sha256', $password).\"')\";\n  mysqli_query($conn, $query);\n\n  // Check if the registration was successful\n  if (mysqli_affected_rows($conn) > 0) {\n    return true;\n  } else {\n    throw new Exception('Registration failed.');\n  }\n\n  // Close the database connection\n  mysqli_close($conn);\n}\n\n// Example usage:\ntry {\n  $username = 'john_doe';\n  $email = 'johndoe@example.com';\n  $password = 'password123';\n\n  if (register_user($username, $email, $password)) {\n    echo \"User registered successfully.\";\n  } else {\n    throw new Exception('Registration failed.');\n  }\n} catch (Exception $e) {\n  echo 'Error: ' . $e->getMessage();\n}\n\n?>\n```\n**Explanation:**\n\n1. The function `register_user` takes in three parameters: `$username`, `$email`, and `$password`.\n2. It checks for valid input by verifying that all fields are not empty.\n3. If the input is valid, it connects to the database using the provided credentials.\n4. It executes an SQL query to register a new user with the provided details.\n5. The function returns `true` if the registration was successful and `false` otherwise.\n6. In the example usage section, we demonstrate how to call the `register_user` function with sample input data.\n\n**Note:**\n\n* This code snippet is just an example and should not be used in production without proper security measures (e.g., password hashing, SQL injection protection).\n* Make sure to replace the placeholders (`$database_host`, `$database_username`, `$database_password`, `$database_name`) with your actual database credentials.\n* Use prepared statements or parameterized queries instead of directly inserting user input into SQL queries.", "code_blocks": ["```php\n<?php\n\n// Configuration settings\n$database_host = 'localhost';\n$database_username = 'your_username';\n$database_password = 'your_password';\n$database_name = 'your_database';\n\n// Function to register a new user\nfunction register_user($username, $email, $password) {\n  // Check for valid input\n  if (empty($username) || empty($email) || empty($password)) {\n    throw new Exception('All fields are required.');\n  }\n\n  // Connect to the database\n  $conn = mysqli_connect($database_host, $database_username, $database_password);\n  if (!$conn) {\n    throw new Exception('Database connection failed.');\n  }\n\n  // Query to register a new user\n  $query = \"INSERT INTO users (username, email, password)\n            VALUES ('$username', '$email', '\".hash('sha256', $password).\"')\";\n  mysqli_query($conn, $query);\n\n  // Check if the registration was successful\n  if (mysqli_affected_rows($conn) > 0) {\n    return true;\n  } else {\n    throw new Exception('Registration failed.');\n  }\n\n  // Close the database connection\n  mysqli_close($conn);\n}\n\n// Example usage:\ntry {\n  $username = 'john_doe';\n  $email = 'johndoe@example.com';\n  $password = 'password123';\n\n  if (register_user($username, $email, $password)) {\n    echo \"User registered successfully.\";\n  } else {\n    throw new Exception('Registration failed.');\n  }\n} catch (Exception $e) {\n  echo 'Error: ' . $e->getMessage();\n}\n\n?>\n```"]}
