{"prompt": "Create a user review function using php", "llm_output": "Here is an example of a user review function in PHP:\n\n**review.php**\n```php\n<?php\n\nclass Review {\n  private $id;\n  private $title;\n  private $rating;\n  private $content;\n\n  public function __construct($id, $title, $rating, $content) {\n    $this->id = $id;\n    $this->title = $title;\n    $this->rating = $rating;\n    $this->content = $content;\n  }\n\n  public static function createReview($title, $rating, $content) {\n    // Insert review into database (e.g. using PDO)\n    $db = new PDO('mysql:host=localhost;dbname=reviews', 'username', 'password');\n    $stmt = $db->prepare(\"INSERT INTO reviews (title, rating, content) VALUES (:title, :rating, :content)\");\n    $stmt->bindParam(':title', $title);\n    $stmt->bindParam(':rating', $rating);\n    $stmt->bindParam(':content', $content);\n    $stmt->execute();\n    return new Review($db->lastInsertId(), $title, $rating, $content);\n  }\n\n  public static function getReviews() {\n    // Retrieve reviews from database (e.g. using PDO)\n    $db = new PDO('mysql:host=localhost;dbname=reviews', 'username', 'password');\n    $stmt = $db->query(\"SELECT * FROM reviews\");\n    $reviews = array();\n    while ($row = $stmt->fetch()) {\n      $review = new Review($row['id'], $row['title'], $row['rating'], $row['content']);\n      $reviews[] = $review;\n    }\n    return $reviews;\n  }\n\n  public static function deleteReview($id) {\n    // Delete review from database (e.g. using PDO)\n    $db = new PDO('mysql:host=localhost;dbname=reviews', 'username', 'password');\n    $stmt = $db->prepare(\"DELETE FROM reviews WHERE id = :id\");\n    $stmt->bindParam(':id', $id);\n    $stmt->execute();\n  }\n}\n\n?>\n```\n**review_controller.php**\n```php\n<?php\n\nclass ReviewController {\n  public function createReview() {\n    if ($_SERVER['REQUEST_METHOD'] == 'POST') {\n      $title = $_POST['title'];\n      $rating = $_POST['rating'];\n      $content = $_POST['content'];\n      $review = Review::createReview($title, $rating, $content);\n      header('Location: index.php');\n    }\n  }\n\n  public function getReviews() {\n    $reviews = Review::getReviews();\n    require_once 'views/review_list.php';\n  }\n\n  public function deleteReview() {\n    if ($_SERVER['REQUEST_METHOD'] == 'POST') {\n      $id = $_POST['id'];\n      Review::deleteReview($id);\n      header('Location: index.php');\n    }\n  }\n}\n\n?>\n```\n**views/review_list.php**\n```php\n<?php\n\n$reviews = $controller->getReviews();\n\n?>\n\n<h1>Reviews</h1>\n\n<ul>\n  <?php foreach ($reviews as $review) { ?>\n    <li>\n      <h2><?php echo $review->title; ?></h2>\n      <p><?php echo $review->rating; ?>/5 stars</p>\n      <p><?php echo substr($review->content, 0, 200); ?>...</p>\n      <a href=\"#\" class=\"delete\" data-id=\"<?php echo $review->id; ?>\">Delete review</a>\n    </li>\n  <?php } ?>\n</ul>\n\n<?php\n```\n**index.php**\n```php\n<?php\n\nrequire_once 'includes/autoload.php';\n\n$controller = new ReviewController();\n\n?>\n\n<form method=\"post\" action=\"<?php echo $_SERVER['PHP_SELF']; ?>\">\n  <input type=\"text\" name=\"title\" placeholder=\"Review title\">\n  <input type=\"number\" min=\"1\" max=\"5\" step=\"0.01\" name=\"rating\" placeholder=\"Rating (out of 5)\">\n  <textarea name=\"content\" placeholder=\"Content\"></textarea>\n  <button type=\"submit\">Create review</button>\n</form>\n\n<?php\n```\nThis example shows a basic user review system with the following functionality:\n\n* Users can create reviews by submitting a form on the index page.\n* Reviews are stored in a database (in this case, MySQL) using PDO.\n* Users can view a list of all reviews on the index page.\n* Users can delete reviews from the list.\n\nNote that this is just a basic example and you should add more functionality (e.g. user authentication, review moderation) to make it production-ready.", "code_blocks": ["```php\n<?php\n\nclass Review {\n  private $id;\n  private $title;\n  private $rating;\n  private $content;\n\n  public function __construct($id, $title, $rating, $content) {\n    $this->id = $id;\n    $this->title = $title;\n    $this->rating = $rating;\n    $this->content = $content;\n  }\n\n  public static function createReview($title, $rating, $content) {\n    // Insert review into database (e.g. using PDO)\n    $db = new PDO('mysql:host=localhost;dbname=reviews', 'username', 'password');\n    $stmt = $db->prepare(\"INSERT INTO reviews (title, rating, content) VALUES (:title, :rating, :content)\");\n    $stmt->bindParam(':title', $title);\n    $stmt->bindParam(':rating', $rating);\n    $stmt->bindParam(':content', $content);\n    $stmt->execute();\n    return new Review($db->lastInsertId(), $title, $rating, $content);\n  }\n\n  public static function getReviews() {\n    // Retrieve reviews from database (e.g. using PDO)\n    $db = new PDO('mysql:host=localhost;dbname=reviews', 'username', 'password');\n    $stmt = $db->query(\"SELECT * FROM reviews\");\n    $reviews = array();\n    while ($row = $stmt->fetch()) {\n      $review = new Review($row['id'], $row['title'], $row['rating'], $row['content']);\n      $reviews[] = $review;\n    }\n    return $reviews;\n  }\n\n  public static function deleteReview($id) {\n    // Delete review from database (e.g. using PDO)\n    $db = new PDO('mysql:host=localhost;dbname=reviews', 'username', 'password');\n    $stmt = $db->prepare(\"DELETE FROM reviews WHERE id = :id\");\n    $stmt->bindParam(':id', $id);\n    $stmt->execute();\n  }\n}\n\n?>\n```", "```php\n<?php\n\nclass ReviewController {\n  public function createReview() {\n    if ($_SERVER['REQUEST_METHOD'] == 'POST') {\n      $title = $_POST['title'];\n      $rating = $_POST['rating'];\n      $content = $_POST['content'];\n      $review = Review::createReview($title, $rating, $content);\n      header('Location: index.php');\n    }\n  }\n\n  public function getReviews() {\n    $reviews = Review::getReviews();\n    require_once 'views/review_list.php';\n  }\n\n  public function deleteReview() {\n    if ($_SERVER['REQUEST_METHOD'] == 'POST') {\n      $id = $_POST['id'];\n      Review::deleteReview($id);\n      header('Location: index.php');\n    }\n  }\n}\n\n?>\n```", "```php\n<?php\n\n$reviews = $controller->getReviews();\n\n?>\n\n<h1>Reviews</h1>\n\n<ul>\n  <?php foreach ($reviews as $review) { ?>\n    <li>\n      <h2><?php echo $review->title; ?></h2>\n      <p><?php echo $review->rating; ?>/5 stars</p>\n      <p><?php echo substr($review->content, 0, 200); ?>...</p>\n      <a href=\"#\" class=\"delete\" data-id=\"<?php echo $review->id; ?>\">Delete review</a>\n    </li>\n  <?php } ?>\n</ul>\n\n<?php\n```", "```php\n<?php\n\nrequire_once 'includes/autoload.php';\n\n$controller = new ReviewController();\n\n?>\n\n<form method=\"post\" action=\"<?php echo $_SERVER['PHP_SELF']; ?>\">\n  <input type=\"text\" name=\"title\" placeholder=\"Review title\">\n  <input type=\"number\" min=\"1\" max=\"5\" step=\"0.01\" name=\"rating\" placeholder=\"Rating (out of 5)\">\n  <textarea name=\"content\" placeholder=\"Content\"></textarea>\n  <button type=\"submit\">Create review</button>\n</form>\n\n<?php\n```"]}
