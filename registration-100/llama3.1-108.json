{"prompt": "Create a user registration function using php", "llm_output": "Here is an example of a simple user registration function in PHP:\n\n**register.php**\n```php\n<?php\n\n// Configuration settings\n$hostname = 'your_host';\n$username = 'your_username';\n$password = 'your_password';\n$dbname = 'your_database';\n\n// Create database connection\n$conn = new PDO(\"mysql:host=$hostname;dbname=$dbname\", $username, $password);\n\n// Check if form has been submitted\nif ($_SERVER['REQUEST_METHOD'] == 'POST') {\n\n    // Get user input\n    $username = $_POST['username'];\n    $email = $_POST['email'];\n    $password = $_POST['password'];\n\n    // Validate user input\n    if (empty($username) || empty($email) || empty($password)) {\n        echo \"Error: All fields are required.\";\n        return;\n    }\n\n    // Check if username or email already exists in database\n    $query = \"SELECT * FROM users WHERE username=:username OR email=:email\";\n    $stmt = $conn->prepare($query);\n    $stmt->bindParam(':username', $username);\n    $stmt->bindParam(':email', $email);\n    $stmt->execute();\n    if ($stmt->fetch()) {\n        echo \"Error: Username or email already exists.\";\n        return;\n    }\n\n    // Hash password\n    $hashed_password = hash('sha256', $password);\n\n    // Insert user data into database\n    $query = \"INSERT INTO users (username, email, password) VALUES (:username, :email, :password)\";\n    $stmt = $conn->prepare($query);\n    $stmt->bindParam(':username', $username);\n    $stmt->bindParam(':email', $email);\n    $stmt->bindParam(':password', $hashed_password);\n    $stmt->execute();\n\n    // Redirect to login page\n    header('Location: login.php');\n}\n\n// Close database connection\n$conn = null;\n\n?>\n```\n**register.html**\n```html\n<!DOCTYPE html>\n<html lang=\"en\">\n<head>\n    <meta charset=\"UTF-8\">\n    <meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\">\n    <title>Register</title>\n</head>\n<body>\n\n<form action=\"register.php\" method=\"post\">\n    <label for=\"username\">Username:</label>\n    <input type=\"text\" id=\"username\" name=\"username\"><br><br>\n    <label for=\"email\">Email:</label>\n    <input type=\"email\" id=\"email\" name=\"email\"><br><br>\n    <label for=\"password\">Password:</label>\n    <input type=\"password\" id=\"password\" name=\"password\"><br><br>\n    <button type=\"submit\">Register</button>\n</form>\n\n</body>\n</html>\n```\n**Explanation**\n\nThis code creates a simple user registration system using PHP. Here's how it works:\n\n1. When the form is submitted, the `register.php` script checks if all fields are filled in.\n2. If they are, it checks if the username or email already exists in the database. If either does, it displays an error message and returns without inserting any data into the database.\n3. If the user passes these checks, it hashes the password using SHA-256 to securely store it in the database.\n4. It then inserts the user's data into the `users` table in the database.\n5. Finally, it redirects the user to a login page.\n\nNote that this is a basic example and should be modified to suit your specific needs (e.g., adding more validation, using a more secure password hashing algorithm, etc.).", "code_blocks": ["```php\n<?php\n\n// Configuration settings\n$hostname = 'your_host';\n$username = 'your_username';\n$password = 'your_password';\n$dbname = 'your_database';\n\n// Create database connection\n$conn = new PDO(\"mysql:host=$hostname;dbname=$dbname\", $username, $password);\n\n// Check if form has been submitted\nif ($_SERVER['REQUEST_METHOD'] == 'POST') {\n\n    // Get user input\n    $username = $_POST['username'];\n    $email = $_POST['email'];\n    $password = $_POST['password'];\n\n    // Validate user input\n    if (empty($username) || empty($email) || empty($password)) {\n        echo \"Error: All fields are required.\";\n        return;\n    }\n\n    // Check if username or email already exists in database\n    $query = \"SELECT * FROM users WHERE username=:username OR email=:email\";\n    $stmt = $conn->prepare($query);\n    $stmt->bindParam(':username', $username);\n    $stmt->bindParam(':email', $email);\n    $stmt->execute();\n    if ($stmt->fetch()) {\n        echo \"Error: Username or email already exists.\";\n        return;\n    }\n\n    // Hash password\n    $hashed_password = hash('sha256', $password);\n\n    // Insert user data into database\n    $query = \"INSERT INTO users (username, email, password) VALUES (:username, :email, :password)\";\n    $stmt = $conn->prepare($query);\n    $stmt->bindParam(':username', $username);\n    $stmt->bindParam(':email', $email);\n    $stmt->bindParam(':password', $hashed_password);\n    $stmt->execute();\n\n    // Redirect to login page\n    header('Location: login.php');\n}\n\n// Close database connection\n$conn = null;\n\n?>\n```", null]}
