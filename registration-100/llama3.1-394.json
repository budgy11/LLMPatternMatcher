{"prompt": "Create a user registration function using php", "llm_output": "Here's an example of a basic user registration function in PHP:\n\n**Note:** This example assumes you're using a MySQL database. You'll need to install the necessary extensions (e.g., `mysqlnd` or `mysqli`) and configure your PHP setup accordingly.\n\n```php\n<?php\n\n// Configuration\ndefine('DB_HOST', 'your_host');\ndefine('DB_USERNAME', 'your_username');\ndefine('DB_PASSWORD', 'your_password');\ndefine('DB_NAME', 'your_database');\n\n// Connect to database\nfunction dbConnect() {\n    $conn = new mysqli(DB_HOST, DB_USERNAME, DB_PASSWORD, DB_NAME);\n    if ($conn->connect_error) {\n        die(\"Connection failed: \" . $conn->connect_error);\n    }\n    return $conn;\n}\n\n// User registration function\nfunction registerUser($email, $password, $username) {\n    // Connect to database\n    $conn = dbConnect();\n    \n    // Hash password (e.g., using SHA-256)\n    $hashedPassword = hash('sha256', $password);\n    \n    // Prepare SQL query\n    $query = \"INSERT INTO users (email, password, username) VALUES (?, ?, ?)\";\n    $stmt = $conn->prepare($query);\n    \n    // Bind parameters\n    $stmt->bind_param(\"sss\", $email, $hashedPassword, $username);\n    \n    // Execute query\n    if ($stmt->execute()) {\n        echo \"User registered successfully!\";\n        return true;\n    } else {\n        echo \"Error registering user: \" . $conn->error;\n        return false;\n    }\n}\n\n// Handle form submission (e.g., via a HTML form)\nif ($_SERVER[\"REQUEST_METHOD\"] == \"POST\") {\n    $email = $_POST['email'];\n    $password = $_POST['password'];\n    $username = $_POST['username'];\n    \n    if (!empty($email) && !empty($password) && !empty($username)) {\n        // Check for existing user (e.g., by email)\n        $conn = dbConnect();\n        $query = \"SELECT * FROM users WHERE email = ?\";\n        $stmt = $conn->prepare($query);\n        $stmt->bind_param(\"s\", $email);\n        $stmt->execute();\n        $result = $stmt->get_result();\n        \n        if ($result->num_rows > 0) {\n            echo \"User already exists with this email address.\";\n        } else {\n            // Register user\n            $registered = registerUser($email, $password, $username);\n            if (!$registered) {\n                // Error registering user\n            }\n        }\n    } else {\n        echo \"Please fill in all fields.\";\n    }\n}\n?>\n```\n\n**Security Notes:**\n\n*   This example uses a simple password hashing function (SHA-256). Consider using a more secure library like [password_hash](https://www.php.net/manual/en/function.password-hash.php) for PHP 5.5+.\n*   Always use prepared statements and parameterized queries to prevent SQL injection attacks.\n*   Validate user input data on the client-side (e.g., using HTML5 validation attributes) to reduce server-side processing.\n\n**Example Use Case:**\n\nCreate a simple registration form in an HTML file (e.g., `register.html`):\n\n```html\n<!DOCTYPE html>\n<html lang=\"en\">\n<head>\n    <meta charset=\"UTF-8\">\n    <title>Register</title>\n</head>\n<body>\n    <h1>Register</h1>\n    <form action=\"\" method=\"post\" enctype=\"multipart/form-data\">\n        <label for=\"email\">Email:</label>\n        <input type=\"text\" id=\"email\" name=\"email\"><br><br>\n        <label for=\"password\">Password:</label>\n        <input type=\"password\" id=\"password\" name=\"password\"><br><br>\n        <label for=\"username\">Username:</label>\n        <input type=\"text\" id=\"username\" name=\"username\"><br><br>\n        <button type=\"submit\">Register</button>\n    </form>\n</body>\n</html>\n```\n\nOpen the file in a web browser, fill out the form with your desired email address, password, and username, and submit it. The `registerUser` function will handle the user registration logic.", "code_blocks": ["```php\n<?php\n\n// Configuration\ndefine('DB_HOST', 'your_host');\ndefine('DB_USERNAME', 'your_username');\ndefine('DB_PASSWORD', 'your_password');\ndefine('DB_NAME', 'your_database');\n\n// Connect to database\nfunction dbConnect() {\n    $conn = new mysqli(DB_HOST, DB_USERNAME, DB_PASSWORD, DB_NAME);\n    if ($conn->connect_error) {\n        die(\"Connection failed: \" . $conn->connect_error);\n    }\n    return $conn;\n}\n\n// User registration function\nfunction registerUser($email, $password, $username) {\n    // Connect to database\n    $conn = dbConnect();\n    \n    // Hash password (e.g., using SHA-256)\n    $hashedPassword = hash('sha256', $password);\n    \n    // Prepare SQL query\n    $query = \"INSERT INTO users (email, password, username) VALUES (?, ?, ?)\";\n    $stmt = $conn->prepare($query);\n    \n    // Bind parameters\n    $stmt->bind_param(\"sss\", $email, $hashedPassword, $username);\n    \n    // Execute query\n    if ($stmt->execute()) {\n        echo \"User registered successfully!\";\n        return true;\n    } else {\n        echo \"Error registering user: \" . $conn->error;\n        return false;\n    }\n}\n\n// Handle form submission (e.g., via a HTML form)\nif ($_SERVER[\"REQUEST_METHOD\"] == \"POST\") {\n    $email = $_POST['email'];\n    $password = $_POST['password'];\n    $username = $_POST['username'];\n    \n    if (!empty($email) && !empty($password) && !empty($username)) {\n        // Check for existing user (e.g., by email)\n        $conn = dbConnect();\n        $query = \"SELECT * FROM users WHERE email = ?\";\n        $stmt = $conn->prepare($query);\n        $stmt->bind_param(\"s\", $email);\n        $stmt->execute();\n        $result = $stmt->get_result();\n        \n        if ($result->num_rows > 0) {\n            echo \"User already exists with this email address.\";\n        } else {\n            // Register user\n            $registered = registerUser($email, $password, $username);\n            if (!$registered) {\n                // Error registering user\n            }\n        }\n    } else {\n        echo \"Please fill in all fields.\";\n    }\n}\n?>\n```", null]}
