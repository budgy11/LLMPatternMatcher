{"prompt": "Create a user registration function using php", "llm_output": "Here is an example of a simple user registration function in PHP:\n\n**register.php**\n```php\n<?php\n\n// Configuration\n$db_host = 'localhost';\n$db_username = 'your_username';\n$db_password = 'your_password';\n$db_name = 'your_database';\n\n// Connect to database\n$conn = new mysqli($db_host, $db_username, $db_password, $db_name);\n\n// Check connection\nif ($conn->connect_error) {\n    die(\"Connection failed: \" . $conn->connect_error);\n}\n\n// Function to register a user\nfunction register_user($username, $email, $password) {\n    // Hash password\n    $password = hash('sha256', $password);\n\n    // Query to insert new user\n    $query = \"\n        INSERT INTO users (username, email, password)\n        VALUES ('$username', '$email', '$password')\n    \";\n\n    // Execute query\n    if ($conn->query($query) === TRUE) {\n        echo \"User registered successfully!\";\n    } else {\n        echo \"Error: \" . $query . \"<br>\" . $conn->error;\n    }\n}\n\n// Check for form submission\nif ($_SERVER[\"REQUEST_METHOD\"] == \"POST\") {\n    // Get posted values\n    $username = $_POST['username'];\n    $email = $_POST['email'];\n    $password = $_POST['password'];\n\n    // Register user\n    register_user($username, $email, $password);\n}\n\n// Close connection\n$conn->close();\n\n?>\n```\n**register.html**\n```html\n<!DOCTYPE html>\n<html>\n<head>\n    <title>Register</title>\n</head>\n<body>\n    <h1>Register</h1>\n\n    <form action=\"register.php\" method=\"post\">\n        <label for=\"username\">Username:</label>\n        <input type=\"text\" id=\"username\" name=\"username\"><br><br>\n\n        <label for=\"email\">Email:</label>\n        <input type=\"email\" id=\"email\" name=\"email\"><br><br>\n\n        <label for=\"password\">Password:</label>\n        <input type=\"password\" id=\"password\" name=\"password\"><br><br>\n\n        <button type=\"submit\">Register</button>\n    </form>\n</body>\n</html>\n```\nThis example uses a simple HTML form to collect user input, which is then sent to the `register.php` script using the `POST` method. The script checks if the form has been submitted, and if so, it extracts the posted values and calls the `register_user()` function.\n\nThe `register_user()` function takes three arguments: `$username`, `$email`, and `$password`. It hashes the password using SHA-256, then inserts a new user into the database using an SQL query. If the insertion is successful, it outputs a success message; otherwise, it outputs an error message with the query and the database error.\n\nNote that this is a very basic example and does not include any validation or error checking for the posted values. In a real-world application, you would want to add checks for things like:\n\n* Validating the username and email\n* Ensuring the password meets certain criteria (e.g., length, complexity)\n* Checking if the user already exists in the database\n* Hashing the password securely\n\nAlso, this example uses a MySQL connection, but you can easily adapt it to use another database system.\n\nPlease note that in production environment, you should always validate and sanitize your input data to prevent SQL injection attacks.", "code_blocks": ["```php\n<?php\n\n// Configuration\n$db_host = 'localhost';\n$db_username = 'your_username';\n$db_password = 'your_password';\n$db_name = 'your_database';\n\n// Connect to database\n$conn = new mysqli($db_host, $db_username, $db_password, $db_name);\n\n// Check connection\nif ($conn->connect_error) {\n    die(\"Connection failed: \" . $conn->connect_error);\n}\n\n// Function to register a user\nfunction register_user($username, $email, $password) {\n    // Hash password\n    $password = hash('sha256', $password);\n\n    // Query to insert new user\n    $query = \"\n        INSERT INTO users (username, email, password)\n        VALUES ('$username', '$email', '$password')\n    \";\n\n    // Execute query\n    if ($conn->query($query) === TRUE) {\n        echo \"User registered successfully!\";\n    } else {\n        echo \"Error: \" . $query . \"<br>\" . $conn->error;\n    }\n}\n\n// Check for form submission\nif ($_SERVER[\"REQUEST_METHOD\"] == \"POST\") {\n    // Get posted values\n    $username = $_POST['username'];\n    $email = $_POST['email'];\n    $password = $_POST['password'];\n\n    // Register user\n    register_user($username, $email, $password);\n}\n\n// Close connection\n$conn->close();\n\n?>\n```", null]}
