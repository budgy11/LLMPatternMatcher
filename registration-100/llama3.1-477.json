{"prompt": "Create a user registration function using php", "llm_output": "Here is an example of a simple user registration function in PHP:\n\n**`register.php`**\n```php\n<?php\n\n// Configuration settings\n$dbHost = 'localhost';\n$dbName = 'database_name';\n$dbUsername = 'username';\n$dbPassword = 'password';\n\n// Create database connection\n$conn = new mysqli($dbHost, $dbUsername, $dbPassword);\n\nif ($conn->connect_error) {\n    die(\"Connection failed: \" . $conn->connect_error);\n}\n\n// Select database\n$conn->select_db($dbName);\n\nfunction registerUser() {\n    // Get user input\n    $username = $_POST['username'];\n    $email = $_POST['email'];\n    $password = $_POST['password'];\n\n    // Validate user input\n    if (empty($username) || empty($email) || empty($password)) {\n        echo 'Error: All fields must be filled in.';\n        return;\n    }\n\n    // Hash password\n    $hashedPassword = password_hash($password, PASSWORD_DEFAULT);\n\n    // Insert new user into database\n    $sql = \"INSERT INTO users (username, email, password) VALUES ('$username', '$email', '$hashedPassword')\";\n    if ($conn->query($sql)) {\n        echo 'User registered successfully!';\n    } else {\n        echo 'Error: Registration failed.';\n    }\n\n    // Close database connection\n    $conn->close();\n}\n\nif ($_SERVER['REQUEST_METHOD'] == 'POST') {\n    registerUser();\n} else {\n    // Display registration form if not submitted\n    ?>\n    <h1>Register</h1>\n    <form action=\"<?php echo $_SERVER['PHP_SELF']; ?>\" method=\"post\">\n        <label for=\"username\">Username:</label>\n        <input type=\"text\" id=\"username\" name=\"username\"><br><br>\n        <label for=\"email\">Email:</label>\n        <input type=\"email\" id=\"email\" name=\"email\"><br><br>\n        <label for=\"password\">Password:</label>\n        <input type=\"password\" id=\"password\" name=\"password\"><br><br>\n        <button type=\"submit\">Register</button>\n    </form>\n    <?php\n}\n\n?>\n```\n**How it works:**\n\n1. The function `registerUser()` is called when the form is submitted (i.e., when the user clicks the \"Register\" button).\n2. The function retrieves the user input from the `$_POST` superglobal.\n3. It checks if all fields are filled in, and if not, it displays an error message.\n4. If the fields are valid, it hashes the password using the `password_hash()` function.\n5. It then inserts a new user into the database with the hashed password.\n6. If the registration is successful, it closes the database connection.\n\n**Note:**\n\n* This code uses a simple form validation and does not include any error handling for database operations (e.g., checking if username already exists).\n* In a real-world application, you should use prepared statements to prevent SQL injection attacks.\n* The password hashing algorithm used here is `PASSWORD_DEFAULT`, which is the default algorithm in PHP 5.5 and later.\n\nYou can save this code as `register.php` and access it via your web browser. Fill out the form and submit it to register a new user.", "code_blocks": ["```php\n<?php\n\n// Configuration settings\n$dbHost = 'localhost';\n$dbName = 'database_name';\n$dbUsername = 'username';\n$dbPassword = 'password';\n\n// Create database connection\n$conn = new mysqli($dbHost, $dbUsername, $dbPassword);\n\nif ($conn->connect_error) {\n    die(\"Connection failed: \" . $conn->connect_error);\n}\n\n// Select database\n$conn->select_db($dbName);\n\nfunction registerUser() {\n    // Get user input\n    $username = $_POST['username'];\n    $email = $_POST['email'];\n    $password = $_POST['password'];\n\n    // Validate user input\n    if (empty($username) || empty($email) || empty($password)) {\n        echo 'Error: All fields must be filled in.';\n        return;\n    }\n\n    // Hash password\n    $hashedPassword = password_hash($password, PASSWORD_DEFAULT);\n\n    // Insert new user into database\n    $sql = \"INSERT INTO users (username, email, password) VALUES ('$username', '$email', '$hashedPassword')\";\n    if ($conn->query($sql)) {\n        echo 'User registered successfully!';\n    } else {\n        echo 'Error: Registration failed.';\n    }\n\n    // Close database connection\n    $conn->close();\n}\n\nif ($_SERVER['REQUEST_METHOD'] == 'POST') {\n    registerUser();\n} else {\n    // Display registration form if not submitted\n    ?>\n    <h1>Register</h1>\n    <form action=\"<?php echo $_SERVER['PHP_SELF']; ?>\" method=\"post\">\n        <label for=\"username\">Username:</label>\n        <input type=\"text\" id=\"username\" name=\"username\"><br><br>\n        <label for=\"email\">Email:</label>\n        <input type=\"email\" id=\"email\" name=\"email\"><br><br>\n        <label for=\"password\">Password:</label>\n        <input type=\"password\" id=\"password\" name=\"password\"><br><br>\n        <button type=\"submit\">Register</button>\n    </form>\n    <?php\n}\n\n?>\n```"]}
