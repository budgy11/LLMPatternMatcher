{"prompt": "Create a user registration function using php", "llm_output": "Here's an example of a simple user registration function in PHP:\n\n**register.php**\n```php\n<?php\n\n// Configuration\n$dbHost = 'localhost';\n$dbUsername = 'your_username';\n$dbPassword = 'your_password';\n$dbName = 'your_database';\n\n// Connect to database\n$conn = new mysqli($dbHost, $dbUsername, $dbPassword, $dbName);\n\nif ($conn->connect_error) {\n    die(\"Connection failed: \" . $conn->connect_error);\n}\n\nfunction registerUser() {\n    // Check if all fields are filled\n    if (isset($_POST['username']) && isset($_POST['email']) && isset($_POST['password'])) {\n        $username = $_POST['username'];\n        $email = $_POST['email'];\n        $password = $_POST['password'];\n\n        // Hash password\n        $hashedPassword = password_hash($password, PASSWORD_DEFAULT);\n\n        // Insert user into database\n        $sql = \"INSERT INTO users (username, email, password) VALUES (?, ?, ?)\";\n        $stmt = $conn->prepare($sql);\n        $stmt->bind_param(\"sss\", $username, $email, $hashedPassword);\n        $result = $stmt->execute();\n\n        if ($result) {\n            echo \"User registered successfully!\";\n        } else {\n            echo \"Error registering user: \" . $stmt->error;\n        }\n    } else {\n        echo \"Please fill in all fields\";\n    }\n}\n\n// Check for POST request\nif (isset($_POST['register'])) {\n    registerUser();\n}\n\n?>\n```\n\n**index.html**\n```html\n<!DOCTYPE html>\n<html>\n<head>\n    <title>Register</title>\n</head>\n<body>\n    <h1>Register</h1>\n    <form action=\"register.php\" method=\"post\">\n        <label for=\"username\">Username:</label>\n        <input type=\"text\" id=\"username\" name=\"username\"><br><br>\n        <label for=\"email\">Email:</label>\n        <input type=\"email\" id=\"email\" name=\"email\"><br><br>\n        <label for=\"password\">Password:</label>\n        <input type=\"password\" id=\"password\" name=\"password\"><br><br>\n        <button type=\"submit\" name=\"register\">Register</button>\n    </form>\n</body>\n</html>\n```\n\n**Explanation:**\n\n1. In the `register.php` file, we first establish a connection to the database using `mysqli`.\n2. We define a function called `registerUser()` that checks if all fields are filled in the form.\n3. If all fields are filled, it hashes the password and inserts the user into the database using prepared statements.\n4. In the `index.html` file, we create a simple registration form with text input for username, email, and password.\n5. When the form is submitted, it sends a POST request to the `register.php` file.\n\nNote: This code uses PHP's built-in `password_hash()` function to hash the password, which is recommended for secure password storage.\n\n**Advice:**\n\n* In a real-world application, you would want to add more validation and error checking.\n* You should also consider using prepared statements with parameterized queries instead of concatenating user input into SQL queries.\n* Make sure to update your database schema to include the necessary columns (e.g., `username`, `email`, `password`) before running this code.", "code_blocks": ["```php\n<?php\n\n// Configuration\n$dbHost = 'localhost';\n$dbUsername = 'your_username';\n$dbPassword = 'your_password';\n$dbName = 'your_database';\n\n// Connect to database\n$conn = new mysqli($dbHost, $dbUsername, $dbPassword, $dbName);\n\nif ($conn->connect_error) {\n    die(\"Connection failed: \" . $conn->connect_error);\n}\n\nfunction registerUser() {\n    // Check if all fields are filled\n    if (isset($_POST['username']) && isset($_POST['email']) && isset($_POST['password'])) {\n        $username = $_POST['username'];\n        $email = $_POST['email'];\n        $password = $_POST['password'];\n\n        // Hash password\n        $hashedPassword = password_hash($password, PASSWORD_DEFAULT);\n\n        // Insert user into database\n        $sql = \"INSERT INTO users (username, email, password) VALUES (?, ?, ?)\";\n        $stmt = $conn->prepare($sql);\n        $stmt->bind_param(\"sss\", $username, $email, $hashedPassword);\n        $result = $stmt->execute();\n\n        if ($result) {\n            echo \"User registered successfully!\";\n        } else {\n            echo \"Error registering user: \" . $stmt->error;\n        }\n    } else {\n        echo \"Please fill in all fields\";\n    }\n}\n\n// Check for POST request\nif (isset($_POST['register'])) {\n    registerUser();\n}\n\n?>\n```", null]}
