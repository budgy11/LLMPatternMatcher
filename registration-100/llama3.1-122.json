{"prompt": "Create a user registration function using php", "llm_output": "Here's an example of a simple user registration function in PHP:\n\n**Registration Function**\n```php\n<?php\n\nfunction registerUser($username, $email, $password) {\n    // Connect to database\n    include_once 'dbconnect.php';\n    \n    // Check if username is available\n    $query = \"SELECT * FROM users WHERE username='$username'\";\n    $result = mysqli_query($conn, $query);\n    if (mysqli_num_rows($result) > 0) {\n        return array(\"error\" => \"Username already exists\");\n    }\n    \n    // Hash password\n    $passwordHashed = password_hash($password, PASSWORD_DEFAULT);\n    \n    // Insert new user into database\n    $query = \"INSERT INTO users (username, email, password) VALUES ('$username', '$email', '$passwordHashed')\";\n    mysqli_query($conn, $query);\n    \n    return array(\"message\" => \"User registered successfully\");\n}\n\n?>\n```\n**Explanation**\n\n* The function takes three parameters: `$username`, `$email`, and `$password`.\n* It checks if the username is already available in the database by querying the `users` table. If it exists, it returns an error message.\n* It hashes the password using the `password_hash()` function to store it securely in the database.\n* It inserts a new user into the `users` table with their details.\n\n**Example Usage**\n```php\n$registered = registerUser('johnDoe', 'johndoe@example.com', 'mysecretpassword');\nif ($registered['error']) {\n    echo $registered['error'];\n} else {\n    echo \"Registration successful!\";\n}\n```\n**Security Note**\n\n* Always use prepared statements instead of concatenating SQL queries to prevent SQL injection attacks.\n* Use a secure password hashing algorithm like `password_hash()` to store passwords securely.\n* Never store user input (like passwords) in plain text.", "code_blocks": ["```php\n<?php\n\nfunction registerUser($username, $email, $password) {\n    // Connect to database\n    include_once 'dbconnect.php';\n    \n    // Check if username is available\n    $query = \"SELECT * FROM users WHERE username='$username'\";\n    $result = mysqli_query($conn, $query);\n    if (mysqli_num_rows($result) > 0) {\n        return array(\"error\" => \"Username already exists\");\n    }\n    \n    // Hash password\n    $passwordHashed = password_hash($password, PASSWORD_DEFAULT);\n    \n    // Insert new user into database\n    $query = \"INSERT INTO users (username, email, password) VALUES ('$username', '$email', '$passwordHashed')\";\n    mysqli_query($conn, $query);\n    \n    return array(\"message\" => \"User registered successfully\");\n}\n\n?>\n```", "```php\n$registered = registerUser('johnDoe', 'johndoe@example.com', 'mysecretpassword');\nif ($registered['error']) {\n    echo $registered['error'];\n} else {\n    echo \"Registration successful!\";\n}\n```"]}
