{"prompt": "Create a user registration function using php", "llm_output": "Here is an example of a user registration function in PHP:\n\n```php\n<?php\n// Configuration settings for database connection and email sending\n$dbHost = 'localhost';\n$dbUsername = 'your_username';\n$dbPassword = 'your_password';\n$dbName = 'your_database_name';\n\nfunction registerUser() {\n    // Get form data from the HTML form\n    $username = $_POST['username'];\n    $email = $_POST['email'];\n    $password = $_POST['password'];\n    $confirm_password = $_POST['confirm_password'];\n\n    // Validate form data\n    if (empty($username) || empty($email) || empty($password) || empty($confirm_password)) {\n        echo \"Please fill in all fields.\";\n        return;\n    }\n\n    if (!filter_var($email, FILTER_VALIDATE_EMAIL)) {\n        echo \"Invalid email address.\";\n        return;\n    }\n\n    if ($password !== $confirm_password) {\n        echo \"Passwords do not match.\";\n        return;\n    }\n\n    // Hash the password for security\n    $hashedPassword = password_hash($password, PASSWORD_DEFAULT);\n\n    // Connect to database\n    $conn = new mysqli($dbHost, $dbUsername, $dbPassword, $dbName);\n    if ($conn->connect_error) {\n        echo \"Failed to connect to database: \" . $conn->connect_error;\n        return;\n    }\n\n    // Create user account in the database\n    $sql = \"INSERT INTO users (username, email, password)\n            VALUES ('$username', '$email', '$hashedPassword')\";\n    if (!$conn->query($sql)) {\n        echo \"Failed to create user account.\";\n        return;\n    }\n\n    // Send a confirmation email to the new user\n    $toEmail = $email;\n    $subject = 'Account Confirmation';\n    $body = 'Hello, your account has been created successfully!';\n    $fromEmail = 'your_email@example.com';\n\n    try {\n        mail($toEmail, $subject, $body, \"From: $fromEmail\");\n        echo \"User registered successfully!\";\n    } catch (Exception $e) {\n        echo \"Error sending email: \" . $e->getMessage();\n    }\n\n    // Close database connection\n    $conn->close();\n}\n\n// Check if the registration form has been submitted\nif (isset($_POST['register'])) {\n    registerUser();\n}\n?>\n```\n\nTo use this code, you'll need to:\n\n1. Create a new PHP file for your user registration script.\n2. Replace `'your_username'`, `'your_password'`, and `'your_database_name'` with your actual database credentials and name.\n3. Set up an email account for sending confirmation emails to users.\n4. Create the necessary tables in your database, such as a `users` table with columns for `username`, `email`, and `password`.\n5. Call this function from your HTML form when it's submitted.\n\n**Example Use Case:**\n\n```html\n<!-- registration.html -->\n\n<form action=\"register.php\" method=\"post\">\n    <input type=\"text\" name=\"username\" placeholder=\"Username\">\n    <input type=\"email\" name=\"email\" placeholder=\"Email\">\n    <input type=\"password\" name=\"password\" placeholder=\"Password\">\n    <input type=\"password\" name=\"confirm_password\" placeholder=\"Confirm Password\">\n    <button type=\"submit\" name=\"register\">Register</button>\n</form>\n```\n\nThis code will create a new user account in the database with the provided email and password, and send a confirmation email to the user.", "code_blocks": ["```php\n<?php\n// Configuration settings for database connection and email sending\n$dbHost = 'localhost';\n$dbUsername = 'your_username';\n$dbPassword = 'your_password';\n$dbName = 'your_database_name';\n\nfunction registerUser() {\n    // Get form data from the HTML form\n    $username = $_POST['username'];\n    $email = $_POST['email'];\n    $password = $_POST['password'];\n    $confirm_password = $_POST['confirm_password'];\n\n    // Validate form data\n    if (empty($username) || empty($email) || empty($password) || empty($confirm_password)) {\n        echo \"Please fill in all fields.\";\n        return;\n    }\n\n    if (!filter_var($email, FILTER_VALIDATE_EMAIL)) {\n        echo \"Invalid email address.\";\n        return;\n    }\n\n    if ($password !== $confirm_password) {\n        echo \"Passwords do not match.\";\n        return;\n    }\n\n    // Hash the password for security\n    $hashedPassword = password_hash($password, PASSWORD_DEFAULT);\n\n    // Connect to database\n    $conn = new mysqli($dbHost, $dbUsername, $dbPassword, $dbName);\n    if ($conn->connect_error) {\n        echo \"Failed to connect to database: \" . $conn->connect_error;\n        return;\n    }\n\n    // Create user account in the database\n    $sql = \"INSERT INTO users (username, email, password)\n            VALUES ('$username', '$email', '$hashedPassword')\";\n    if (!$conn->query($sql)) {\n        echo \"Failed to create user account.\";\n        return;\n    }\n\n    // Send a confirmation email to the new user\n    $toEmail = $email;\n    $subject = 'Account Confirmation';\n    $body = 'Hello, your account has been created successfully!';\n    $fromEmail = 'your_email@example.com';\n\n    try {\n        mail($toEmail, $subject, $body, \"From: $fromEmail\");\n        echo \"User registered successfully!\";\n    } catch (Exception $e) {\n        echo \"Error sending email: \" . $e->getMessage();\n    }\n\n    // Close database connection\n    $conn->close();\n}\n\n// Check if the registration form has been submitted\nif (isset($_POST['register'])) {\n    registerUser();\n}\n?>\n```", null]}
