{"prompt": "Create a user registration function using php", "llm_output": "Here is an example of a user registration function in PHP:\n\n**user_registration.php**\n```php\n<?php\n\n// Configuration settings\nrequire_once 'config.php';\n\nfunction registerUser($name, $email, $password) {\n    // Check if email already exists in database\n    $existingEmail = getUserByEmail($email);\n    if ($existingEmail !== false) {\n        return array('error' => 'Email already registered.');\n    }\n\n    // Hash password using SHA-256\n    $hashedPassword = hash('sha256', $password);\n\n    // Insert new user into database\n    $query = \"INSERT INTO users (name, email, password) VALUES (:name, :email, :password)\";\n    $stmt = $pdo->prepare($query);\n    $stmt->bindParam(':name', $name);\n    $stmt->bindParam(':email', $email);\n    $stmt->bindParam(':password', $hashedPassword);\n    if ($stmt->execute()) {\n        // User created successfully\n        return array('success' => true, 'message' => 'User registered successfully.');\n    } else {\n        // Error creating user\n        return array('error' => 'Error registering user. Please try again.');\n    }\n}\n\nfunction getUserByEmail($email) {\n    $query = \"SELECT * FROM users WHERE email = :email\";\n    $stmt = $pdo->prepare($query);\n    $stmt->bindParam(':email', $email);\n    if ($stmt->execute()) {\n        return $stmt->fetch();\n    } else {\n        return false;\n    }\n}\n\n// Create a new PDO instance\n$pdo = new PDO('mysql:host=' . DB_HOST . ';dbname=' . DB_NAME, DB_USER, DB_PASSWORD);\n\n// Register user example usage:\n$name = 'John Doe';\n$email = 'john.doe@example.com';\n$password = 'mysecretpassword';\n\n$response = registerUser($name, $email, $password);\necho json_encode($response);\n\n?>\n```\n**config.php**\n```php\n<?php\n\n// Database configuration settings\ndefine('DB_HOST', 'localhost');\ndefine('DB_NAME', 'database_name');\ndefine('DB_USER', 'database_username');\ndefine('DB_PASSWORD', 'database_password');\n\n?>\n```\nIn this example, we define a `registerUser` function that takes the user's name, email, and password as arguments. The function:\n\n1. Checks if the email already exists in the database using the `getUserByEmail` function.\n2. Hashes the password using SHA-256.\n3. Inserts a new user into the database using an INSERT query with prepared statements.\n\nThe `getUserByEmail` function is used to check if an email already exists in the database.\n\nNote that you should replace the placeholders (`DB_HOST`, `DB_NAME`, etc.) in **config.php** with your actual database credentials.\n\nAlso, this example uses PDO (PHP Data Objects) for database interactions. Make sure you have it enabled in your PHP setup.", "code_blocks": ["```php\n<?php\n\n// Configuration settings\nrequire_once 'config.php';\n\nfunction registerUser($name, $email, $password) {\n    // Check if email already exists in database\n    $existingEmail = getUserByEmail($email);\n    if ($existingEmail !== false) {\n        return array('error' => 'Email already registered.');\n    }\n\n    // Hash password using SHA-256\n    $hashedPassword = hash('sha256', $password);\n\n    // Insert new user into database\n    $query = \"INSERT INTO users (name, email, password) VALUES (:name, :email, :password)\";\n    $stmt = $pdo->prepare($query);\n    $stmt->bindParam(':name', $name);\n    $stmt->bindParam(':email', $email);\n    $stmt->bindParam(':password', $hashedPassword);\n    if ($stmt->execute()) {\n        // User created successfully\n        return array('success' => true, 'message' => 'User registered successfully.');\n    } else {\n        // Error creating user\n        return array('error' => 'Error registering user. Please try again.');\n    }\n}\n\nfunction getUserByEmail($email) {\n    $query = \"SELECT * FROM users WHERE email = :email\";\n    $stmt = $pdo->prepare($query);\n    $stmt->bindParam(':email', $email);\n    if ($stmt->execute()) {\n        return $stmt->fetch();\n    } else {\n        return false;\n    }\n}\n\n// Create a new PDO instance\n$pdo = new PDO('mysql:host=' . DB_HOST . ';dbname=' . DB_NAME, DB_USER, DB_PASSWORD);\n\n// Register user example usage:\n$name = 'John Doe';\n$email = 'john.doe@example.com';\n$password = 'mysecretpassword';\n\n$response = registerUser($name, $email, $password);\necho json_encode($response);\n\n?>\n```", "```php\n<?php\n\n// Database configuration settings\ndefine('DB_HOST', 'localhost');\ndefine('DB_NAME', 'database_name');\ndefine('DB_USER', 'database_username');\ndefine('DB_PASSWORD', 'database_password');\n\n?>\n```"]}
