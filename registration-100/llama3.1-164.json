{"prompt": "Create a user registration function using php", "llm_output": "Here's an example of a basic user registration function in PHP. This code will create a new user with the provided details and add them to the database.\n\n**Note:** For this example, I'll assume you're using MySQL as your database management system.\n\n```php\n<?php\n// Configuration settings\n$host = \"localhost\";\n$dbname = \"your_database_name\";\n$username = \"your_username\";\n$password = \"your_password\";\n\n// Connect to database\n$conn = new mysqli($host, $username, $password, $dbname);\n\n// Check connection\nif ($conn->connect_error) {\n    die(\"Connection failed: \" . $conn->connect_error);\n}\n\n// Function to register a user\nfunction registerUser() {\n    global $conn;\n\n    if (isset($_POST['register'])) {\n\n        // Sanitize the input data\n        $username = mysqli_real_escape_string($conn, $_POST['username']);\n        $email = mysqli_real_escape_string($conn, $_POST['email']);\n        $password = mysqli_real_escape_string($conn, $_POST['password']);\n\n        // Validate user input\n        if (empty($username) || empty($email) || empty($password)) {\n            echo \"Please fill in all fields\";\n            return false;\n        }\n\n        // Hash password\n        $hashedPassword = password_hash($password, PASSWORD_DEFAULT);\n\n        // Query to insert new user into database\n        $sql = \"INSERT INTO users (username, email, password)\n                VALUES ('$username', '$email', '$hashedPassword')\";\n\n        if ($conn->query($sql) === TRUE) {\n            echo \"New record created successfully\";\n        } else {\n            echo \"Error: \" . $sql . \"<br>\" . $conn->error;\n        }\n\n    }\n}\n\n// Call the registerUser function\nregisterUser();\n?>\n```\n\n**HTML form to display on your webpage:**\n```html\n<form action=\"\" method=\"post\">\n    <label for=\"username\">Username:</label>\n    <input type=\"text\" id=\"username\" name=\"username\"><br><br>\n    <label for=\"email\">Email:</label>\n    <input type=\"text\" id=\"email\" name=\"email\"><br><br>\n    <label for=\"password\">Password:</label>\n    <input type=\"password\" id=\"password\" name=\"password\"><br><br>\n    <button type=\"submit\" name=\"register\">Register</button>\n</form>\n```\n\n**Explanation:**\n\n*   We use `mysqli_real_escape_string` to prevent SQL injection.\n*   The `password_hash` function is used to securely hash the user's password before storing it in the database.\n*   After registration, a confirmation message will be displayed if the operation was successful.\n\nPlease replace `$host`, `$dbname`, `$username`, and `$password` with your actual MySQL database connection details.", "code_blocks": ["```php\n<?php\n// Configuration settings\n$host = \"localhost\";\n$dbname = \"your_database_name\";\n$username = \"your_username\";\n$password = \"your_password\";\n\n// Connect to database\n$conn = new mysqli($host, $username, $password, $dbname);\n\n// Check connection\nif ($conn->connect_error) {\n    die(\"Connection failed: \" . $conn->connect_error);\n}\n\n// Function to register a user\nfunction registerUser() {\n    global $conn;\n\n    if (isset($_POST['register'])) {\n\n        // Sanitize the input data\n        $username = mysqli_real_escape_string($conn, $_POST['username']);\n        $email = mysqli_real_escape_string($conn, $_POST['email']);\n        $password = mysqli_real_escape_string($conn, $_POST['password']);\n\n        // Validate user input\n        if (empty($username) || empty($email) || empty($password)) {\n            echo \"Please fill in all fields\";\n            return false;\n        }\n\n        // Hash password\n        $hashedPassword = password_hash($password, PASSWORD_DEFAULT);\n\n        // Query to insert new user into database\n        $sql = \"INSERT INTO users (username, email, password)\n                VALUES ('$username', '$email', '$hashedPassword')\";\n\n        if ($conn->query($sql) === TRUE) {\n            echo \"New record created successfully\";\n        } else {\n            echo \"Error: \" . $sql . \"<br>\" . $conn->error;\n        }\n\n    }\n}\n\n// Call the registerUser function\nregisterUser();\n?>\n```", null]}
