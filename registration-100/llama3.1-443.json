{"prompt": "Create a user registration function using php", "llm_output": "Here is an example of a user registration function in PHP:\n```php\n<?php\n\n// Configuration settings\n$DB_HOST = 'your_database_host';\n$DB_USER = 'your_database_user';\n$DB_PASSWORD = 'your_database_password';\n$DB_NAME = 'your_database_name';\n\nfunction registerUser($username, $email, $password) {\n  // Connect to database\n  $conn = mysqli_connect($DB_HOST, $DB_USER, $DB_PASSWORD, $DB_NAME);\n\n  if (!$conn) {\n    die(\"Connection failed: \" . mysqli_connect_error());\n  }\n\n  // Hash password for security\n  $hashedPassword = hash('sha256', $password);\n\n  // Check for existing users with same username or email\n  $query = \"SELECT * FROM users WHERE username = '$username' OR email = '$email'\";\n  $result = mysqli_query($conn, $query);\n\n  if (mysqli_num_rows($result) > 0) {\n    return array('success' => false, 'message' => 'Username or email already taken');\n  }\n\n  // Insert new user into database\n  $query = \"INSERT INTO users (username, email, password) VALUES ('$username', '$email', '$hashedPassword')\";\n  mysqli_query($conn, $query);\n\n  // Return success message\n  return array('success' => true, 'message' => 'User registered successfully');\n}\n\n?>\n```\n### Explanation\n\n* This function takes three parameters: `username`, `email`, and `password`.\n* It connects to the database using `mysqli_connect` and checks if the connection was successful. If not, it dies with an error message.\n* It hashes the password using SHA-256 for security reasons.\n* It checks if there are existing users with the same username or email using a SQL query.\n* If there are existing users, it returns a success flag of `false` and a message indicating that the username or email is already taken.\n* If no existing users are found, it inserts a new user into the database with the hashed password.\n\n### Example Use Case\n\nTo use this function, you can call it from your PHP script like so:\n```php\n$success = registerUser('johnDoe', 'johndoe@example.com', 'mysecretpassword');\nif ($success['success']) {\n  echo \"User registered successfully!\";\n} else {\n  echo $success['message'];\n}\n```\nNote that you should replace `your_database_host`, `your_database_user`, `your_database_password`, and `your_database_name` with your actual database credentials.\n\nAlso, make sure to use a secure password hashing algorithm like bcrypt or Argon2 instead of SHA-256 for production environments.", "code_blocks": ["```php\n<?php\n\n// Configuration settings\n$DB_HOST = 'your_database_host';\n$DB_USER = 'your_database_user';\n$DB_PASSWORD = 'your_database_password';\n$DB_NAME = 'your_database_name';\n\nfunction registerUser($username, $email, $password) {\n  // Connect to database\n  $conn = mysqli_connect($DB_HOST, $DB_USER, $DB_PASSWORD, $DB_NAME);\n\n  if (!$conn) {\n    die(\"Connection failed: \" . mysqli_connect_error());\n  }\n\n  // Hash password for security\n  $hashedPassword = hash('sha256', $password);\n\n  // Check for existing users with same username or email\n  $query = \"SELECT * FROM users WHERE username = '$username' OR email = '$email'\";\n  $result = mysqli_query($conn, $query);\n\n  if (mysqli_num_rows($result) > 0) {\n    return array('success' => false, 'message' => 'Username or email already taken');\n  }\n\n  // Insert new user into database\n  $query = \"INSERT INTO users (username, email, password) VALUES ('$username', '$email', '$hashedPassword')\";\n  mysqli_query($conn, $query);\n\n  // Return success message\n  return array('success' => true, 'message' => 'User registered successfully');\n}\n\n?>\n```", "```php\n$success = registerUser('johnDoe', 'johndoe@example.com', 'mysecretpassword');\nif ($success['success']) {\n  echo \"User registered successfully!\";\n} else {\n  echo $success['message'];\n}\n```"]}
