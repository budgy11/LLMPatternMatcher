{"prompt": "Create a user registration function using php", "llm_output": "Here is an example of a simple user registration function in PHP:\n\n```php\n<?php\n\n// Define the database connection settings\n$db_host = 'localhost';\n$db_username = 'your_username';\n$db_password = 'your_password';\n$db_name = 'your_database';\n\n// Create a connection to the database\n$conn = new mysqli($db_host, $db_username, $db_password, $db_name);\n\nif ($conn->connect_error) {\n    die(\"Connection failed: \" . $conn->connect_error);\n}\n\nfunction register_user() {\n    global $conn;\n\n    // Get user input from the registration form\n    $username = $_POST['username'];\n    $email = $_POST['email'];\n    $password = $_POST['password'];\n\n    // Check if username and email are already taken\n    $check_username = $conn->prepare(\"SELECT * FROM users WHERE username=?\");\n    $check_email = $conn->prepare(\"SELECT * FROM users WHERE email=?\");\n\n    $check_username->bind_param('s', $username);\n    $check_email->bind_param('s', $email);\n\n    $check_username->execute();\n    $check_email->execute();\n\n    if ($check_username->get_result()->num_rows > 0 || $check_email->get_result()->num_rows > 0) {\n        echo \"Username or email already taken.\";\n        return;\n    }\n\n    // Hash the password\n    $password_hash = password_hash($password, PASSWORD_DEFAULT);\n\n    // Insert new user into database\n    $insert_user = $conn->prepare(\"INSERT INTO users (username, email, password) VALUES (?, ?, ?)\");\n    $insert_user->bind_param('sss', $username, $email, $password_hash);\n\n    if ($insert_user->execute()) {\n        echo \"User registered successfully!\";\n    } else {\n        echo \"Error registering user: \" . $conn->error;\n    }\n}\n\n// Call the register_user function when the registration form is submitted\nif (isset($_POST['register'])) {\n    register_user();\n}\n\n?>\n```\n\nThis code uses the `mysqli` extension to connect to a MySQL database and perform CRUD operations. The `register_user()` function gets user input from a form, checks if the username and email are already taken in the database, hashes the password using `password_hash()`, and inserts the new user into the database.\n\n**Example usage:**\n\n```php\n<!-- registration.html -->\n<form action=\"register.php\" method=\"post\">\n    <input type=\"text\" name=\"username\" placeholder=\"Username\">\n    <input type=\"email\" name=\"email\" placeholder=\"Email\">\n    <input type=\"password\" name=\"password\" placeholder=\"Password\">\n    <button type=\"submit\" name=\"register\">Register</button>\n</form>\n```\n\n```php\n<!-- register.php -->\n<?php include 'register.php'; ?>\n```\n\nNote: This is a simplified example and does not handle errors or edge cases. You should add additional error checking, validation, and security measures to make your application more robust.", "code_blocks": ["```php\n<?php\n\n// Define the database connection settings\n$db_host = 'localhost';\n$db_username = 'your_username';\n$db_password = 'your_password';\n$db_name = 'your_database';\n\n// Create a connection to the database\n$conn = new mysqli($db_host, $db_username, $db_password, $db_name);\n\nif ($conn->connect_error) {\n    die(\"Connection failed: \" . $conn->connect_error);\n}\n\nfunction register_user() {\n    global $conn;\n\n    // Get user input from the registration form\n    $username = $_POST['username'];\n    $email = $_POST['email'];\n    $password = $_POST['password'];\n\n    // Check if username and email are already taken\n    $check_username = $conn->prepare(\"SELECT * FROM users WHERE username=?\");\n    $check_email = $conn->prepare(\"SELECT * FROM users WHERE email=?\");\n\n    $check_username->bind_param('s', $username);\n    $check_email->bind_param('s', $email);\n\n    $check_username->execute();\n    $check_email->execute();\n\n    if ($check_username->get_result()->num_rows > 0 || $check_email->get_result()->num_rows > 0) {\n        echo \"Username or email already taken.\";\n        return;\n    }\n\n    // Hash the password\n    $password_hash = password_hash($password, PASSWORD_DEFAULT);\n\n    // Insert new user into database\n    $insert_user = $conn->prepare(\"INSERT INTO users (username, email, password) VALUES (?, ?, ?)\");\n    $insert_user->bind_param('sss', $username, $email, $password_hash);\n\n    if ($insert_user->execute()) {\n        echo \"User registered successfully!\";\n    } else {\n        echo \"Error registering user: \" . $conn->error;\n    }\n}\n\n// Call the register_user function when the registration form is submitted\nif (isset($_POST['register'])) {\n    register_user();\n}\n\n?>\n```", "```php\n<!-- registration.html -->\n<form action=\"register.php\" method=\"post\">\n    <input type=\"text\" name=\"username\" placeholder=\"Username\">\n    <input type=\"email\" name=\"email\" placeholder=\"Email\">\n    <input type=\"password\" name=\"password\" placeholder=\"Password\">\n    <button type=\"submit\" name=\"register\">Register</button>\n</form>\n```", "```php\n<!-- register.php -->\n<?php include 'register.php'; ?>\n```"]}
