{"prompt": "Create a user registration function using php", "llm_output": "**User Registration Function in PHP**\n=====================================\n\nBelow is an example of a basic user registration function written in PHP. This function will create a new user with the provided details and store them in a database (in this case, a MySQL database).\n\n**Note:** Before running this code, make sure to replace `'localhost'`, `'root'`, and `'password'` with your actual MySQL database credentials.\n\n```php\n<?php\n\n// Configuration\n$host = 'localhost';\n$dbname = 'users';\n$username = 'root';\n$password = '';\n\n// Connect to the database\n$conn = new mysqli($host, $username, $password, $dbname);\n\nif ($conn->connect_error) {\n    die(\"Connection failed: \" . $conn->connect_error);\n}\n\nfunction registerUser() {\n    // Get user input\n    $username = $_POST['username'];\n    $email = $_POST['email'];\n    $password = $_POST['password'];\n\n    // Validate user input\n    if (empty($username) || empty($email) || empty($password)) {\n        return array('error' => 'All fields are required.');\n    }\n\n    // Hash password\n    $hashedPassword = password_hash($password, PASSWORD_DEFAULT);\n\n    // Insert new user into the database\n    $sql = \"INSERT INTO users (username, email, password)\n            VALUES ('$username', '$email', '$hashedPassword')\";\n    if ($conn->query($sql) === TRUE) {\n        return array('message' => 'User created successfully!');\n    } else {\n        return array('error' => 'Error creating user: ' . $conn->error);\n    }\n}\n\n// Handle POST request\nif ($_SERVER['REQUEST_METHOD'] == 'POST') {\n    $result = registerUser();\n    echo json_encode($result);\n} else {\n    echo \"Invalid request method.\";\n}\n\n// Close database connection\n$conn->close();\n\n?>\n```\n\n**Usage:**\n\nTo use this function, create a new PHP file (e.g., `register.php`) and add the above code. Then, create an HTML form with fields for username, email, and password. Use JavaScript to send the form data as a POST request to your `register.php` script.\n\nHere's an example HTML form:\n```html\n<form id=\"register-form\">\n    <label>Username:</label>\n    <input type=\"text\" name=\"username\"><br><br>\n    <label>Email:</label>\n    <input type=\"email\" name=\"email\"><br><br>\n    <label>Password:</label>\n    <input type=\"password\" name=\"password\"><br><br>\n    <button id=\"register-btn\">Register</button>\n</form>\n\n<script>\n    document.getElementById('register-btn').addEventListener('click', function() {\n        var formData = new FormData(document.getElementById('register-form'));\n        fetch('register.php', { method: 'POST', body: formData })\n            .then(response => response.json())\n            .then(data => console.log(data));\n    });\n</script>\n```\nThis is a basic example of user registration in PHP. Make sure to add proper error handling and validation according to your specific needs.", "code_blocks": ["```php\n<?php\n\n// Configuration\n$host = 'localhost';\n$dbname = 'users';\n$username = 'root';\n$password = '';\n\n// Connect to the database\n$conn = new mysqli($host, $username, $password, $dbname);\n\nif ($conn->connect_error) {\n    die(\"Connection failed: \" . $conn->connect_error);\n}\n\nfunction registerUser() {\n    // Get user input\n    $username = $_POST['username'];\n    $email = $_POST['email'];\n    $password = $_POST['password'];\n\n    // Validate user input\n    if (empty($username) || empty($email) || empty($password)) {\n        return array('error' => 'All fields are required.');\n    }\n\n    // Hash password\n    $hashedPassword = password_hash($password, PASSWORD_DEFAULT);\n\n    // Insert new user into the database\n    $sql = \"INSERT INTO users (username, email, password)\n            VALUES ('$username', '$email', '$hashedPassword')\";\n    if ($conn->query($sql) === TRUE) {\n        return array('message' => 'User created successfully!');\n    } else {\n        return array('error' => 'Error creating user: ' . $conn->error);\n    }\n}\n\n// Handle POST request\nif ($_SERVER['REQUEST_METHOD'] == 'POST') {\n    $result = registerUser();\n    echo json_encode($result);\n} else {\n    echo \"Invalid request method.\";\n}\n\n// Close database connection\n$conn->close();\n\n?>\n```", null]}
