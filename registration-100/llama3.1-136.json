{"prompt": "Create a user registration function using php", "llm_output": "Here is an example of a simple user registration function using PHP:\n\n**User Registration Function**\n```php\nfunction register_user($name, $email, $password) {\n    // Check if email already exists in database\n    $query = \"SELECT * FROM users WHERE email = '$email'\";\n    $result = mysqli_query($link, $query);\n    if (mysqli_num_rows($result) > 0) {\n        return array('error' => 'Email already exists');\n    }\n\n    // Hash password using SHA-256\n    $hashed_password = hash('sha256', $password);\n\n    // Insert new user into database\n    $query = \"INSERT INTO users (name, email, password) VALUES ('$name', '$email', '$hashed_password')\";\n    if (!mysqli_query($link, $query)) {\n        return array('error' => 'Error registering user');\n    }\n\n    return array('success' => 'User registered successfully');\n}\n```\n**Explanation**\n\n* This function takes in three parameters: `$name`, `$email`, and `$password`.\n* It first checks if the email already exists in the database by querying the `users` table. If it does, it returns an error message.\n* If the email doesn't exist, it hashes the password using SHA-256 and inserts a new user into the database with the provided details.\n* Finally, it returns a success message or an error message depending on whether the registration was successful.\n\n**Example Use Case**\n\n```php\n// Assume $link is a valid MySQL connection link\n$name = 'John Doe';\n$email = 'johndoe@example.com';\n$password = 'password123';\n\n$result = register_user($name, $email, $password);\nif ($result['success']) {\n    echo \"User registered successfully!\";\n} else {\n    echo \"Error registering user: \" . $result['error'];\n}\n```\n**Note**: This is a simplified example and you should consider implementing additional security measures such as:\n\n* Salting passwords\n* Using a more secure hashing algorithm (e.g. bcrypt)\n* Validating form inputs for common web attacks (e.g. SQL injection, cross-site scripting)\n\nAlso, this code assumes that you have already set up a MySQL database with a `users` table containing the necessary columns (name, email, password).", "code_blocks": ["```php\nfunction register_user($name, $email, $password) {\n    // Check if email already exists in database\n    $query = \"SELECT * FROM users WHERE email = '$email'\";\n    $result = mysqli_query($link, $query);\n    if (mysqli_num_rows($result) > 0) {\n        return array('error' => 'Email already exists');\n    }\n\n    // Hash password using SHA-256\n    $hashed_password = hash('sha256', $password);\n\n    // Insert new user into database\n    $query = \"INSERT INTO users (name, email, password) VALUES ('$name', '$email', '$hashed_password')\";\n    if (!mysqli_query($link, $query)) {\n        return array('error' => 'Error registering user');\n    }\n\n    return array('success' => 'User registered successfully');\n}\n```", "```php\n// Assume $link is a valid MySQL connection link\n$name = 'John Doe';\n$email = 'johndoe@example.com';\n$password = 'password123';\n\n$result = register_user($name, $email, $password);\nif ($result['success']) {\n    echo \"User registered successfully!\";\n} else {\n    echo \"Error registering user: \" . $result['error'];\n}\n```"]}
